var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function s(t){t.forEach(r)}function o(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(t,e,n,r){if(t){const i=c(t,e,n,r);return t[0](i)}}function c(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function l(t,e,n,r,i,s,o){const a=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,s);if(a){const i=c(e,n,r,o);t.p(i,a)}}function h(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function p(t,e){const n={};e=new Set(e);for(const r in t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}function f(t){return null==t?"":t}function d(e){return e&&o(e.destroy)?e.destroy:t}const m="undefined"!=typeof window;let _=m?()=>window.performance.now():()=>Date.now(),g=m?t=>requestAnimationFrame(t):t;const v=new Set;function y(t){v.forEach((e=>{e.c(t)||(v.delete(e),e.f())})),0!==v.size&&g(y)}function w(t,e){t.appendChild(e)}function x(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode.removeChild(t)}function T(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function C(t){return document.createElement(t)}function A(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function k(t){return document.createTextNode(t)}function S(){return k(" ")}function O(){return k("")}function M(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function E(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function I(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:E(t,r,e[r])}function D(t,e){for(const n in e)E(t,n,e[n])}function $(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function R(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function N(t,e,n){t.classList[n?"add":"remove"](e)}function V(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const P=new Set;let q,j=0;function F(t,e,n,r,i,s,o,a=0){const u=16.666/r;let c="{\n";for(let t=0;t<=1;t+=u){const r=e+(n-e)*s(t);c+=100*t+`%{${o(r,1-r)}}\n`}const l=c+`100% {${o(n,1-n)}}\n}`,h=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(l)}_${a}`,p=t.ownerDocument;P.add(p);const f=p.__svelte_stylesheet||(p.__svelte_stylesheet=p.head.appendChild(C("style")).sheet),d=p.__svelte_rules||(p.__svelte_rules={});d[h]||(d[h]=!0,f.insertRule(`@keyframes ${h} ${l}`,f.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${h} ${r}ms linear ${i}ms 1 both`,j+=1,h}function W(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),j-=i,j||g((()=>{j||(P.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),P.clear())})))}function L(t){q=t}function B(){if(!q)throw new Error("Function called outside component initialization");return q}function z(){const t=B();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=V(e,n);r.slice().forEach((e=>{e.call(t,i)}))}}}const U=[],G=[],Z=[],Y=[],X=Promise.resolve();let H=!1;function Q(t){Z.push(t)}function J(t){Y.push(t)}let K=!1;const tt=new Set;function et(){if(!K){K=!0;do{for(let t=0;t<U.length;t+=1){const e=U[t];L(e),nt(e.$$)}for(L(null),U.length=0;G.length;)G.pop()();for(let t=0;t<Z.length;t+=1){const e=Z[t];tt.has(e)||(tt.add(e),e())}Z.length=0}while(U.length);for(;Y.length;)Y.pop()();H=!1,K=!1,tt.clear()}}function nt(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Q)}}let rt;function it(t,e,n){t.dispatchEvent(V(`${e?"intro":"outro"}${n}`))}const st=new Set;let ot;function at(){ot={r:0,c:[],p:ot}}function ut(){ot.r||s(ot.c),ot=ot.p}function ct(t,e){t&&t.i&&(st.delete(t),t.i(e))}function lt(t,e,n,r){if(t&&t.o){if(st.has(t))return;st.add(t),ot.c.push((()=>{st.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const ht={duration:0};function pt(n,r,i,a){let u=r(n,i),c=a?0:1,l=null,h=null,p=null;function f(){p&&W(n,p)}function d(t,e){const n=t.b-c;return e*=Math.abs(n),{a:c,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function m(r){const{delay:i=0,duration:o=300,easing:a=e,tick:m=t,css:w}=u||ht,x={start:_()+i,b:r};r||(x.group=ot,ot.r+=1),l||h?h=x:(w&&(f(),p=F(n,c,r,o,i,a,w)),r&&m(0,1),l=d(x,o),Q((()=>it(n,r,"start"))),function(t){let e;0===v.size&&g(y),new Promise((n=>{v.add(e={c:t,f:n})}))}((t=>{if(h&&t>h.start&&(l=d(h,o),h=null,it(n,l.b,"start"),w&&(f(),p=F(n,c,l.b,l.duration,0,a,u.css))),l)if(t>=l.end)m(c=l.b,1-c),it(n,l.b,"end"),h||(l.b?f():--l.group.r||s(l.group.c)),l=null;else if(t>=l.start){const e=t-l.start;c=l.a+l.d*a(e/l.duration),m(c,1-c)}return!(!l&&!h)})))}return{run(t){o(u)?(rt||(rt=Promise.resolve(),rt.then((()=>{rt=null}))),rt).then((()=>{u=u(),m(t)})):m(t)},end(){f(),l=h=null}}}function ft(t,e){const n={},r={},i={$$scope:1};let s=t.length;for(;s--;){const o=t[s],a=e[s];if(a){for(const t in o)t in a||(r[t]=1);for(const t in a)i[t]||(n[t]=a[t],i[t]=1);t[s]=a}else for(const t in o)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function dt(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function mt(t){t&&t.c()}function _t(t,e,n,i){const{fragment:a,on_mount:u,on_destroy:c,after_update:l}=t.$$;a&&a.m(e,n),i||Q((()=>{const e=u.map(r).filter(o);c?c.push(...e):s(e),t.$$.on_mount=[]})),l.forEach(Q)}function gt(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function vt(t,e){-1===t.$$.dirty[0]&&(U.push(t),H||(H=!0,X.then(et)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function yt(e,n,r,o,a,u,c=[-1]){const l=q;L(e);const h=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:i(),dirty:c,skip_bound:!1};let p=!1;if(h.ctx=r?r(e,n.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&a(h.ctx[t],h.ctx[t]=i)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](i),p&&vt(e,t)),n})):[],h.update(),p=!0,s(h.before_update),h.fragment=!!o&&o(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(b)}else h.fragment&&h.fragment.c();n.intro&&ct(e.$$.fragment),_t(e,n.target,n.anchor,n.customElement),et()}L(l)}class wt{$destroy(){gt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var xt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function bt(t){var e={exports:{}};return t(e,e.exports),e.exports
/**
     * @license
     * Lodash <https://lodash.com/>
     * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
     * Released under MIT license <https://lodash.com/license>
     * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
     * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
     */}var Tt=bt((function(t,e){(function(){var n,r="Expected a function",i="__lodash_hash_undefined__",s="__lodash_placeholder__",o=16,a=32,u=64,c=128,l=256,h=1/0,p=9007199254740991,f=NaN,d=4294967295,m=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",o],["flip",512],["partial",a],["partialRight",u],["rearg",l]],_="[object Arguments]",g="[object Array]",v="[object Boolean]",y="[object Date]",w="[object Error]",x="[object Function]",b="[object GeneratorFunction]",T="[object Map]",C="[object Number]",A="[object Object]",k="[object Promise]",S="[object RegExp]",O="[object Set]",M="[object String]",E="[object Symbol]",I="[object WeakMap]",D="[object ArrayBuffer]",$="[object DataView]",R="[object Float32Array]",N="[object Float64Array]",V="[object Int8Array]",P="[object Int16Array]",q="[object Int32Array]",j="[object Uint8Array]",F="[object Uint8ClampedArray]",W="[object Uint16Array]",L="[object Uint32Array]",B=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,U=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,Z=/[&<>"']/g,Y=RegExp(G.source),X=RegExp(Z.source),H=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tt=/^\w*$/,et=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nt=/[\\^$.*+?()[\]{}|]/g,rt=RegExp(nt.source),it=/^\s+/,st=/\s/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,at=/\{\n\/\* \[wrapped with (.+)\] \*/,ut=/,? & /,ct=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lt=/[()=,{}\[\]\/\s]/,ht=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft=/\w*$/,dt=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,_t=/^\[object .+?Constructor\]$/,gt=/^0o[0-7]+$/i,vt=/^(?:0|[1-9]\d*)$/,yt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wt=/($^)/,bt=/['\n\r\u2028\u2029\\]/g,Tt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ct="\\u2700-\\u27bf",At="a-z\\xdf-\\xf6\\xf8-\\xff",kt="A-Z\\xc0-\\xd6\\xd8-\\xde",St="\\ufe0e\\ufe0f",Ot="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mt="['’]",Et="[\\ud800-\\udfff]",It="["+Ot+"]",Dt="["+Tt+"]",$t="\\d+",Rt="[\\u2700-\\u27bf]",Nt="["+At+"]",Vt="[^\\ud800-\\udfff"+Ot+$t+Ct+At+kt+"]",Pt="\\ud83c[\\udffb-\\udfff]",qt="[^\\ud800-\\udfff]",jt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ft="[\\ud800-\\udbff][\\udc00-\\udfff]",Wt="["+kt+"]",Lt="(?:"+Nt+"|"+Vt+")",Bt="(?:"+Wt+"|"+Vt+")",zt="(?:['’](?:d|ll|m|re|s|t|ve))?",Ut="(?:['’](?:D|LL|M|RE|S|T|VE))?",Gt="(?:"+Dt+"|"+Pt+")"+"?",Zt="[\\ufe0e\\ufe0f]?",Yt=Zt+Gt+("(?:\\u200d(?:"+[qt,jt,Ft].join("|")+")"+Zt+Gt+")*"),Xt="(?:"+[Rt,jt,Ft].join("|")+")"+Yt,Ht="(?:"+[qt+Dt+"?",Dt,jt,Ft,Et].join("|")+")",Qt=RegExp(Mt,"g"),Jt=RegExp(Dt,"g"),Kt=RegExp(Pt+"(?="+Pt+")|"+Ht+Yt,"g"),te=RegExp([Wt+"?"+Nt+"+"+zt+"(?="+[It,Wt,"$"].join("|")+")",Bt+"+"+Ut+"(?="+[It,Wt+Lt,"$"].join("|")+")",Wt+"?"+Lt+"+"+zt,Wt+"+"+Ut,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$t,Xt].join("|"),"g"),ee=RegExp("[\\u200d\\ud800-\\udfff"+Tt+St+"]"),ne=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,re=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ie=-1,se={};se[R]=se[N]=se[V]=se[P]=se[q]=se[j]=se[F]=se[W]=se[L]=!0,se[_]=se[g]=se[D]=se[v]=se[$]=se[y]=se[w]=se[x]=se[T]=se[C]=se[A]=se[S]=se[O]=se[M]=se[I]=!1;var oe={};oe[_]=oe[g]=oe[D]=oe[$]=oe[v]=oe[y]=oe[R]=oe[N]=oe[V]=oe[P]=oe[q]=oe[T]=oe[C]=oe[A]=oe[S]=oe[O]=oe[M]=oe[E]=oe[j]=oe[F]=oe[W]=oe[L]=!0,oe[w]=oe[x]=oe[I]=!1;var ae={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ue=parseFloat,ce=parseInt,le="object"==typeof xt&&xt&&xt.Object===Object&&xt,he="object"==typeof self&&self&&self.Object===Object&&self,pe=le||he||Function("return this")(),fe=e&&!e.nodeType&&e,de=fe&&t&&!t.nodeType&&t,me=de&&de.exports===fe,_e=me&&le.process,ge=function(){try{var t=de&&de.require&&de.require("util").types;return t||_e&&_e.binding&&_e.binding("util")}catch(t){}}(),ve=ge&&ge.isArrayBuffer,ye=ge&&ge.isDate,we=ge&&ge.isMap,xe=ge&&ge.isRegExp,be=ge&&ge.isSet,Te=ge&&ge.isTypedArray;function Ce(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ae(t,e,n,r){for(var i=-1,s=null==t?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function ke(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Se(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Oe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Me(t,e){for(var n=-1,r=null==t?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function Ee(t,e){return!!(null==t?0:t.length)&&Fe(t,e,0)>-1}function Ie(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function De(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function $e(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Re(t,e,n,r){var i=-1,s=null==t?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function Ne(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Ve(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Pe=ze("length");function qe(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function je(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function Fe(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):je(t,Le,n)}function We(t,e,n,r){for(var i=n-1,s=t.length;++i<s;)if(r(t[i],e))return i;return-1}function Le(t){return t!=t}function Be(t,e){var n=null==t?0:t.length;return n?Ze(t,e)/n:f}function ze(t){return function(e){return null==e?n:e[t]}}function Ue(t){return function(e){return null==t?n:t[e]}}function Ge(t,e,n,r,i){return i(t,(function(t,i,s){n=r?(r=!1,t):e(n,t,i,s)})),n}function Ze(t,e){for(var r,i=-1,s=t.length;++i<s;){var o=e(t[i]);o!==n&&(r=r===n?o:r+o)}return r}function Ye(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Xe(t){return t?t.slice(0,dn(t)+1).replace(it,""):t}function He(t){return function(e){return t(e)}}function Qe(t,e){return De(e,(function(e){return t[e]}))}function Je(t,e){return t.has(e)}function Ke(t,e){for(var n=-1,r=t.length;++n<r&&Fe(e,t[n],0)>-1;);return n}function tn(t,e){for(var n=t.length;n--&&Fe(e,t[n],0)>-1;);return n}function en(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var nn=Ue({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),rn=Ue({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(t){return"\\"+ae[t]}function on(t){return ee.test(t)}function an(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function un(t,e){return function(n){return t(e(n))}}function cn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==s||(t[n]=s,o[i++]=n)}return o}function ln(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function hn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function pn(t){return on(t)?function(t){var e=Kt.lastIndex=0;for(;Kt.test(t);)++e;return e}(t):Pe(t)}function fn(t){return on(t)?function(t){return t.match(Kt)||[]}(t):function(t){return t.split("")}(t)}function dn(t){for(var e=t.length;e--&&st.test(t.charAt(e)););return e}var mn=Ue({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var _n=function t(e){var st,xt=(e=null==e?pe:_n.defaults(pe.Object(),e,_n.pick(pe,re))).Array,Tt=e.Date,Ct=e.Error,At=e.Function,kt=e.Math,St=e.Object,Ot=e.RegExp,Mt=e.String,Et=e.TypeError,It=xt.prototype,Dt=At.prototype,$t=St.prototype,Rt=e["__core-js_shared__"],Nt=Dt.toString,Vt=$t.hasOwnProperty,Pt=0,qt=(st=/[^.]+$/.exec(Rt&&Rt.keys&&Rt.keys.IE_PROTO||""))?"Symbol(src)_1."+st:"",jt=$t.toString,Ft=Nt.call(St),Wt=pe._,Lt=Ot("^"+Nt.call(Vt).replace(nt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bt=me?e.Buffer:n,zt=e.Symbol,Ut=e.Uint8Array,Gt=Bt?Bt.allocUnsafe:n,Zt=un(St.getPrototypeOf,St),Yt=St.create,Xt=$t.propertyIsEnumerable,Ht=It.splice,Kt=zt?zt.isConcatSpreadable:n,ee=zt?zt.iterator:n,ae=zt?zt.toStringTag:n,le=function(){try{var t=fs(St,"defineProperty");return t({},"",{}),t}catch(t){}}(),he=e.clearTimeout!==pe.clearTimeout&&e.clearTimeout,fe=Tt&&Tt.now!==pe.Date.now&&Tt.now,de=e.setTimeout!==pe.setTimeout&&e.setTimeout,_e=kt.ceil,ge=kt.floor,Pe=St.getOwnPropertySymbols,Ue=Bt?Bt.isBuffer:n,gn=e.isFinite,vn=It.join,yn=un(St.keys,St),wn=kt.max,xn=kt.min,bn=Tt.now,Tn=e.parseInt,Cn=kt.random,An=It.reverse,kn=fs(e,"DataView"),Sn=fs(e,"Map"),On=fs(e,"Promise"),Mn=fs(e,"Set"),En=fs(e,"WeakMap"),In=fs(St,"create"),Dn=En&&new En,$n={},Rn=Fs(kn),Nn=Fs(Sn),Vn=Fs(On),Pn=Fs(Mn),qn=Fs(En),jn=zt?zt.prototype:n,Fn=jn?jn.valueOf:n,Wn=jn?jn.toString:n;function Ln(t){if(ia(t)&&!Zo(t)&&!(t instanceof Gn)){if(t instanceof Un)return t;if(Vt.call(t,"__wrapped__"))return Ws(t)}return new Un(t)}var Bn=function(){function t(){}return function(e){if(!ra(e))return{};if(Yt)return Yt(e);t.prototype=e;var r=new t;return t.prototype=n,r}}();function zn(){}function Un(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=n}function Gn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Zn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Xn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Xn;++e<n;)this.add(t[e])}function Qn(t){var e=this.__data__=new Yn(t);this.size=e.size}function Jn(t,e){var n=Zo(t),r=!n&&Go(t),i=!n&&!r&&Qo(t),s=!n&&!r&&!i&&pa(t),o=n||r||i||s,a=o?Ye(t.length,Mt):[],u=a.length;for(var c in t)!e&&!Vt.call(t,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ws(c,u))||a.push(c);return a}function Kn(t){var e=t.length;return e?t[Hr(0,e-1)]:n}function tr(t,e){return Ps(Ii(t),cr(e,0,t.length))}function er(t){return Ps(Ii(t))}function nr(t,e,r){(r!==n&&!Bo(t[e],r)||r===n&&!(e in t))&&ar(t,e,r)}function rr(t,e,r){var i=t[e];Vt.call(t,e)&&Bo(i,r)&&(r!==n||e in t)||ar(t,e,r)}function ir(t,e){for(var n=t.length;n--;)if(Bo(t[n][0],e))return n;return-1}function sr(t,e,n,r){return dr(t,(function(t,i,s){e(r,t,n(t),s)})),r}function or(t,e){return t&&Di(e,Ra(e),t)}function ar(t,e,n){"__proto__"==e&&le?le(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ur(t,e){for(var r=-1,i=e.length,s=xt(i),o=null==t;++r<i;)s[r]=o?n:Ma(t,e[r]);return s}function cr(t,e,r){return t==t&&(r!==n&&(t=t<=r?t:r),e!==n&&(t=t>=e?t:e)),t}function lr(t,e,r,i,s,o){var a,u=1&e,c=2&e,l=4&e;if(r&&(a=s?r(t,i,s,o):r(t)),a!==n)return a;if(!ra(t))return t;var h=Zo(t);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Vt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return Ii(t,a)}else{var p=_s(t),f=p==x||p==b;if(Qo(t))return Ai(t,u);if(p==A||p==_||f&&!s){if(a=c||f?{}:vs(t),!u)return c?function(t,e){return Di(t,ms(t),e)}(t,function(t,e){return t&&Di(e,Na(e),t)}(a,t)):function(t,e){return Di(t,ds(t),e)}(t,or(a,t))}else{if(!oe[p])return s?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case D:return ki(t);case v:case y:return new r(+t);case $:return function(t,e){var n=e?ki(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case R:case N:case V:case P:case q:case j:case F:case W:case L:return Si(t,n);case T:return new r;case C:case M:return new r(t);case S:return function(t){var e=new t.constructor(t.source,ft.exec(t));return e.lastIndex=t.lastIndex,e}(t);case O:return new r;case E:return i=t,Fn?St(Fn.call(i)):{}}var i}(t,p,u)}}o||(o=new Qn);var d=o.get(t);if(d)return d;o.set(t,a),ca(t)?t.forEach((function(n){a.add(lr(n,e,r,n,t,o))})):sa(t)&&t.forEach((function(n,i){a.set(i,lr(n,e,r,i,t,o))}));var m=h?n:(l?c?os:ss:c?Na:Ra)(t);return ke(m||t,(function(n,i){m&&(n=t[i=n]),rr(a,i,lr(n,e,r,i,t,o))})),a}function hr(t,e,r){var i=r.length;if(null==t)return!i;for(t=St(t);i--;){var s=r[i],o=e[s],a=t[s];if(a===n&&!(s in t)||!o(a))return!1}return!0}function pr(t,e,i){if("function"!=typeof t)throw new Et(r);return $s((function(){t.apply(n,i)}),e)}function fr(t,e,n,r){var i=-1,s=Ee,o=!0,a=t.length,u=[],c=e.length;if(!a)return u;n&&(e=De(e,He(n))),r?(s=Ie,o=!1):e.length>=200&&(s=Je,o=!1,e=new Hn(e));t:for(;++i<a;){var l=t[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,o&&h==h){for(var p=c;p--;)if(e[p]===h)continue t;u.push(l)}else s(e,h,r)||u.push(l)}return u}Ln.templateSettings={escape:H,evaluate:Q,interpolate:J,variable:"",imports:{_:Ln}},Ln.prototype=zn.prototype,Ln.prototype.constructor=Ln,Un.prototype=Bn(zn.prototype),Un.prototype.constructor=Un,Gn.prototype=Bn(zn.prototype),Gn.prototype.constructor=Gn,Zn.prototype.clear=function(){this.__data__=In?In(null):{},this.size=0},Zn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Zn.prototype.get=function(t){var e=this.__data__;if(In){var r=e[t];return r===i?n:r}return Vt.call(e,t)?e[t]:n},Zn.prototype.has=function(t){var e=this.__data__;return In?e[t]!==n:Vt.call(e,t)},Zn.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=In&&e===n?i:e,this},Yn.prototype.clear=function(){this.__data__=[],this.size=0},Yn.prototype.delete=function(t){var e=this.__data__,n=ir(e,t);return!(n<0)&&(n==e.length-1?e.pop():Ht.call(e,n,1),--this.size,!0)},Yn.prototype.get=function(t){var e=this.__data__,r=ir(e,t);return r<0?n:e[r][1]},Yn.prototype.has=function(t){return ir(this.__data__,t)>-1},Yn.prototype.set=function(t,e){var n=this.__data__,r=ir(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Xn.prototype.clear=function(){this.size=0,this.__data__={hash:new Zn,map:new(Sn||Yn),string:new Zn}},Xn.prototype.delete=function(t){var e=hs(this,t).delete(t);return this.size-=e?1:0,e},Xn.prototype.get=function(t){return hs(this,t).get(t)},Xn.prototype.has=function(t){return hs(this,t).has(t)},Xn.prototype.set=function(t,e){var n=hs(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Hn.prototype.add=Hn.prototype.push=function(t){return this.__data__.set(t,i),this},Hn.prototype.has=function(t){return this.__data__.has(t)},Qn.prototype.clear=function(){this.__data__=new Yn,this.size=0},Qn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Qn.prototype.get=function(t){return this.__data__.get(t)},Qn.prototype.has=function(t){return this.__data__.has(t)},Qn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Yn){var r=n.__data__;if(!Sn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Xn(r)}return n.set(t,e),this.size=n.size,this};var dr=Ni(br),mr=Ni(Tr,!0);function _r(t,e){var n=!0;return dr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function gr(t,e,r){for(var i=-1,s=t.length;++i<s;){var o=t[i],a=e(o);if(null!=a&&(u===n?a==a&&!ha(a):r(a,u)))var u=a,c=o}return c}function vr(t,e){var n=[];return dr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function yr(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=ys),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?yr(a,e-1,n,r,i):$e(i,a):r||(i[i.length]=a)}return i}var wr=Vi(),xr=Vi(!0);function br(t,e){return t&&wr(t,e,Ra)}function Tr(t,e){return t&&xr(t,e,Ra)}function Cr(t,e){return Me(e,(function(e){return ta(t[e])}))}function Ar(t,e){for(var r=0,i=(e=xi(e,t)).length;null!=t&&r<i;)t=t[js(e[r++])];return r&&r==i?t:n}function kr(t,e,n){var r=e(t);return Zo(t)?r:$e(r,n(t))}function Sr(t){return null==t?t===n?"[object Undefined]":"[object Null]":ae&&ae in St(t)?function(t){var e=Vt.call(t,ae),r=t[ae];try{t[ae]=n;var i=!0}catch(t){}var s=jt.call(t);i&&(e?t[ae]=r:delete t[ae]);return s}(t):function(t){return jt.call(t)}(t)}function Or(t,e){return t>e}function Mr(t,e){return null!=t&&Vt.call(t,e)}function Er(t,e){return null!=t&&e in St(t)}function Ir(t,e,r){for(var i=r?Ie:Ee,s=t[0].length,o=t.length,a=o,u=xt(o),c=1/0,l=[];a--;){var h=t[a];a&&e&&(h=De(h,He(e))),c=xn(h.length,c),u[a]=!r&&(e||s>=120&&h.length>=120)?new Hn(a&&h):n}h=t[0];var p=-1,f=u[0];t:for(;++p<s&&l.length<c;){var d=h[p],m=e?e(d):d;if(d=r||0!==d?d:0,!(f?Je(f,m):i(l,m,r))){for(a=o;--a;){var _=u[a];if(!(_?Je(_,m):i(t[a],m,r)))continue t}f&&f.push(m),l.push(d)}}return l}function Dr(t,e,r){var i=null==(t=Ms(t,e=xi(e,t)))?t:t[js(Js(e))];return null==i?n:Ce(i,t,r)}function $r(t){return ia(t)&&Sr(t)==_}function Rr(t,e,r,i,s){return t===e||(null==t||null==e||!ia(t)&&!ia(e)?t!=t&&e!=e:function(t,e,r,i,s,o){var a=Zo(t),u=Zo(e),c=a?g:_s(t),l=u?g:_s(e),h=(c=c==_?A:c)==A,p=(l=l==_?A:l)==A,f=c==l;if(f&&Qo(t)){if(!Qo(e))return!1;a=!0,h=!1}if(f&&!h)return o||(o=new Qn),a||pa(t)?rs(t,e,r,i,s,o):function(t,e,n,r,i,s,o){switch(n){case $:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case D:return!(t.byteLength!=e.byteLength||!s(new Ut(t),new Ut(e)));case v:case y:case C:return Bo(+t,+e);case w:return t.name==e.name&&t.message==e.message;case S:case M:return t==e+"";case T:var a=an;case O:var u=1&r;if(a||(a=ln),t.size!=e.size&&!u)return!1;var c=o.get(t);if(c)return c==e;r|=2,o.set(t,e);var l=rs(a(t),a(e),r,i,s,o);return o.delete(t),l;case E:if(Fn)return Fn.call(t)==Fn.call(e)}return!1}(t,e,c,r,i,s,o);if(!(1&r)){var d=h&&Vt.call(t,"__wrapped__"),m=p&&Vt.call(e,"__wrapped__");if(d||m){var x=d?t.value():t,b=m?e.value():e;return o||(o=new Qn),s(x,b,r,i,o)}}if(!f)return!1;return o||(o=new Qn),function(t,e,r,i,s,o){var a=1&r,u=ss(t),c=u.length,l=ss(e).length;if(c!=l&&!a)return!1;var h=c;for(;h--;){var p=u[h];if(!(a?p in e:Vt.call(e,p)))return!1}var f=o.get(t),d=o.get(e);if(f&&d)return f==e&&d==t;var m=!0;o.set(t,e),o.set(e,t);var _=a;for(;++h<c;){var g=t[p=u[h]],v=e[p];if(i)var y=a?i(v,g,p,e,t,o):i(g,v,p,t,e,o);if(!(y===n?g===v||s(g,v,r,i,o):y)){m=!1;break}_||(_="constructor"==p)}if(m&&!_){var w=t.constructor,x=e.constructor;w==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(m=!1)}return o.delete(t),o.delete(e),m}(t,e,r,i,s,o)}(t,e,r,i,Rr,s))}function Nr(t,e,r,i){var s=r.length,o=s,a=!i;if(null==t)return!o;for(t=St(t);s--;){var u=r[s];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++s<o;){var c=(u=r[s])[0],l=t[c],h=u[1];if(a&&u[2]){if(l===n&&!(c in t))return!1}else{var p=new Qn;if(i)var f=i(l,h,c,t,e,p);if(!(f===n?Rr(h,l,3,i,p):f))return!1}}return!0}function Vr(t){return!(!ra(t)||(e=t,qt&&qt in e))&&(ta(t)?Lt:_t).test(Fs(t));var e}function Pr(t){return"function"==typeof t?t:null==t?ou:"object"==typeof t?Zo(t)?Br(t[0],t[1]):Lr(t):mu(t)}function qr(t){if(!As(t))return yn(t);var e=[];for(var n in St(t))Vt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function jr(t){if(!ra(t))return function(t){var e=[];if(null!=t)for(var n in St(t))e.push(n);return e}(t);var e=As(t),n=[];for(var r in t)("constructor"!=r||!e&&Vt.call(t,r))&&n.push(r);return n}function Fr(t,e){return t<e}function Wr(t,e){var n=-1,r=Xo(t)?xt(t.length):[];return dr(t,(function(t,i,s){r[++n]=e(t,i,s)})),r}function Lr(t){var e=ps(t);return 1==e.length&&e[0][2]?Ss(e[0][0],e[0][1]):function(n){return n===t||Nr(n,t,e)}}function Br(t,e){return bs(t)&&ks(e)?Ss(js(t),e):function(r){var i=Ma(r,t);return i===n&&i===e?Ea(r,t):Rr(e,i,3)}}function zr(t,e,r,i,s){t!==e&&wr(e,(function(o,a){if(s||(s=new Qn),ra(o))!function(t,e,r,i,s,o,a){var u=Is(t,r),c=Is(e,r),l=a.get(c);if(l)return void nr(t,r,l);var h=o?o(u,c,r+"",t,e,a):n,p=h===n;if(p){var f=Zo(c),d=!f&&Qo(c),m=!f&&!d&&pa(c);h=c,f||d||m?Zo(u)?h=u:Ho(u)?h=Ii(u):d?(p=!1,h=Ai(c,!0)):m?(p=!1,h=Si(c,!0)):h=[]:aa(c)||Go(c)?(h=u,Go(u)?h=wa(u):ra(u)&&!ta(u)||(h=vs(c))):p=!1}p&&(a.set(c,h),s(h,c,i,o,a),a.delete(c));nr(t,r,h)}(t,e,a,r,zr,i,s);else{var u=i?i(Is(t,a),o,a+"",t,e,s):n;u===n&&(u=o),nr(t,a,u)}}),Na)}function Ur(t,e){var r=t.length;if(r)return ws(e+=e<0?r:0,r)?t[e]:n}function Gr(t,e,n){e=e.length?De(e,(function(t){return Zo(t)?function(e){return Ar(e,1===t.length?t[0]:t)}:t})):[ou];var r=-1;return e=De(e,He(ls())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Wr(t,(function(t,n,i){return{criteria:De(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;for(;++r<o;){var u=Oi(i[r],s[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function Zr(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=Ar(t,o);n(a,o)&&ei(s,xi(o,t),a)}return s}function Yr(t,e,n,r){var i=r?We:Fe,s=-1,o=e.length,a=t;for(t===e&&(e=Ii(e)),n&&(a=De(t,He(n)));++s<o;)for(var u=0,c=e[s],l=n?n(c):c;(u=i(a,l,u,r))>-1;)a!==t&&Ht.call(a,u,1),Ht.call(t,u,1);return t}function Xr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==s){var s=i;ws(i)?Ht.call(t,i,1):fi(t,i)}}return t}function Hr(t,e){return t+ge(Cn()*(e-t+1))}function Qr(t,e){var n="";if(!t||e<1||e>p)return n;do{e%2&&(n+=t),(e=ge(e/2))&&(t+=t)}while(e);return n}function Jr(t,e){return Rs(Os(t,e,ou),t+"")}function Kr(t){return Kn(Ba(t))}function ti(t,e){var n=Ba(t);return Ps(n,cr(e,0,n.length))}function ei(t,e,r,i){if(!ra(t))return t;for(var s=-1,o=(e=xi(e,t)).length,a=o-1,u=t;null!=u&&++s<o;){var c=js(e[s]),l=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(s!=a){var h=u[c];(l=i?i(h,c,u):n)===n&&(l=ra(h)?h:ws(e[s+1])?[]:{})}rr(u,c,l),u=u[c]}return t}var ni=Dn?function(t,e){return Dn.set(t,e),t}:ou,ri=le?function(t,e){return le(t,"toString",{configurable:!0,enumerable:!1,value:ru(e),writable:!0})}:ou;function ii(t){return Ps(Ba(t))}function si(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=xt(i);++r<i;)s[r]=t[r+e];return s}function oi(t,e){var n;return dr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function ai(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var s=r+i>>>1,o=t[s];null!==o&&!ha(o)&&(n?o<=e:o<e)?r=s+1:i=s}return i}return ui(t,e,ou,n)}function ui(t,e,r,i){var s=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=r(e))!=e,u=null===e,c=ha(e),l=e===n;s<o;){var h=ge((s+o)/2),p=r(t[h]),f=p!==n,d=null===p,m=p==p,_=ha(p);if(a)var g=i||m;else g=l?m&&(i||f):u?m&&f&&(i||!d):c?m&&f&&!d&&(i||!_):!d&&!_&&(i?p<=e:p<e);g?s=h+1:o=h}return xn(o,4294967294)}function ci(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var o=t[n],a=e?e(o):o;if(!n||!Bo(a,u)){var u=a;s[i++]=0===o?0:o}}return s}function li(t){return"number"==typeof t?t:ha(t)?f:+t}function hi(t){if("string"==typeof t)return t;if(Zo(t))return De(t,hi)+"";if(ha(t))return Wn?Wn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function pi(t,e,n){var r=-1,i=Ee,s=t.length,o=!0,a=[],u=a;if(n)o=!1,i=Ie;else if(s>=200){var c=e?null:Qi(t);if(c)return ln(c);o=!1,i=Je,u=new Hn}else u=e?[]:a;t:for(;++r<s;){var l=t[r],h=e?e(l):l;if(l=n||0!==l?l:0,o&&h==h){for(var p=u.length;p--;)if(u[p]===h)continue t;e&&u.push(h),a.push(l)}else i(u,h,n)||(u!==a&&u.push(h),a.push(l))}return a}function fi(t,e){return null==(t=Ms(t,e=xi(e,t)))||delete t[js(Js(e))]}function di(t,e,n,r){return ei(t,e,n(Ar(t,e)),r)}function mi(t,e,n,r){for(var i=t.length,s=r?i:-1;(r?s--:++s<i)&&e(t[s],s,t););return n?si(t,r?0:s,r?s+1:i):si(t,r?s+1:0,r?i:s)}function _i(t,e){var n=t;return n instanceof Gn&&(n=n.value()),Re(e,(function(t,e){return e.func.apply(e.thisArg,$e([t],e.args))}),n)}function gi(t,e,n){var r=t.length;if(r<2)return r?pi(t[0]):[];for(var i=-1,s=xt(r);++i<r;)for(var o=t[i],a=-1;++a<r;)a!=i&&(s[i]=fr(s[i]||o,t[a],e,n));return pi(yr(s,1),e,n)}function vi(t,e,r){for(var i=-1,s=t.length,o=e.length,a={};++i<s;){var u=i<o?e[i]:n;r(a,t[i],u)}return a}function yi(t){return Ho(t)?t:[]}function wi(t){return"function"==typeof t?t:ou}function xi(t,e){return Zo(t)?t:bs(t,e)?[t]:qs(xa(t))}var bi=Jr;function Ti(t,e,r){var i=t.length;return r=r===n?i:r,!e&&r>=i?t:si(t,e,r)}var Ci=he||function(t){return pe.clearTimeout(t)};function Ai(t,e){if(e)return t.slice();var n=t.length,r=Gt?Gt(n):new t.constructor(n);return t.copy(r),r}function ki(t){var e=new t.constructor(t.byteLength);return new Ut(e).set(new Ut(t)),e}function Si(t,e){var n=e?ki(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Oi(t,e){if(t!==e){var r=t!==n,i=null===t,s=t==t,o=ha(t),a=e!==n,u=null===e,c=e==e,l=ha(e);if(!u&&!l&&!o&&t>e||o&&a&&c&&!u&&!l||i&&a&&c||!r&&c||!s)return 1;if(!i&&!o&&!l&&t<e||l&&r&&s&&!i&&!o||u&&r&&s||!a&&s||!c)return-1}return 0}function Mi(t,e,n,r){for(var i=-1,s=t.length,o=n.length,a=-1,u=e.length,c=wn(s-o,0),l=xt(u+c),h=!r;++a<u;)l[a]=e[a];for(;++i<o;)(h||i<s)&&(l[n[i]]=t[i]);for(;c--;)l[a++]=t[i++];return l}function Ei(t,e,n,r){for(var i=-1,s=t.length,o=-1,a=n.length,u=-1,c=e.length,l=wn(s-a,0),h=xt(l+c),p=!r;++i<l;)h[i]=t[i];for(var f=i;++u<c;)h[f+u]=e[u];for(;++o<a;)(p||i<s)&&(h[f+n[o]]=t[i++]);return h}function Ii(t,e){var n=-1,r=t.length;for(e||(e=xt(r));++n<r;)e[n]=t[n];return e}function Di(t,e,r,i){var s=!r;r||(r={});for(var o=-1,a=e.length;++o<a;){var u=e[o],c=i?i(r[u],t[u],u,r,t):n;c===n&&(c=t[u]),s?ar(r,u,c):rr(r,u,c)}return r}function $i(t,e){return function(n,r){var i=Zo(n)?Ae:sr,s=e?e():{};return i(n,t,ls(r,2),s)}}function Ri(t){return Jr((function(e,r){var i=-1,s=r.length,o=s>1?r[s-1]:n,a=s>2?r[2]:n;for(o=t.length>3&&"function"==typeof o?(s--,o):n,a&&xs(r[0],r[1],a)&&(o=s<3?n:o,s=1),e=St(e);++i<s;){var u=r[i];u&&t(e,u,i,o)}return e}))}function Ni(t,e){return function(n,r){if(null==n)return n;if(!Xo(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=St(n);(e?s--:++s<i)&&!1!==r(o[s],s,o););return n}}function Vi(t){return function(e,n,r){for(var i=-1,s=St(e),o=r(e),a=o.length;a--;){var u=o[t?a:++i];if(!1===n(s[u],u,s))break}return e}}function Pi(t){return function(e){var r=on(e=xa(e))?fn(e):n,i=r?r[0]:e.charAt(0),s=r?Ti(r,1).join(""):e.slice(1);return i[t]()+s}}function qi(t){return function(e){return Re(tu(Ga(e).replace(Qt,"")),t,"")}}function ji(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Bn(t.prototype),r=t.apply(n,e);return ra(r)?r:n}}function Fi(t){return function(e,r,i){var s=St(e);if(!Xo(e)){var o=ls(r,3);e=Ra(e),r=function(t){return o(s[t],t,s)}}var a=t(e,r,i);return a>-1?s[o?e[a]:a]:n}}function Wi(t){return is((function(e){var i=e.length,s=i,o=Un.prototype.thru;for(t&&e.reverse();s--;){var a=e[s];if("function"!=typeof a)throw new Et(r);if(o&&!u&&"wrapper"==us(a))var u=new Un([],!0)}for(s=u?s:i;++s<i;){var c=us(a=e[s]),l="wrapper"==c?as(a):n;u=l&&Ts(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[us(l[0])].apply(u,l[3]):1==a.length&&Ts(a)?u[c]():u.thru(a)}return function(){var t=arguments,n=t[0];if(u&&1==t.length&&Zo(n))return u.plant(n).value();for(var r=0,s=i?e[r].apply(this,t):n;++r<i;)s=e[r].call(this,s);return s}}))}function Li(t,e,r,i,s,o,a,u,l,h){var p=e&c,f=1&e,d=2&e,m=24&e,_=512&e,g=d?n:ji(t);return function n(){for(var c=arguments.length,v=xt(c),y=c;y--;)v[y]=arguments[y];if(m)var w=cs(n),x=en(v,w);if(i&&(v=Mi(v,i,s,m)),o&&(v=Ei(v,o,a,m)),c-=x,m&&c<h){var b=cn(v,w);return Xi(t,e,Li,n.placeholder,r,v,b,u,l,h-c)}var T=f?r:this,C=d?T[t]:t;return c=v.length,u?v=Es(v,u):_&&c>1&&v.reverse(),p&&l<c&&(v.length=l),this&&this!==pe&&this instanceof n&&(C=g||ji(C)),C.apply(T,v)}}function Bi(t,e){return function(n,r){return function(t,e,n,r){return br(t,(function(t,i,s){e(r,n(t),i,s)})),r}(n,t,e(r),{})}}function zi(t,e){return function(r,i){var s;if(r===n&&i===n)return e;if(r!==n&&(s=r),i!==n){if(s===n)return i;"string"==typeof r||"string"==typeof i?(r=hi(r),i=hi(i)):(r=li(r),i=li(i)),s=t(r,i)}return s}}function Ui(t){return is((function(e){return e=De(e,He(ls())),Jr((function(n){var r=this;return t(e,(function(t){return Ce(t,r,n)}))}))}))}function Gi(t,e){var r=(e=e===n?" ":hi(e)).length;if(r<2)return r?Qr(e,t):e;var i=Qr(e,_e(t/pn(e)));return on(e)?Ti(fn(i),0,t).join(""):i.slice(0,t)}function Zi(t){return function(e,r,i){return i&&"number"!=typeof i&&xs(e,r,i)&&(r=i=n),e=_a(e),r===n?(r=e,e=0):r=_a(r),function(t,e,n,r){for(var i=-1,s=wn(_e((e-t)/(n||1)),0),o=xt(s);s--;)o[r?s:++i]=t,t+=n;return o}(e,r,i=i===n?e<r?1:-1:_a(i),t)}}function Yi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ya(e),n=ya(n)),t(e,n)}}function Xi(t,e,r,i,s,o,c,l,h,p){var f=8&e;e|=f?a:u,4&(e&=~(f?u:a))||(e&=-4);var d=[t,e,s,f?o:n,f?c:n,f?n:o,f?n:c,l,h,p],m=r.apply(n,d);return Ts(t)&&Ds(m,d),m.placeholder=i,Ns(m,t,e)}function Hi(t){var e=kt[t];return function(t,n){if(t=ya(t),(n=null==n?0:xn(ga(n),292))&&gn(t)){var r=(xa(t)+"e").split("e");return+((r=(xa(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Qi=Mn&&1/ln(new Mn([,-0]))[1]==h?function(t){return new Mn(t)}:hu;function Ji(t){return function(e){var n=_s(e);return n==T?an(e):n==O?hn(e):function(t,e){return De(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Ki(t,e,i,h,p,f,d,m){var _=2&e;if(!_&&"function"!=typeof t)throw new Et(r);var g=h?h.length:0;if(g||(e&=-97,h=p=n),d=d===n?d:wn(ga(d),0),m=m===n?m:ga(m),g-=p?p.length:0,e&u){var v=h,y=p;h=p=n}var w=_?n:as(t),x=[t,e,i,h,p,v,y,f,d,m];if(w&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,a=r==c&&8==n||r==c&&n==l&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!a)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var u=e[3];if(u){var h=t[3];t[3]=h?Mi(h,u,e[4]):u,t[4]=h?cn(t[3],s):e[4]}(u=e[5])&&(h=t[5],t[5]=h?Ei(h,u,e[6]):u,t[6]=h?cn(t[5],s):e[6]);(u=e[7])&&(t[7]=u);r&c&&(t[8]=null==t[8]?e[8]:xn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(x,w),t=x[0],e=x[1],i=x[2],h=x[3],p=x[4],!(m=x[9]=x[9]===n?_?0:t.length:wn(x[9]-g,0))&&24&e&&(e&=-25),e&&1!=e)b=8==e||e==o?function(t,e,r){var i=ji(t);return function s(){for(var o=arguments.length,a=xt(o),u=o,c=cs(s);u--;)a[u]=arguments[u];var l=o<3&&a[0]!==c&&a[o-1]!==c?[]:cn(a,c);return(o-=l.length)<r?Xi(t,e,Li,s.placeholder,n,a,l,n,n,r-o):Ce(this&&this!==pe&&this instanceof s?i:t,this,a)}}(t,e,m):e!=a&&33!=e||p.length?Li.apply(n,x):function(t,e,n,r){var i=1&e,s=ji(t);return function e(){for(var o=-1,a=arguments.length,u=-1,c=r.length,l=xt(c+a),h=this&&this!==pe&&this instanceof e?s:t;++u<c;)l[u]=r[u];for(;a--;)l[u++]=arguments[++o];return Ce(h,i?n:this,l)}}(t,e,i,h);else var b=function(t,e,n){var r=1&e,i=ji(t);return function e(){return(this&&this!==pe&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,i);return Ns((w?ni:Ds)(b,x),t,e)}function ts(t,e,r,i){return t===n||Bo(t,$t[r])&&!Vt.call(i,r)?e:t}function es(t,e,r,i,s,o){return ra(t)&&ra(e)&&(o.set(e,t),zr(t,e,n,es,o),o.delete(e)),t}function ns(t){return aa(t)?n:t}function rs(t,e,r,i,s,o){var a=1&r,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var l=o.get(t),h=o.get(e);if(l&&h)return l==e&&h==t;var p=-1,f=!0,d=2&r?new Hn:n;for(o.set(t,e),o.set(e,t);++p<u;){var m=t[p],_=e[p];if(i)var g=a?i(_,m,p,e,t,o):i(m,_,p,t,e,o);if(g!==n){if(g)continue;f=!1;break}if(d){if(!Ve(e,(function(t,e){if(!Je(d,e)&&(m===t||s(m,t,r,i,o)))return d.push(e)}))){f=!1;break}}else if(m!==_&&!s(m,_,r,i,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function is(t){return Rs(Os(t,n,Zs),t+"")}function ss(t){return kr(t,Ra,ds)}function os(t){return kr(t,Na,ms)}var as=Dn?function(t){return Dn.get(t)}:hu;function us(t){for(var e=t.name+"",n=$n[e],r=Vt.call($n,e)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==t)return i.name}return e}function cs(t){return(Vt.call(Ln,"placeholder")?Ln:t).placeholder}function ls(){var t=Ln.iteratee||au;return t=t===au?Pr:t,arguments.length?t(arguments[0],arguments[1]):t}function hs(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function ps(t){for(var e=Ra(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ks(i)]}return e}function fs(t,e){var r=function(t,e){return null==t?n:t[e]}(t,e);return Vr(r)?r:n}var ds=Pe?function(t){return null==t?[]:(t=St(t),Me(Pe(t),(function(e){return Xt.call(t,e)})))}:vu,ms=Pe?function(t){for(var e=[];t;)$e(e,ds(t)),t=Zt(t);return e}:vu,_s=Sr;function gs(t,e,n){for(var r=-1,i=(e=xi(e,t)).length,s=!1;++r<i;){var o=js(e[r]);if(!(s=null!=t&&n(t,o)))break;t=t[o]}return s||++r!=i?s:!!(i=null==t?0:t.length)&&na(i)&&ws(o,i)&&(Zo(t)||Go(t))}function vs(t){return"function"!=typeof t.constructor||As(t)?{}:Bn(Zt(t))}function ys(t){return Zo(t)||Go(t)||!!(Kt&&t&&t[Kt])}function ws(t,e){var n=typeof t;return!!(e=null==e?p:e)&&("number"==n||"symbol"!=n&&vt.test(t))&&t>-1&&t%1==0&&t<e}function xs(t,e,n){if(!ra(n))return!1;var r=typeof e;return!!("number"==r?Xo(n)&&ws(e,n.length):"string"==r&&e in n)&&Bo(n[e],t)}function bs(t,e){if(Zo(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ha(t))||(tt.test(t)||!K.test(t)||null!=e&&t in St(e))}function Ts(t){var e=us(t),n=Ln[e];if("function"!=typeof n||!(e in Gn.prototype))return!1;if(t===n)return!0;var r=as(n);return!!r&&t===r[0]}(kn&&_s(new kn(new ArrayBuffer(1)))!=$||Sn&&_s(new Sn)!=T||On&&_s(On.resolve())!=k||Mn&&_s(new Mn)!=O||En&&_s(new En)!=I)&&(_s=function(t){var e=Sr(t),r=e==A?t.constructor:n,i=r?Fs(r):"";if(i)switch(i){case Rn:return $;case Nn:return T;case Vn:return k;case Pn:return O;case qn:return I}return e});var Cs=Rt?ta:yu;function As(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||$t)}function ks(t){return t==t&&!ra(t)}function Ss(t,e){return function(r){return null!=r&&(r[t]===e&&(e!==n||t in St(r)))}}function Os(t,e,r){return e=wn(e===n?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=wn(n.length-e,0),o=xt(s);++i<s;)o[i]=n[e+i];i=-1;for(var a=xt(e+1);++i<e;)a[i]=n[i];return a[e]=r(o),Ce(t,this,a)}}function Ms(t,e){return e.length<2?t:Ar(t,si(e,0,-1))}function Es(t,e){for(var r=t.length,i=xn(e.length,r),s=Ii(t);i--;){var o=e[i];t[i]=ws(o,r)?s[o]:n}return t}function Is(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ds=Vs(ni),$s=de||function(t,e){return pe.setTimeout(t,e)},Rs=Vs(ri);function Ns(t,e,n){var r=e+"";return Rs(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ot,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ke(m,(function(n){var r="_."+n[0];e&n[1]&&!Ee(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(at);return e?e[1].split(ut):[]}(r),n)))}function Vs(t){var e=0,r=0;return function(){var i=bn(),s=16-(i-r);if(r=i,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(n,arguments)}}function Ps(t,e){var r=-1,i=t.length,s=i-1;for(e=e===n?i:e;++r<e;){var o=Hr(r,s),a=t[o];t[o]=t[r],t[r]=a}return t.length=e,t}var qs=function(t){var e=Po(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(et,(function(t,n,r,i){e.push(r?i.replace(ht,"$1"):n||t)})),e}));function js(t){if("string"==typeof t||ha(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Fs(t){if(null!=t){try{return Nt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ws(t){if(t instanceof Gn)return t.clone();var e=new Un(t.__wrapped__,t.__chain__);return e.__actions__=Ii(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ls=Jr((function(t,e){return Ho(t)?fr(t,yr(e,1,Ho,!0)):[]})),Bs=Jr((function(t,e){var r=Js(e);return Ho(r)&&(r=n),Ho(t)?fr(t,yr(e,1,Ho,!0),ls(r,2)):[]})),zs=Jr((function(t,e){var r=Js(e);return Ho(r)&&(r=n),Ho(t)?fr(t,yr(e,1,Ho,!0),n,r):[]}));function Us(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ga(n);return i<0&&(i=wn(r+i,0)),je(t,ls(e,3),i)}function Gs(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var s=i-1;return r!==n&&(s=ga(r),s=r<0?wn(i+s,0):xn(s,i-1)),je(t,ls(e,3),s,!0)}function Zs(t){return(null==t?0:t.length)?yr(t,1):[]}function Ys(t){return t&&t.length?t[0]:n}var Xs=Jr((function(t){var e=De(t,yi);return e.length&&e[0]===t[0]?Ir(e):[]})),Hs=Jr((function(t){var e=Js(t),r=De(t,yi);return e===Js(r)?e=n:r.pop(),r.length&&r[0]===t[0]?Ir(r,ls(e,2)):[]})),Qs=Jr((function(t){var e=Js(t),r=De(t,yi);return(e="function"==typeof e?e:n)&&r.pop(),r.length&&r[0]===t[0]?Ir(r,n,e):[]}));function Js(t){var e=null==t?0:t.length;return e?t[e-1]:n}var Ks=Jr(to);function to(t,e){return t&&t.length&&e&&e.length?Yr(t,e):t}var eo=is((function(t,e){var n=null==t?0:t.length,r=ur(t,e);return Xr(t,De(e,(function(t){return ws(t,n)?+t:t})).sort(Oi)),r}));function no(t){return null==t?t:An.call(t)}var ro=Jr((function(t){return pi(yr(t,1,Ho,!0))})),io=Jr((function(t){var e=Js(t);return Ho(e)&&(e=n),pi(yr(t,1,Ho,!0),ls(e,2))})),so=Jr((function(t){var e=Js(t);return e="function"==typeof e?e:n,pi(yr(t,1,Ho,!0),n,e)}));function oo(t){if(!t||!t.length)return[];var e=0;return t=Me(t,(function(t){if(Ho(t))return e=wn(t.length,e),!0})),Ye(e,(function(e){return De(t,ze(e))}))}function ao(t,e){if(!t||!t.length)return[];var r=oo(t);return null==e?r:De(r,(function(t){return Ce(e,n,t)}))}var uo=Jr((function(t,e){return Ho(t)?fr(t,e):[]})),co=Jr((function(t){return gi(Me(t,Ho))})),lo=Jr((function(t){var e=Js(t);return Ho(e)&&(e=n),gi(Me(t,Ho),ls(e,2))})),ho=Jr((function(t){var e=Js(t);return e="function"==typeof e?e:n,gi(Me(t,Ho),n,e)})),po=Jr(oo);var fo=Jr((function(t){var e=t.length,r=e>1?t[e-1]:n;return r="function"==typeof r?(t.pop(),r):n,ao(t,r)}));function mo(t){var e=Ln(t);return e.__chain__=!0,e}function _o(t,e){return e(t)}var go=is((function(t){var e=t.length,r=e?t[0]:0,i=this.__wrapped__,s=function(e){return ur(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Gn&&ws(r)?((i=i.slice(r,+r+(e?1:0))).__actions__.push({func:_o,args:[s],thisArg:n}),new Un(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(n),t}))):this.thru(s)}));var vo=$i((function(t,e,n){Vt.call(t,n)?++t[n]:ar(t,n,1)}));var yo=Fi(Us),wo=Fi(Gs);function xo(t,e){return(Zo(t)?ke:dr)(t,ls(e,3))}function bo(t,e){return(Zo(t)?Se:mr)(t,ls(e,3))}var To=$i((function(t,e,n){Vt.call(t,n)?t[n].push(e):ar(t,n,[e])}));var Co=Jr((function(t,e,n){var r=-1,i="function"==typeof e,s=Xo(t)?xt(t.length):[];return dr(t,(function(t){s[++r]=i?Ce(e,t,n):Dr(t,e,n)})),s})),Ao=$i((function(t,e,n){ar(t,n,e)}));function ko(t,e){return(Zo(t)?De:Wr)(t,ls(e,3))}var So=$i((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Oo=Jr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&xs(t,e[0],e[1])?e=[]:n>2&&xs(e[0],e[1],e[2])&&(e=[e[0]]),Gr(t,yr(e,1),[])})),Mo=fe||function(){return pe.Date.now()};function Eo(t,e,r){return e=r?n:e,e=t&&null==e?t.length:e,Ki(t,c,n,n,n,n,e)}function Io(t,e){var i;if("function"!=typeof e)throw new Et(r);return t=ga(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=n),i}}var Do=Jr((function(t,e,n){var r=1;if(n.length){var i=cn(n,cs(Do));r|=a}return Ki(t,r,e,n,i)})),$o=Jr((function(t,e,n){var r=3;if(n.length){var i=cn(n,cs($o));r|=a}return Ki(e,r,t,n,i)}));function Ro(t,e,i){var s,o,a,u,c,l,h=0,p=!1,f=!1,d=!0;if("function"!=typeof t)throw new Et(r);function m(e){var r=s,i=o;return s=o=n,h=e,u=t.apply(i,r)}function _(t){return h=t,c=$s(v,e),p?m(t):u}function g(t){var r=t-l;return l===n||r>=e||r<0||f&&t-h>=a}function v(){var t=Mo();if(g(t))return y(t);c=$s(v,function(t){var n=e-(t-l);return f?xn(n,a-(t-h)):n}(t))}function y(t){return c=n,d&&s?m(t):(s=o=n,u)}function w(){var t=Mo(),r=g(t);if(s=arguments,o=this,l=t,r){if(c===n)return _(l);if(f)return Ci(c),c=$s(v,e),m(l)}return c===n&&(c=$s(v,e)),u}return e=ya(e)||0,ra(i)&&(p=!!i.leading,a=(f="maxWait"in i)?wn(ya(i.maxWait)||0,e):a,d="trailing"in i?!!i.trailing:d),w.cancel=function(){c!==n&&Ci(c),h=0,s=l=o=c=n},w.flush=function(){return c===n?u:y(Mo())},w}var No=Jr((function(t,e){return pr(t,1,e)})),Vo=Jr((function(t,e,n){return pr(t,ya(e)||0,n)}));function Po(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Et(r);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Po.Cache||Xn),n}function qo(t){if("function"!=typeof t)throw new Et(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Po.Cache=Xn;var jo=bi((function(t,e){var n=(e=1==e.length&&Zo(e[0])?De(e[0],He(ls())):De(yr(e,1),He(ls()))).length;return Jr((function(r){for(var i=-1,s=xn(r.length,n);++i<s;)r[i]=e[i].call(this,r[i]);return Ce(t,this,r)}))})),Fo=Jr((function(t,e){var r=cn(e,cs(Fo));return Ki(t,a,n,e,r)})),Wo=Jr((function(t,e){var r=cn(e,cs(Wo));return Ki(t,u,n,e,r)})),Lo=is((function(t,e){return Ki(t,l,n,n,n,e)}));function Bo(t,e){return t===e||t!=t&&e!=e}var zo=Yi(Or),Uo=Yi((function(t,e){return t>=e})),Go=$r(function(){return arguments}())?$r:function(t){return ia(t)&&Vt.call(t,"callee")&&!Xt.call(t,"callee")},Zo=xt.isArray,Yo=ve?He(ve):function(t){return ia(t)&&Sr(t)==D};function Xo(t){return null!=t&&na(t.length)&&!ta(t)}function Ho(t){return ia(t)&&Xo(t)}var Qo=Ue||yu,Jo=ye?He(ye):function(t){return ia(t)&&Sr(t)==y};function Ko(t){if(!ia(t))return!1;var e=Sr(t);return e==w||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!aa(t)}function ta(t){if(!ra(t))return!1;var e=Sr(t);return e==x||e==b||"[object AsyncFunction]"==e||"[object Proxy]"==e}function ea(t){return"number"==typeof t&&t==ga(t)}function na(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}function ra(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ia(t){return null!=t&&"object"==typeof t}var sa=we?He(we):function(t){return ia(t)&&_s(t)==T};function oa(t){return"number"==typeof t||ia(t)&&Sr(t)==C}function aa(t){if(!ia(t)||Sr(t)!=A)return!1;var e=Zt(t);if(null===e)return!0;var n=Vt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Nt.call(n)==Ft}var ua=xe?He(xe):function(t){return ia(t)&&Sr(t)==S};var ca=be?He(be):function(t){return ia(t)&&_s(t)==O};function la(t){return"string"==typeof t||!Zo(t)&&ia(t)&&Sr(t)==M}function ha(t){return"symbol"==typeof t||ia(t)&&Sr(t)==E}var pa=Te?He(Te):function(t){return ia(t)&&na(t.length)&&!!se[Sr(t)]};var fa=Yi(Fr),da=Yi((function(t,e){return t<=e}));function ma(t){if(!t)return[];if(Xo(t))return la(t)?fn(t):Ii(t);if(ee&&t[ee])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[ee]());var e=_s(t);return(e==T?an:e==O?ln:Ba)(t)}function _a(t){return t?(t=ya(t))===h||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ga(t){var e=_a(t),n=e%1;return e==e?n?e-n:e:0}function va(t){return t?cr(ga(t),0,d):0}function ya(t){if("number"==typeof t)return t;if(ha(t))return f;if(ra(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ra(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Xe(t);var n=mt.test(t);return n||gt.test(t)?ce(t.slice(2),n?2:8):dt.test(t)?f:+t}function wa(t){return Di(t,Na(t))}function xa(t){return null==t?"":hi(t)}var ba=Ri((function(t,e){if(As(e)||Xo(e))Di(e,Ra(e),t);else for(var n in e)Vt.call(e,n)&&rr(t,n,e[n])})),Ta=Ri((function(t,e){Di(e,Na(e),t)})),Ca=Ri((function(t,e,n,r){Di(e,Na(e),t,r)})),Aa=Ri((function(t,e,n,r){Di(e,Ra(e),t,r)})),ka=is(ur);var Sa=Jr((function(t,e){t=St(t);var r=-1,i=e.length,s=i>2?e[2]:n;for(s&&xs(e[0],e[1],s)&&(i=1);++r<i;)for(var o=e[r],a=Na(o),u=-1,c=a.length;++u<c;){var l=a[u],h=t[l];(h===n||Bo(h,$t[l])&&!Vt.call(t,l))&&(t[l]=o[l])}return t})),Oa=Jr((function(t){return t.push(n,es),Ce(Pa,n,t)}));function Ma(t,e,r){var i=null==t?n:Ar(t,e);return i===n?r:i}function Ea(t,e){return null!=t&&gs(t,e,Er)}var Ia=Bi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),t[e]=n}),ru(ou)),Da=Bi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),Vt.call(t,e)?t[e].push(n):t[e]=[n]}),ls),$a=Jr(Dr);function Ra(t){return Xo(t)?Jn(t):qr(t)}function Na(t){return Xo(t)?Jn(t,!0):jr(t)}var Va=Ri((function(t,e,n){zr(t,e,n)})),Pa=Ri((function(t,e,n,r){zr(t,e,n,r)})),qa=is((function(t,e){var n={};if(null==t)return n;var r=!1;e=De(e,(function(e){return e=xi(e,t),r||(r=e.length>1),e})),Di(t,os(t),n),r&&(n=lr(n,7,ns));for(var i=e.length;i--;)fi(n,e[i]);return n}));var ja=is((function(t,e){return null==t?{}:function(t,e){return Zr(t,e,(function(e,n){return Ea(t,n)}))}(t,e)}));function Fa(t,e){if(null==t)return{};var n=De(os(t),(function(t){return[t]}));return e=ls(e),Zr(t,n,(function(t,n){return e(t,n[0])}))}var Wa=Ji(Ra),La=Ji(Na);function Ba(t){return null==t?[]:Qe(t,Ra(t))}var za=qi((function(t,e,n){return e=e.toLowerCase(),t+(n?Ua(e):e)}));function Ua(t){return Ka(xa(t).toLowerCase())}function Ga(t){return(t=xa(t))&&t.replace(yt,nn).replace(Jt,"")}var Za=qi((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ya=qi((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Xa=Pi("toLowerCase");var Ha=qi((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Qa=qi((function(t,e,n){return t+(n?" ":"")+Ka(e)}));var Ja=qi((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ka=Pi("toUpperCase");function tu(t,e,r){return t=xa(t),(e=r?n:e)===n?function(t){return ne.test(t)}(t)?function(t){return t.match(te)||[]}(t):function(t){return t.match(ct)||[]}(t):t.match(e)||[]}var eu=Jr((function(t,e){try{return Ce(t,n,e)}catch(t){return Ko(t)?t:new Ct(t)}})),nu=is((function(t,e){return ke(e,(function(e){e=js(e),ar(t,e,Do(t[e],t))})),t}));function ru(t){return function(){return t}}var iu=Wi(),su=Wi(!0);function ou(t){return t}function au(t){return Pr("function"==typeof t?t:lr(t,1))}var uu=Jr((function(t,e){return function(n){return Dr(n,t,e)}})),cu=Jr((function(t,e){return function(n){return Dr(t,n,e)}}));function lu(t,e,n){var r=Ra(e),i=Cr(e,r);null!=n||ra(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Cr(e,Ra(e)));var s=!(ra(n)&&"chain"in n&&!n.chain),o=ta(t);return ke(i,(function(n){var r=e[n];t[n]=r,o&&(t.prototype[n]=function(){var e=this.__chain__;if(s||e){var n=t(this.__wrapped__),i=n.__actions__=Ii(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,$e([this.value()],arguments))})})),t}function hu(){}var pu=Ui(De),fu=Ui(Oe),du=Ui(Ve);function mu(t){return bs(t)?ze(js(t)):function(t){return function(e){return Ar(e,t)}}(t)}var _u=Zi(),gu=Zi(!0);function vu(){return[]}function yu(){return!1}var wu=zi((function(t,e){return t+e}),0),xu=Hi("ceil"),bu=zi((function(t,e){return t/e}),1),Tu=Hi("floor");var Cu,Au=zi((function(t,e){return t*e}),1),ku=Hi("round"),Su=zi((function(t,e){return t-e}),0);return Ln.after=function(t,e){if("function"!=typeof e)throw new Et(r);return t=ga(t),function(){if(--t<1)return e.apply(this,arguments)}},Ln.ary=Eo,Ln.assign=ba,Ln.assignIn=Ta,Ln.assignInWith=Ca,Ln.assignWith=Aa,Ln.at=ka,Ln.before=Io,Ln.bind=Do,Ln.bindAll=nu,Ln.bindKey=$o,Ln.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Zo(t)?t:[t]},Ln.chain=mo,Ln.chunk=function(t,e,r){e=(r?xs(t,e,r):e===n)?1:wn(ga(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var s=0,o=0,a=xt(_e(i/e));s<i;)a[o++]=si(t,s,s+=e);return a},Ln.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i},Ln.concat=function(){var t=arguments.length;if(!t)return[];for(var e=xt(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return $e(Zo(n)?Ii(n):[n],yr(e,1))},Ln.cond=function(t){var e=null==t?0:t.length,n=ls();return t=e?De(t,(function(t){if("function"!=typeof t[1])throw new Et(r);return[n(t[0]),t[1]]})):[],Jr((function(n){for(var r=-1;++r<e;){var i=t[r];if(Ce(i[0],this,n))return Ce(i[1],this,n)}}))},Ln.conforms=function(t){return function(t){var e=Ra(t);return function(n){return hr(n,t,e)}}(lr(t,1))},Ln.constant=ru,Ln.countBy=vo,Ln.create=function(t,e){var n=Bn(t);return null==e?n:or(n,e)},Ln.curry=function t(e,r,i){var s=Ki(e,8,n,n,n,n,n,r=i?n:r);return s.placeholder=t.placeholder,s},Ln.curryRight=function t(e,r,i){var s=Ki(e,o,n,n,n,n,n,r=i?n:r);return s.placeholder=t.placeholder,s},Ln.debounce=Ro,Ln.defaults=Sa,Ln.defaultsDeep=Oa,Ln.defer=No,Ln.delay=Vo,Ln.difference=Ls,Ln.differenceBy=Bs,Ln.differenceWith=zs,Ln.drop=function(t,e,r){var i=null==t?0:t.length;return i?si(t,(e=r||e===n?1:ga(e))<0?0:e,i):[]},Ln.dropRight=function(t,e,r){var i=null==t?0:t.length;return i?si(t,0,(e=i-(e=r||e===n?1:ga(e)))<0?0:e):[]},Ln.dropRightWhile=function(t,e){return t&&t.length?mi(t,ls(e,3),!0,!0):[]},Ln.dropWhile=function(t,e){return t&&t.length?mi(t,ls(e,3),!0):[]},Ln.fill=function(t,e,r,i){var s=null==t?0:t.length;return s?(r&&"number"!=typeof r&&xs(t,e,r)&&(r=0,i=s),function(t,e,r,i){var s=t.length;for((r=ga(r))<0&&(r=-r>s?0:s+r),(i=i===n||i>s?s:ga(i))<0&&(i+=s),i=r>i?0:va(i);r<i;)t[r++]=e;return t}(t,e,r,i)):[]},Ln.filter=function(t,e){return(Zo(t)?Me:vr)(t,ls(e,3))},Ln.flatMap=function(t,e){return yr(ko(t,e),1)},Ln.flatMapDeep=function(t,e){return yr(ko(t,e),h)},Ln.flatMapDepth=function(t,e,r){return r=r===n?1:ga(r),yr(ko(t,e),r)},Ln.flatten=Zs,Ln.flattenDeep=function(t){return(null==t?0:t.length)?yr(t,h):[]},Ln.flattenDepth=function(t,e){return(null==t?0:t.length)?yr(t,e=e===n?1:ga(e)):[]},Ln.flip=function(t){return Ki(t,512)},Ln.flow=iu,Ln.flowRight=su,Ln.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Ln.functions=function(t){return null==t?[]:Cr(t,Ra(t))},Ln.functionsIn=function(t){return null==t?[]:Cr(t,Na(t))},Ln.groupBy=To,Ln.initial=function(t){return(null==t?0:t.length)?si(t,0,-1):[]},Ln.intersection=Xs,Ln.intersectionBy=Hs,Ln.intersectionWith=Qs,Ln.invert=Ia,Ln.invertBy=Da,Ln.invokeMap=Co,Ln.iteratee=au,Ln.keyBy=Ao,Ln.keys=Ra,Ln.keysIn=Na,Ln.map=ko,Ln.mapKeys=function(t,e){var n={};return e=ls(e,3),br(t,(function(t,r,i){ar(n,e(t,r,i),t)})),n},Ln.mapValues=function(t,e){var n={};return e=ls(e,3),br(t,(function(t,r,i){ar(n,r,e(t,r,i))})),n},Ln.matches=function(t){return Lr(lr(t,1))},Ln.matchesProperty=function(t,e){return Br(t,lr(e,1))},Ln.memoize=Po,Ln.merge=Va,Ln.mergeWith=Pa,Ln.method=uu,Ln.methodOf=cu,Ln.mixin=lu,Ln.negate=qo,Ln.nthArg=function(t){return t=ga(t),Jr((function(e){return Ur(e,t)}))},Ln.omit=qa,Ln.omitBy=function(t,e){return Fa(t,qo(ls(e)))},Ln.once=function(t){return Io(2,t)},Ln.orderBy=function(t,e,r,i){return null==t?[]:(Zo(e)||(e=null==e?[]:[e]),Zo(r=i?n:r)||(r=null==r?[]:[r]),Gr(t,e,r))},Ln.over=pu,Ln.overArgs=jo,Ln.overEvery=fu,Ln.overSome=du,Ln.partial=Fo,Ln.partialRight=Wo,Ln.partition=So,Ln.pick=ja,Ln.pickBy=Fa,Ln.property=mu,Ln.propertyOf=function(t){return function(e){return null==t?n:Ar(t,e)}},Ln.pull=Ks,Ln.pullAll=to,Ln.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Yr(t,e,ls(n,2)):t},Ln.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?Yr(t,e,n,r):t},Ln.pullAt=eo,Ln.range=_u,Ln.rangeRight=gu,Ln.rearg=Lo,Ln.reject=function(t,e){return(Zo(t)?Me:vr)(t,qo(ls(e,3)))},Ln.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],s=t.length;for(e=ls(e,3);++r<s;){var o=t[r];e(o,r,t)&&(n.push(o),i.push(r))}return Xr(t,i),n},Ln.rest=function(t,e){if("function"!=typeof t)throw new Et(r);return Jr(t,e=e===n?e:ga(e))},Ln.reverse=no,Ln.sampleSize=function(t,e,r){return e=(r?xs(t,e,r):e===n)?1:ga(e),(Zo(t)?tr:ti)(t,e)},Ln.set=function(t,e,n){return null==t?t:ei(t,e,n)},Ln.setWith=function(t,e,r,i){return i="function"==typeof i?i:n,null==t?t:ei(t,e,r,i)},Ln.shuffle=function(t){return(Zo(t)?er:ii)(t)},Ln.slice=function(t,e,r){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&xs(t,e,r)?(e=0,r=i):(e=null==e?0:ga(e),r=r===n?i:ga(r)),si(t,e,r)):[]},Ln.sortBy=Oo,Ln.sortedUniq=function(t){return t&&t.length?ci(t):[]},Ln.sortedUniqBy=function(t,e){return t&&t.length?ci(t,ls(e,2)):[]},Ln.split=function(t,e,r){return r&&"number"!=typeof r&&xs(t,e,r)&&(e=r=n),(r=r===n?d:r>>>0)?(t=xa(t))&&("string"==typeof e||null!=e&&!ua(e))&&!(e=hi(e))&&on(t)?Ti(fn(t),0,r):t.split(e,r):[]},Ln.spread=function(t,e){if("function"!=typeof t)throw new Et(r);return e=null==e?0:wn(ga(e),0),Jr((function(n){var r=n[e],i=Ti(n,0,e);return r&&$e(i,r),Ce(t,this,i)}))},Ln.tail=function(t){var e=null==t?0:t.length;return e?si(t,1,e):[]},Ln.take=function(t,e,r){return t&&t.length?si(t,0,(e=r||e===n?1:ga(e))<0?0:e):[]},Ln.takeRight=function(t,e,r){var i=null==t?0:t.length;return i?si(t,(e=i-(e=r||e===n?1:ga(e)))<0?0:e,i):[]},Ln.takeRightWhile=function(t,e){return t&&t.length?mi(t,ls(e,3),!1,!0):[]},Ln.takeWhile=function(t,e){return t&&t.length?mi(t,ls(e,3)):[]},Ln.tap=function(t,e){return e(t),t},Ln.throttle=function(t,e,n){var i=!0,s=!0;if("function"!=typeof t)throw new Et(r);return ra(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),Ro(t,e,{leading:i,maxWait:e,trailing:s})},Ln.thru=_o,Ln.toArray=ma,Ln.toPairs=Wa,Ln.toPairsIn=La,Ln.toPath=function(t){return Zo(t)?De(t,js):ha(t)?[t]:Ii(qs(xa(t)))},Ln.toPlainObject=wa,Ln.transform=function(t,e,n){var r=Zo(t),i=r||Qo(t)||pa(t);if(e=ls(e,4),null==n){var s=t&&t.constructor;n=i?r?new s:[]:ra(t)&&ta(s)?Bn(Zt(t)):{}}return(i?ke:br)(t,(function(t,r,i){return e(n,t,r,i)})),n},Ln.unary=function(t){return Eo(t,1)},Ln.union=ro,Ln.unionBy=io,Ln.unionWith=so,Ln.uniq=function(t){return t&&t.length?pi(t):[]},Ln.uniqBy=function(t,e){return t&&t.length?pi(t,ls(e,2)):[]},Ln.uniqWith=function(t,e){return e="function"==typeof e?e:n,t&&t.length?pi(t,n,e):[]},Ln.unset=function(t,e){return null==t||fi(t,e)},Ln.unzip=oo,Ln.unzipWith=ao,Ln.update=function(t,e,n){return null==t?t:di(t,e,wi(n))},Ln.updateWith=function(t,e,r,i){return i="function"==typeof i?i:n,null==t?t:di(t,e,wi(r),i)},Ln.values=Ba,Ln.valuesIn=function(t){return null==t?[]:Qe(t,Na(t))},Ln.without=uo,Ln.words=tu,Ln.wrap=function(t,e){return Fo(wi(e),t)},Ln.xor=co,Ln.xorBy=lo,Ln.xorWith=ho,Ln.zip=po,Ln.zipObject=function(t,e){return vi(t||[],e||[],rr)},Ln.zipObjectDeep=function(t,e){return vi(t||[],e||[],ei)},Ln.zipWith=fo,Ln.entries=Wa,Ln.entriesIn=La,Ln.extend=Ta,Ln.extendWith=Ca,lu(Ln,Ln),Ln.add=wu,Ln.attempt=eu,Ln.camelCase=za,Ln.capitalize=Ua,Ln.ceil=xu,Ln.clamp=function(t,e,r){return r===n&&(r=e,e=n),r!==n&&(r=(r=ya(r))==r?r:0),e!==n&&(e=(e=ya(e))==e?e:0),cr(ya(t),e,r)},Ln.clone=function(t){return lr(t,4)},Ln.cloneDeep=function(t){return lr(t,5)},Ln.cloneDeepWith=function(t,e){return lr(t,5,e="function"==typeof e?e:n)},Ln.cloneWith=function(t,e){return lr(t,4,e="function"==typeof e?e:n)},Ln.conformsTo=function(t,e){return null==e||hr(t,e,Ra(e))},Ln.deburr=Ga,Ln.defaultTo=function(t,e){return null==t||t!=t?e:t},Ln.divide=bu,Ln.endsWith=function(t,e,r){t=xa(t),e=hi(e);var i=t.length,s=r=r===n?i:cr(ga(r),0,i);return(r-=e.length)>=0&&t.slice(r,s)==e},Ln.eq=Bo,Ln.escape=function(t){return(t=xa(t))&&X.test(t)?t.replace(Z,rn):t},Ln.escapeRegExp=function(t){return(t=xa(t))&&rt.test(t)?t.replace(nt,"\\$&"):t},Ln.every=function(t,e,r){var i=Zo(t)?Oe:_r;return r&&xs(t,e,r)&&(e=n),i(t,ls(e,3))},Ln.find=yo,Ln.findIndex=Us,Ln.findKey=function(t,e){return qe(t,ls(e,3),br)},Ln.findLast=wo,Ln.findLastIndex=Gs,Ln.findLastKey=function(t,e){return qe(t,ls(e,3),Tr)},Ln.floor=Tu,Ln.forEach=xo,Ln.forEachRight=bo,Ln.forIn=function(t,e){return null==t?t:wr(t,ls(e,3),Na)},Ln.forInRight=function(t,e){return null==t?t:xr(t,ls(e,3),Na)},Ln.forOwn=function(t,e){return t&&br(t,ls(e,3))},Ln.forOwnRight=function(t,e){return t&&Tr(t,ls(e,3))},Ln.get=Ma,Ln.gt=zo,Ln.gte=Uo,Ln.has=function(t,e){return null!=t&&gs(t,e,Mr)},Ln.hasIn=Ea,Ln.head=Ys,Ln.identity=ou,Ln.includes=function(t,e,n,r){t=Xo(t)?t:Ba(t),n=n&&!r?ga(n):0;var i=t.length;return n<0&&(n=wn(i+n,0)),la(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Fe(t,e,n)>-1},Ln.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ga(n);return i<0&&(i=wn(r+i,0)),Fe(t,e,i)},Ln.inRange=function(t,e,r){return e=_a(e),r===n?(r=e,e=0):r=_a(r),function(t,e,n){return t>=xn(e,n)&&t<wn(e,n)}(t=ya(t),e,r)},Ln.invoke=$a,Ln.isArguments=Go,Ln.isArray=Zo,Ln.isArrayBuffer=Yo,Ln.isArrayLike=Xo,Ln.isArrayLikeObject=Ho,Ln.isBoolean=function(t){return!0===t||!1===t||ia(t)&&Sr(t)==v},Ln.isBuffer=Qo,Ln.isDate=Jo,Ln.isElement=function(t){return ia(t)&&1===t.nodeType&&!aa(t)},Ln.isEmpty=function(t){if(null==t)return!0;if(Xo(t)&&(Zo(t)||"string"==typeof t||"function"==typeof t.splice||Qo(t)||pa(t)||Go(t)))return!t.length;var e=_s(t);if(e==T||e==O)return!t.size;if(As(t))return!qr(t).length;for(var n in t)if(Vt.call(t,n))return!1;return!0},Ln.isEqual=function(t,e){return Rr(t,e)},Ln.isEqualWith=function(t,e,r){var i=(r="function"==typeof r?r:n)?r(t,e):n;return i===n?Rr(t,e,n,r):!!i},Ln.isError=Ko,Ln.isFinite=function(t){return"number"==typeof t&&gn(t)},Ln.isFunction=ta,Ln.isInteger=ea,Ln.isLength=na,Ln.isMap=sa,Ln.isMatch=function(t,e){return t===e||Nr(t,e,ps(e))},Ln.isMatchWith=function(t,e,r){return r="function"==typeof r?r:n,Nr(t,e,ps(e),r)},Ln.isNaN=function(t){return oa(t)&&t!=+t},Ln.isNative=function(t){if(Cs(t))throw new Ct("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Vr(t)},Ln.isNil=function(t){return null==t},Ln.isNull=function(t){return null===t},Ln.isNumber=oa,Ln.isObject=ra,Ln.isObjectLike=ia,Ln.isPlainObject=aa,Ln.isRegExp=ua,Ln.isSafeInteger=function(t){return ea(t)&&t>=-9007199254740991&&t<=p},Ln.isSet=ca,Ln.isString=la,Ln.isSymbol=ha,Ln.isTypedArray=pa,Ln.isUndefined=function(t){return t===n},Ln.isWeakMap=function(t){return ia(t)&&_s(t)==I},Ln.isWeakSet=function(t){return ia(t)&&"[object WeakSet]"==Sr(t)},Ln.join=function(t,e){return null==t?"":vn.call(t,e)},Ln.kebabCase=Za,Ln.last=Js,Ln.lastIndexOf=function(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var s=i;return r!==n&&(s=(s=ga(r))<0?wn(i+s,0):xn(s,i-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,s):je(t,Le,s,!0)},Ln.lowerCase=Ya,Ln.lowerFirst=Xa,Ln.lt=fa,Ln.lte=da,Ln.max=function(t){return t&&t.length?gr(t,ou,Or):n},Ln.maxBy=function(t,e){return t&&t.length?gr(t,ls(e,2),Or):n},Ln.mean=function(t){return Be(t,ou)},Ln.meanBy=function(t,e){return Be(t,ls(e,2))},Ln.min=function(t){return t&&t.length?gr(t,ou,Fr):n},Ln.minBy=function(t,e){return t&&t.length?gr(t,ls(e,2),Fr):n},Ln.stubArray=vu,Ln.stubFalse=yu,Ln.stubObject=function(){return{}},Ln.stubString=function(){return""},Ln.stubTrue=function(){return!0},Ln.multiply=Au,Ln.nth=function(t,e){return t&&t.length?Ur(t,ga(e)):n},Ln.noConflict=function(){return pe._===this&&(pe._=Wt),this},Ln.noop=hu,Ln.now=Mo,Ln.pad=function(t,e,n){t=xa(t);var r=(e=ga(e))?pn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Gi(ge(i),n)+t+Gi(_e(i),n)},Ln.padEnd=function(t,e,n){t=xa(t);var r=(e=ga(e))?pn(t):0;return e&&r<e?t+Gi(e-r,n):t},Ln.padStart=function(t,e,n){t=xa(t);var r=(e=ga(e))?pn(t):0;return e&&r<e?Gi(e-r,n)+t:t},Ln.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Tn(xa(t).replace(it,""),e||0)},Ln.random=function(t,e,r){if(r&&"boolean"!=typeof r&&xs(t,e,r)&&(e=r=n),r===n&&("boolean"==typeof e?(r=e,e=n):"boolean"==typeof t&&(r=t,t=n)),t===n&&e===n?(t=0,e=1):(t=_a(t),e===n?(e=t,t=0):e=_a(e)),t>e){var i=t;t=e,e=i}if(r||t%1||e%1){var s=Cn();return xn(t+s*(e-t+ue("1e-"+((s+"").length-1))),e)}return Hr(t,e)},Ln.reduce=function(t,e,n){var r=Zo(t)?Re:Ge,i=arguments.length<3;return r(t,ls(e,4),n,i,dr)},Ln.reduceRight=function(t,e,n){var r=Zo(t)?Ne:Ge,i=arguments.length<3;return r(t,ls(e,4),n,i,mr)},Ln.repeat=function(t,e,r){return e=(r?xs(t,e,r):e===n)?1:ga(e),Qr(xa(t),e)},Ln.replace=function(){var t=arguments,e=xa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Ln.result=function(t,e,r){var i=-1,s=(e=xi(e,t)).length;for(s||(s=1,t=n);++i<s;){var o=null==t?n:t[js(e[i])];o===n&&(i=s,o=r),t=ta(o)?o.call(t):o}return t},Ln.round=ku,Ln.runInContext=t,Ln.sample=function(t){return(Zo(t)?Kn:Kr)(t)},Ln.size=function(t){if(null==t)return 0;if(Xo(t))return la(t)?pn(t):t.length;var e=_s(t);return e==T||e==O?t.size:qr(t).length},Ln.snakeCase=Ha,Ln.some=function(t,e,r){var i=Zo(t)?Ve:oi;return r&&xs(t,e,r)&&(e=n),i(t,ls(e,3))},Ln.sortedIndex=function(t,e){return ai(t,e)},Ln.sortedIndexBy=function(t,e,n){return ui(t,e,ls(n,2))},Ln.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ai(t,e);if(r<n&&Bo(t[r],e))return r}return-1},Ln.sortedLastIndex=function(t,e){return ai(t,e,!0)},Ln.sortedLastIndexBy=function(t,e,n){return ui(t,e,ls(n,2),!0)},Ln.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=ai(t,e,!0)-1;if(Bo(t[n],e))return n}return-1},Ln.startCase=Qa,Ln.startsWith=function(t,e,n){return t=xa(t),n=null==n?0:cr(ga(n),0,t.length),e=hi(e),t.slice(n,n+e.length)==e},Ln.subtract=Su,Ln.sum=function(t){return t&&t.length?Ze(t,ou):0},Ln.sumBy=function(t,e){return t&&t.length?Ze(t,ls(e,2)):0},Ln.template=function(t,e,r){var i=Ln.templateSettings;r&&xs(t,e,r)&&(e=n),t=xa(t),e=Ca({},e,i,ts);var s,o,a=Ca({},e.imports,i.imports,ts),u=Ra(a),c=Qe(a,u),l=0,h=e.interpolate||wt,p="__p += '",f=Ot((e.escape||wt).source+"|"+h.source+"|"+(h===J?pt:wt).source+"|"+(e.evaluate||wt).source+"|$","g"),d="//# sourceURL="+(Vt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ie+"]")+"\n";t.replace(f,(function(e,n,r,i,a,u){return r||(r=i),p+=t.slice(l,u).replace(bt,sn),n&&(s=!0,p+="' +\n__e("+n+") +\n'"),a&&(o=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e})),p+="';\n";var m=Vt.call(e,"variable")&&e.variable;if(m){if(lt.test(m))throw new Ct("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(o?p.replace(B,""):p).replace(z,"$1").replace(U,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var _=eu((function(){return At(u,d+"return "+p).apply(n,c)}));if(_.source=p,Ko(_))throw _;return _},Ln.times=function(t,e){if((t=ga(t))<1||t>p)return[];var n=d,r=xn(t,d);e=ls(e),t-=d;for(var i=Ye(r,e);++n<t;)e(n);return i},Ln.toFinite=_a,Ln.toInteger=ga,Ln.toLength=va,Ln.toLower=function(t){return xa(t).toLowerCase()},Ln.toNumber=ya,Ln.toSafeInteger=function(t){return t?cr(ga(t),-9007199254740991,p):0===t?t:0},Ln.toString=xa,Ln.toUpper=function(t){return xa(t).toUpperCase()},Ln.trim=function(t,e,r){if((t=xa(t))&&(r||e===n))return Xe(t);if(!t||!(e=hi(e)))return t;var i=fn(t),s=fn(e);return Ti(i,Ke(i,s),tn(i,s)+1).join("")},Ln.trimEnd=function(t,e,r){if((t=xa(t))&&(r||e===n))return t.slice(0,dn(t)+1);if(!t||!(e=hi(e)))return t;var i=fn(t);return Ti(i,0,tn(i,fn(e))+1).join("")},Ln.trimStart=function(t,e,r){if((t=xa(t))&&(r||e===n))return t.replace(it,"");if(!t||!(e=hi(e)))return t;var i=fn(t);return Ti(i,Ke(i,fn(e))).join("")},Ln.truncate=function(t,e){var r=30,i="...";if(ra(e)){var s="separator"in e?e.separator:s;r="length"in e?ga(e.length):r,i="omission"in e?hi(e.omission):i}var o=(t=xa(t)).length;if(on(t)){var a=fn(t);o=a.length}if(r>=o)return t;var u=r-pn(i);if(u<1)return i;var c=a?Ti(a,0,u).join(""):t.slice(0,u);if(s===n)return c+i;if(a&&(u+=c.length-u),ua(s)){if(t.slice(u).search(s)){var l,h=c;for(s.global||(s=Ot(s.source,xa(ft.exec(s))+"g")),s.lastIndex=0;l=s.exec(h);)var p=l.index;c=c.slice(0,p===n?u:p)}}else if(t.indexOf(hi(s),u)!=u){var f=c.lastIndexOf(s);f>-1&&(c=c.slice(0,f))}return c+i},Ln.unescape=function(t){return(t=xa(t))&&Y.test(t)?t.replace(G,mn):t},Ln.uniqueId=function(t){var e=++Pt;return xa(t)+e},Ln.upperCase=Ja,Ln.upperFirst=Ka,Ln.each=xo,Ln.eachRight=bo,Ln.first=Ys,lu(Ln,(Cu={},br(Ln,(function(t,e){Vt.call(Ln.prototype,e)||(Cu[e]=t)})),Cu),{chain:!1}),Ln.VERSION="4.17.21",ke(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Ln[t].placeholder=Ln})),ke(["drop","take"],(function(t,e){Gn.prototype[t]=function(r){r=r===n?1:wn(ga(r),0);var i=this.__filtered__&&!e?new Gn(this):this.clone();return i.__filtered__?i.__takeCount__=xn(r,i.__takeCount__):i.__views__.push({size:xn(r,d),type:t+(i.__dir__<0?"Right":"")}),i},Gn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ke(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Gn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ls(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),ke(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Gn.prototype[t]=function(){return this[n](1).value()[0]}})),ke(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Gn.prototype[t]=function(){return this.__filtered__?new Gn(this):this[n](1)}})),Gn.prototype.compact=function(){return this.filter(ou)},Gn.prototype.find=function(t){return this.filter(t).head()},Gn.prototype.findLast=function(t){return this.reverse().find(t)},Gn.prototype.invokeMap=Jr((function(t,e){return"function"==typeof t?new Gn(this):this.map((function(n){return Dr(n,t,e)}))})),Gn.prototype.reject=function(t){return this.filter(qo(ls(t)))},Gn.prototype.slice=function(t,e){t=ga(t);var r=this;return r.__filtered__&&(t>0||e<0)?new Gn(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==n&&(r=(e=ga(e))<0?r.dropRight(-e):r.take(e-t)),r)},Gn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Gn.prototype.toArray=function(){return this.take(d)},br(Gn.prototype,(function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),s=Ln[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);s&&(Ln.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,u=e instanceof Gn,c=a[0],l=u||Zo(e),h=function(t){var e=s.apply(Ln,$e([t],a));return i&&p?e[0]:e};l&&r&&"function"==typeof c&&1!=c.length&&(u=l=!1);var p=this.__chain__,f=!!this.__actions__.length,d=o&&!p,m=u&&!f;if(!o&&l){e=m?e:new Gn(this);var _=t.apply(e,a);return _.__actions__.push({func:_o,args:[h],thisArg:n}),new Un(_,p)}return d&&m?t.apply(this,a):(_=this.thru(h),d?i?_.value()[0]:_.value():_)})})),ke(["pop","push","shift","sort","splice","unshift"],(function(t){var e=It[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Ln.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Zo(i)?i:[],t)}return this[n]((function(n){return e.apply(Zo(n)?n:[],t)}))}})),br(Gn.prototype,(function(t,e){var n=Ln[e];if(n){var r=n.name+"";Vt.call($n,r)||($n[r]=[]),$n[r].push({name:e,func:n})}})),$n[Li(n,2).name]=[{name:"wrapper",func:n}],Gn.prototype.clone=function(){var t=new Gn(this.__wrapped__);return t.__actions__=Ii(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ii(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ii(this.__views__),t},Gn.prototype.reverse=function(){if(this.__filtered__){var t=new Gn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Gn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Zo(t),r=e<0,i=n?t.length:0,s=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var s=n[r],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=xn(e,t+o);break;case"takeRight":t=wn(t,e-o)}}return{start:t,end:e}}(0,i,this.__views__),o=s.start,a=s.end,u=a-o,c=r?a:o-1,l=this.__iteratees__,h=l.length,p=0,f=xn(u,this.__takeCount__);if(!n||!r&&i==u&&f==u)return _i(t,this.__actions__);var d=[];t:for(;u--&&p<f;){for(var m=-1,_=t[c+=e];++m<h;){var g=l[m],v=g.iteratee,y=g.type,w=v(_);if(2==y)_=w;else if(!w){if(1==y)continue t;break t}}d[p++]=_}return d},Ln.prototype.at=go,Ln.prototype.chain=function(){return mo(this)},Ln.prototype.commit=function(){return new Un(this.value(),this.__chain__)},Ln.prototype.next=function(){this.__values__===n&&(this.__values__=ma(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?n:this.__values__[this.__index__++]}},Ln.prototype.plant=function(t){for(var e,r=this;r instanceof zn;){var i=Ws(r);i.__index__=0,i.__values__=n,e?s.__wrapped__=i:e=i;var s=i;r=r.__wrapped__}return s.__wrapped__=t,e},Ln.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Gn){var e=t;return this.__actions__.length&&(e=new Gn(this)),(e=e.reverse()).__actions__.push({func:_o,args:[no],thisArg:n}),new Un(e,this.__chain__)}return this.thru(no)},Ln.prototype.toJSON=Ln.prototype.valueOf=Ln.prototype.value=function(){return _i(this.__wrapped__,this.__actions__)},Ln.prototype.first=Ln.prototype.head,ee&&(Ln.prototype[ee]=function(){return this}),Ln}();de?((de.exports=_n)._=_n,fe._=_n):pe._=_n}).call(xt)}));function Ct(){const t=B();return e=>{const n=Object.keys(t.$$.callbacks),r=[];return n.forEach((n=>r.push(M(e,n,(e=>function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}(t,e)))))),{destroy:()=>{r.forEach((t=>t()))}}}}const At=t=>({}),kt=t=>({}),St=t=>({}),Ot=t=>({});function Mt(t){let e,r,i,s,o,a,c=t[1]&&function(t){let e,n;const r=t[5].header,i=u(r,t,t[4],Ot);return{c(){e=C("header"),i&&i.c()},m(t,r){x(t,e,r),i&&i.m(e,null),n=!0},p(t,e){i&&i.p&&16&e&&l(i,r,t,t[4],e,St,Ot)},i(t){n||(ct(i,t),n=!0)},o(t){lt(i,t),n=!1},d(t){t&&b(e),i&&i.d(t)}}}(t);const h=t[5].default,p=u(h,t,t[4],null);let f=t[2]&&function(t){let e,n;const r=t[5].footer,i=u(r,t,t[4],kt);return{c(){e=C("footer"),i&&i.c()},m(t,r){x(t,e,r),i&&i.m(e,null),n=!0},p(t,e){i&&i.p&&16&e&&l(i,r,t,t[4],e,At,kt)},i(t){n||(ct(i,t),n=!0)},o(t){lt(i,t),n=!1},d(t){t&&b(e),i&&i.d(t)}}}(t),m=[t[3]],_={};for(let t=0;t<m.length;t+=1)_=n(_,m[t]);return{c(){e=C("div"),c&&c.c(),r=S(),p&&p.c(),i=S(),f&&f.c(),I(e,_),N(e,"card",1)},m(n,u){x(n,e,u),c&&c.m(e,null),w(e,r),p&&p.m(e,null),w(e,i),f&&f.m(e,null),s=!0,o||(a=d(t[0].call(null,e)),o=!0)},p(t,[n]){t[1]&&c.p(t,n),p&&p.p&&16&n&&l(p,h,t,t[4],n,null,null),t[2]&&f.p(t,n),I(e,_=ft(m,[8&n&&t[3]])),N(e,"card",1)},i(t){s||(ct(c),ct(p,t),ct(f),s=!0)},o(t){lt(c),lt(p,t),lt(f),s=!1},d(t){t&&b(e),c&&c.d(),p&&p.d(t),f&&f.d(),o=!1,a()}}}function Et(t,e,r){const i=[];let s=p(e,i),{$$slots:o={},$$scope:a}=e;const u=Ct();let c=e.$$slots&&void 0!==e.$$slots.header,l=e.$$slots&&void 0!==e.$$slots.footer;return t.$$set=t=>{r(6,e=n(n({},e),h(t))),r(3,s=p(e,i)),"$$scope"in t&&r(4,a=t.$$scope)},e=h(e),[u,c,l,s,a,o]}class It extends wt{constructor(t){super(),yt(this,t,Et,Mt,a,{})}}function Dt(t){let e,r,i;function s(t,e){return!1!==t[0]?Vt:Nt}let o=s(t),a=o(t),u=[{viewBox:"0 0 24 24"},{style:t[6]},t[9]],c={};for(let t=0;t<u.length;t+=1)c=n(c,u[t]);return{c(){e=A("svg"),a.c(),D(e,c),N(e,"svelte-1q4wean",!0)},m(n,s){x(n,e,s),a.m(e,null),r||(i=d(t[8].call(null,e)),r=!0)},p(t,n){o===(o=s(t))&&a?a.p(t,n):(a.d(1),a=o(t),a&&(a.c(),a.m(e,null))),D(e,c=ft(u,[{viewBox:"0 0 24 24"},64&n&&{style:t[6]},512&n&&t[9]])),N(e,"svelte-1q4wean",!0)},d(t){t&&b(e),a.d(),r=!1,i()}}}function $t(t){let e,r,i,s,o=[{viewBox:"0 0 24 24"},{style:t[6]},t[9]],a={};for(let t=0;t<o.length;t+=1)a=n(a,o[t]);return{c(){e=A("svg"),r=A("use"),$(r,"xlink:href",t[2]),E(r,"style",t[7]),E(r,"class","svelte-1q4wean"),N(r,"spinCW",t[4]),N(r,"spinCCW",t[5]),D(e,a),N(e,"svelte-1q4wean",!0)},m(n,o){x(n,e,o),w(e,r),i||(s=d(t[8].call(null,e)),i=!0)},p(t,n){4&n&&$(r,"xlink:href",t[2]),128&n&&E(r,"style",t[7]),16&n&&N(r,"spinCW",t[4]),32&n&&N(r,"spinCCW",t[5]),D(e,a=ft(o,[{viewBox:"0 0 24 24"},64&n&&{style:t[6]},512&n&&t[9]])),N(e,"svelte-1q4wean",!0)},d(t){t&&b(e),i=!1,s()}}}function Rt(t){let e,r,i,s,o,a=[{style:t[6]},t[9]],u={};for(let t=0;t<a.length;t+=1)u=n(u,a[t]);return{c(){e=C("span"),r=C("img"),r.src!==(i=t[3])&&E(r,"src",i),E(r,"alt",""),E(r,"width","100%"),E(r,"height","100%"),E(r,"style",t[7]),E(r,"class","svelte-1q4wean"),N(r,"spinCW",t[4]),N(r,"spinCCW",t[5]),I(e,u),N(e,"svelte-1q4wean",!0)},m(n,i){x(n,e,i),w(e,r),s||(o=d(t[8].call(null,e)),s=!0)},p(t,n){8&n&&r.src!==(i=t[3])&&E(r,"src",i),128&n&&E(r,"style",t[7]),16&n&&N(r,"spinCW",t[4]),32&n&&N(r,"spinCCW",t[5]),I(e,u=ft(a,[64&n&&{style:t[6]},512&n&&t[9]])),N(e,"svelte-1q4wean",!0)},d(t){t&&b(e),s=!1,o()}}}function Nt(t){let e;return{c(){e=A("path"),E(e,"d",t[1])},m(t,n){x(t,e,n)},p(t,n){2&n&&E(e,"d",t[1])},d(t){t&&b(e)}}}function Vt(t){let e,n;return{c(){e=A("g"),n=A("path"),E(n,"d",t[1]),E(e,"style",t[7]),E(e,"class","svelte-1q4wean"),N(e,"spinCW",t[4]),N(e,"spinCCW",t[5])},m(t,r){x(t,e,r),w(e,n)},p(t,r){2&r&&E(n,"d",t[1]),128&r&&E(e,"style",t[7]),16&r&&N(e,"spinCW",t[4]),32&r&&N(e,"spinCCW",t[5])},d(t){t&&b(e)}}}function Pt(e){let n;function r(t,e){return t[3]?Rt:t[2]?$t:Dt}let i=r(e),s=i(e);return{c(){s.c(),n=O()},m(t,e){s.m(t,e),x(t,n,e)},p(t,[e]){i===(i=r(t))&&s?s.p(t,e):(s.d(1),s=i(t),s&&(s.c(),s.m(n.parentNode,n)))},i:t,o:t,d(t){s.d(t),t&&b(n)}}}function qt(t,e,r){let i,s,o,a,u,c;const l=["src","size","color","flipH","flipV","rotate","spin"];let f=p(e,l);const d=Ct();let{src:m=null}=e,{size:_=1}=e,{color:g=null}=e,{flipH:v=null}=e,{flipV:y=null}=e,{rotate:w=0}=e,{spin:x=!1}=e,b=!1,T=!1,C=!1;Number(_)&&(_=Number(_));return t.$$set=t=>{e=n(n({},e),h(t)),r(9,f=p(e,l)),"src"in t&&r(11,m=t.src),"size"in t&&r(10,_=t.size),"color"in t&&r(12,g=t.color),"flipH"in t&&r(13,v=t.flipH),"flipV"in t&&r(14,y=t.flipV),"rotate"in t&&r(15,w=t.rotate),"spin"in t&&r(0,x=t.spin)},t.$$.update=()=>{2048&t.$$.dirty&&(m&&m.toLowerCase().trim().endsWith(".svg")?(r(3,C=m),r(1,b=r(2,T=!1))):m&&m.toLowerCase().trim().includes(".svg#")?(r(2,T=m),r(3,C=r(1,b=!1))):m&&(r(1,b=m),r(3,C=r(2,T=!1)))),1&t.$$.dirty&&r(16,i="boolean"!=typeof x&&x<0),1&t.$$.dirty&&r(17,s=Math.abs(!0===x?2:x)),65537&t.$$.dirty&&r(4,o=!!x&&!i),65537&t.$$.dirty&&r(5,a=!!x&&i),62464&t.$$.dirty&&r(6,u=(()=>{const t=[],e=[];if(null!==_){const t="string"==typeof _?_:1.5*_+"rem";e.push(["width",t]),e.push(["height",t])}return e.push(["fill",null!==g?g:"currentColor"]),v&&t.push("scaleX(-1)"),y&&t.push("scaleY(-1)"),0!=w&&t.push(`rotate(${w}deg)`),t.length>0&&(e.push(["transform",t.join(" ")]),e.push(["transform-origin","center"])),e.reduce(((t,e)=>`${t} ${e[0]}:${e[1]};`),"")})()),131073&t.$$.dirty&&r(7,c=x?`animation-duration: ${s}s`:void 0)},[x,b,T,C,o,a,u,c,d,f,_,m,g,v,y,w,i,s]}class jt extends wt{constructor(t){super(),yt(this,t,qt,Pt,a,{src:11,size:10,color:12,flipH:13,flipV:14,rotate:15,spin:0})}}function Ft(t){let e,r,i,a,u,c,l,h,p,f,m,_=(!0!==t[11]?t[11]:"")+"",g=t[9]&&Lt(t),v=t[10]&&Bt(t),y=[t[17]],T={};for(let t=0;t<y.length;t+=1)T=n(T,y[t]);return l=new It({props:{style:"z-index:1",$$slots:{default:[zt]},$$scope:{ctx:t}}}),{c(){e=C("details"),r=C("summary"),g&&g.c(),i=S(),a=k(_),u=S(),v&&v.c(),c=S(),mt(l.$$.fragment),I(r,T),N(r,"button",1),N(r,"outline",t[1]),N(r,"primary",t[2]),N(r,"secondary",t[3]),N(r,"dark",t[4]),N(r,"error",t[5]),N(r,"success",t[6]),N(r,"clear",t[7]),N(r,"loading",t[8]),N(r,"icon",t[14]),N(r,"icon-only",t[15]),N(r,"svelte-1o5ccdl",!0),E(e,"class","dropdown")},m(n,s){x(n,e,s),w(e,r),g&&g.m(r,null),w(r,i),w(r,a),w(r,u),v&&v.m(r,null),w(e,c),_t(l,e,null),e.open=t[0],p=!0,f||(m=[d(t[16].call(null,r)),M(e,"toggle",t[19]),d(h=Yt.call(null,e,t[12]))],f=!0)},p(t,n){t[9]?g?(g.p(t,n),512&n&&ct(g,1)):(g=Lt(t),g.c(),ct(g,1),g.m(r,i)):g&&(at(),lt(g,1,1,(()=>{g=null})),ut()),(!p||2048&n)&&_!==(_=(!0!==t[11]?t[11]:"")+"")&&R(a,_),t[10]?v?(v.p(t,n),1024&n&&ct(v,1)):(v=Bt(t),v.c(),ct(v,1),v.m(r,null)):v&&(at(),lt(v,1,1,(()=>{v=null})),ut()),I(r,T=ft(y,[131072&n&&t[17]])),N(r,"button",1),N(r,"outline",t[1]),N(r,"primary",t[2]),N(r,"secondary",t[3]),N(r,"dark",t[4]),N(r,"error",t[5]),N(r,"success",t[6]),N(r,"clear",t[7]),N(r,"loading",t[8]),N(r,"icon",t[14]),N(r,"icon-only",t[15]),N(r,"svelte-1o5ccdl",!0);const s={};1048576&n&&(s.$$scope={dirty:n,ctx:t}),l.$set(s),1&n&&(e.open=t[0]),h&&o(h.update)&&4096&n&&h.update.call(null,t[12])},i(t){p||(ct(g),ct(v),ct(l.$$.fragment,t),p=!0)},o(t){lt(g),lt(v),lt(l.$$.fragment,t),p=!1},d(t){t&&b(e),g&&g.d(),v&&v.d(),gt(l),f=!1,s(m)}}}function Wt(t){let e,r,i,s,o,a,c,h=t[9]&&Ut(t);const p=t[18].default,f=u(p,t,t[20],null);let m=t[10]&&Gt(t),_=[t[17],{type:s=t[13]?"submit":null}],g={};for(let t=0;t<_.length;t+=1)g=n(g,_[t]);return{c(){e=C("button"),h&&h.c(),r=S(),f&&f.c(),i=S(),m&&m.c(),I(e,g),N(e,"button",1),N(e,"outline",t[1]),N(e,"primary",t[2]),N(e,"secondary",t[3]),N(e,"dark",t[4]),N(e,"error",t[5]),N(e,"success",t[6]),N(e,"clear",t[7]),N(e,"loading",t[8]),N(e,"icon",t[14]),N(e,"icon-only",t[15]),N(e,"svelte-1o5ccdl",!0)},m(n,s){x(n,e,s),h&&h.m(e,null),w(e,r),f&&f.m(e,null),w(e,i),m&&m.m(e,null),o=!0,a||(c=d(t[16].call(null,e)),a=!0)},p(t,n){t[9]?h?(h.p(t,n),512&n&&ct(h,1)):(h=Ut(t),h.c(),ct(h,1),h.m(e,r)):h&&(at(),lt(h,1,1,(()=>{h=null})),ut()),f&&f.p&&1048576&n&&l(f,p,t,t[20],n,null,null),t[10]?m?(m.p(t,n),1024&n&&ct(m,1)):(m=Gt(t),m.c(),ct(m,1),m.m(e,null)):m&&(at(),lt(m,1,1,(()=>{m=null})),ut()),I(e,g=ft(_,[131072&n&&t[17],(!o||8192&n&&s!==(s=t[13]?"submit":null))&&{type:s}])),N(e,"button",1),N(e,"outline",t[1]),N(e,"primary",t[2]),N(e,"secondary",t[3]),N(e,"dark",t[4]),N(e,"error",t[5]),N(e,"success",t[6]),N(e,"clear",t[7]),N(e,"loading",t[8]),N(e,"icon",t[14]),N(e,"icon-only",t[15]),N(e,"svelte-1o5ccdl",!0)},i(t){o||(ct(h),ct(f,t),ct(m),o=!0)},o(t){lt(h),lt(f,t),lt(m),o=!1},d(t){t&&b(e),h&&h.d(),f&&f.d(t),m&&m.d(),a=!1,c()}}}function Lt(t){let e,n,r;return n=new jt({props:{src:t[9],size:"24px"}}),{c(){e=C("span"),mt(n.$$.fragment),E(e,"class","lefticon svelte-1o5ccdl")},m(t,i){x(t,e,i),_t(n,e,null),r=!0},p(t,e){const r={};512&e&&(r.src=t[9]),n.$set(r)},i(t){r||(ct(n.$$.fragment,t),r=!0)},o(t){lt(n.$$.fragment,t),r=!1},d(t){t&&b(e),gt(n)}}}function Bt(t){let e,n,r;return n=new jt({props:{src:t[10],size:"24px"}}),{c(){e=C("span"),mt(n.$$.fragment),E(e,"class","righticon svelte-1o5ccdl")},m(t,i){x(t,e,i),_t(n,e,null),r=!0},p(t,e){const r={};1024&e&&(r.src=t[10]),n.$set(r)},i(t){r||(ct(n.$$.fragment,t),r=!0)},o(t){lt(n.$$.fragment,t),r=!1},d(t){t&&b(e),gt(n)}}}function zt(t){let e;const n=t[18].default,r=u(n,t,t[20],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&1048576&e&&l(r,n,t,t[20],e,null,null)},i(t){e||(ct(r,t),e=!0)},o(t){lt(r,t),e=!1},d(t){r&&r.d(t)}}}function Ut(t){let e,n,r;return n=new jt({props:{src:t[9],size:"24px"}}),{c(){e=C("span"),mt(n.$$.fragment),E(e,"class","lefticon svelte-1o5ccdl")},m(t,i){x(t,e,i),_t(n,e,null),r=!0},p(t,e){const r={};512&e&&(r.src=t[9]),n.$set(r)},i(t){r||(ct(n.$$.fragment,t),r=!0)},o(t){lt(n.$$.fragment,t),r=!1},d(t){t&&b(e),gt(n)}}}function Gt(t){let e,n,r;return n=new jt({props:{src:t[10],size:"24px"}}),{c(){e=C("span"),mt(n.$$.fragment),E(e,"class","righticon svelte-1o5ccdl")},m(t,i){x(t,e,i),_t(n,e,null),r=!0},p(t,e){const r={};1024&e&&(r.src=t[10]),n.$set(r)},i(t){r||(ct(n.$$.fragment,t),r=!0)},o(t){lt(n.$$.fragment,t),r=!1},d(t){t&&b(e),gt(n)}}}function Zt(t){let e,n,r,i;const s=[Wt,Ft],o=[];function a(t,e){return!1===t[11]?0:1}return e=a(t),n=o[e]=s[e](t),{c(){n.c(),r=O()},m(t,n){o[e].m(t,n),x(t,r,n),i=!0},p(t,[i]){let u=e;e=a(t),e===u?o[e].p(t,i):(at(),lt(o[u],1,1,(()=>{o[u]=null})),ut(),n=o[e],n?n.p(t,i):(n=o[e]=s[e](t),n.c()),ct(n,1),n.m(r.parentNode,r))},i(t){i||(ct(n),i=!0)},o(t){lt(n),i=!1},d(t){o[e].d(t),t&&b(r)}}}function Yt(t,e){let n=e,r=t.getElementsByTagName("summary")[0];const i=()=>{t.open&&(t.open=!1)},s=t=>{t.stopPropagation()},o=e=>{e.stopPropagation(),n&&(t.open=!1)};return t.addEventListener("click",o),r.addEventListener("click",s),window.addEventListener("click",i),{update:t=>n=t,destroy:()=>{window.removeEventListener("click",i),t.removeEventListener("click",o),r.removeEventListener("click",s)}}}function Xt(t,e,r){let i,s;const o=["outline","primary","secondary","dark","error","success","clear","loading","icon","iconRight","dropdown","open","autoclose","submit"];let a=p(e,o),{$$slots:u={},$$scope:c}=e,{outline:l=null}=e,{primary:f=null}=e,{secondary:d=null}=e,{dark:m=null}=e,{error:_=null}=e,{success:g=null}=e,{clear:v=null}=e,{loading:y=null}=e,{icon:w=null}=e,{iconRight:x=null}=e,{dropdown:b=!1}=e,{open:T=!1}=e,{autoclose:C=!1}=e,{submit:A=!1}=e;const k=Ct(),S=e.$$slots&&void 0!==e.$$slots;return t.$$set=t=>{r(22,e=n(n({},e),h(t))),r(17,a=p(e,o)),"outline"in t&&r(1,l=t.outline),"primary"in t&&r(2,f=t.primary),"secondary"in t&&r(3,d=t.secondary),"dark"in t&&r(4,m=t.dark),"error"in t&&r(5,_=t.error),"success"in t&&r(6,g=t.success),"clear"in t&&r(7,v=t.clear),"loading"in t&&r(8,y=t.loading),"icon"in t&&r(9,w=t.icon),"iconRight"in t&&r(10,x=t.iconRight),"dropdown"in t&&r(11,b=t.dropdown),"open"in t&&r(0,T=t.open),"autoclose"in t&&r(12,C=t.autoclose),"submit"in t&&r(13,A=t.submit),"$$scope"in t&&r(20,c=t.$$scope)},t.$$.update=()=>{1536&t.$$.dirty&&r(14,i=(null!==w||null!==x)&&S),2560&t.$$.dirty&&r(15,s=b?null!==w&&!0===b:null!==w&&!S)},e=h(e),[T,l,f,d,m,_,g,v,y,w,x,b,C,A,i,s,k,a,u,function(){T=this.open,r(0,T)},c]}class Ht extends wt{constructor(t){super(),yt(this,t,Xt,Zt,a,{outline:1,primary:2,secondary:3,dark:4,error:5,success:6,clear:7,loading:8,icon:9,iconRight:10,dropdown:11,open:0,autoclose:12,submit:13})}}function Qt(t){let e,r,i,s;const o=t[5].default,a=u(o,t,t[4],null);let c=[t[3]],h={};for(let t=0;t<c.length;t+=1)h=n(h,c[t]);return{c(){e=C("span"),a&&a.c(),I(e,h),N(e,"tag",1),N(e,"is-small",t[0]),N(e,"is-large",t[1])},m(n,o){x(n,e,o),a&&a.m(e,null),r=!0,i||(s=d(t[2].call(null,e)),i=!0)},p(t,[n]){a&&a.p&&16&n&&l(a,o,t,t[4],n,null,null),I(e,h=ft(c,[8&n&&t[3]])),N(e,"tag",1),N(e,"is-small",t[0]),N(e,"is-large",t[1])},i(t){r||(ct(a,t),r=!0)},o(t){lt(a,t),r=!1},d(t){t&&b(e),a&&a.d(t),i=!1,s()}}}function Jt(t,e,r){const i=["small","large"];let s=p(e,i),{$$slots:o={},$$scope:a}=e,{small:u=!1}=e,{large:c=!1}=e;const l=Ct();return t.$$set=t=>{e=n(n({},e),h(t)),r(3,s=p(e,i)),"small"in t&&r(0,u=t.small),"large"in t&&r(1,c=t.large),"$$scope"in t&&r(4,a=t.$$scope)},[u,c,l,s,a,o]}class Kt extends wt{constructor(t){super(),yt(this,t,Jt,Qt,a,{small:0,large:1})}}function te(t,{delay:n=0,duration:r=400,easing:i=e}={}){const s=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:i,css:t=>"opacity: "+t*s}}function ee(t){let e,r,i,o,a,c,h,p;const f=t[4].default,m=u(f,t,t[3],null);let _=[t[2]],g={};for(let t=0;t<_.length;t+=1)g=n(g,_[t]);return{c(){e=C("div"),r=C("div"),i=S(),o=C("div"),m&&m.c(),E(r,"class","background svelte-4lwi8h"),I(o,g),N(o,"modal",1),N(o,"svelte-4lwi8h",!0),E(e,"class","container svelte-4lwi8h")},m(n,s){x(n,e,s),w(e,r),w(e,i),w(e,o),m&&m.m(o,null),c=!0,h||(p=[M(r,"click",t[5]),d(t[1].call(null,o))],h=!0)},p(t,e){m&&m.p&&8&e&&l(m,f,t,t[3],e,null,null),I(o,g=ft(_,[4&e&&t[2]])),N(o,"modal",1),N(o,"svelte-4lwi8h",!0)},i(t){c||(ct(m,t),Q((()=>{a||(a=pt(e,te,{duration:200},!0)),a.run(1)})),c=!0)},o(t){lt(m,t),a||(a=pt(e,te,{duration:200},!1)),a.run(0),c=!1},d(t){t&&b(e),m&&m.d(t),t&&a&&a.end(),h=!1,s(p)}}}function ne(t){let e,n,r=t[0]&&ee(t);return{c(){r&&r.c(),e=O()},m(t,i){r&&r.m(t,i),x(t,e,i),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&ct(r,1)):(r=ee(t),r.c(),ct(r,1),r.m(e.parentNode,e)):r&&(at(),lt(r,1,1,(()=>{r=null})),ut())},i(t){n||(ct(r),n=!0)},o(t){lt(r),n=!1},d(t){r&&r.d(t),t&&b(e)}}}function re(t,e,r){const i=["open"];let s=p(e,i),{$$slots:o={},$$scope:a}=e,{open:u=!1}=e;const c=Ct();e.$$slots&&e.$$slots.header,e.$$slots&&e.$$slots.footer;return t.$$set=t=>{r(8,e=n(n({},e),h(t))),r(2,s=p(e,i)),"open"in t&&r(0,u=t.open),"$$scope"in t&&r(3,a=t.$$scope)},e=h(e),[u,c,s,a,o,t=>r(0,u=!1)]}class ie extends wt{constructor(t){super(),yt(this,t,re,ne,a,{open:0})}}function se(e){let n,r,i;return{c(){n=A("svg"),r=A("path"),E(r,"fill","currentColor"),E(r,"d",e[0]),E(n,"aria-hidden","true"),E(n,"class",i=f(e[1])+" svelte-1d15yci"),E(n,"role","img"),E(n,"xmlns","http://www.w3.org/2000/svg"),E(n,"viewBox",e[2])},m(t,e){x(t,n,e),w(n,r)},p(t,[e]){1&e&&E(r,"d",t[0]),2&e&&i!==(i=f(t[1])+" svelte-1d15yci")&&E(n,"class",i),4&e&&E(n,"viewBox",t[2])},i:t,o:t,d(t){t&&b(n)}}}function oe(t,e,r){let{icon:i}=e,s=[],o="",a="";return t.$$set=t=>{r(4,e=n(n({},e),h(t))),"icon"in t&&r(3,i=t.icon)},t.$$.update=()=>{8&t.$$.dirty&&r(2,a="0 0 "+i.icon[0]+" "+i.icon[1]),r(1,o="fa-svelte "+(e.class?e.class:"")),8&t.$$.dirty&&r(0,s=i.icon[4])},e=h(e),[s,o,a,i]}class ae extends wt{constructor(t){super(),yt(this,t,oe,se,a,{icon:3})}}
/*!
     * Font Awesome Free 5.15.2 by @fontawesome - https://fontawesome.com
     * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
     */var ue={prefix:"fas",iconName:"star",icon:[576,512,[],"f005","M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"]},ce={prefix:"fas",iconName:"stopwatch",icon:[448,512,[],"f2f2","M432 304c0 114.9-93.1 208-208 208S16 418.9 16 304c0-104 76.3-190.2 176-205.5V64h-28c-6.6 0-12-5.4-12-12V12c0-6.6 5.4-12 12-12h120c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-28v34.5c37.5 5.8 71.7 21.6 99.7 44.6l27.5-27.5c4.7-4.7 12.3-4.7 17 0l28.3 28.3c4.7 4.7 4.7 12.3 0 17l-29.4 29.4-.6.6C419.7 223.3 432 262.2 432 304zm-176 36V188.5c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12V340c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12z"]},le={prefix:"fas",iconName:"sync-alt",icon:[512,512,[],"f2f1","M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"]};var he;!function(t){t.C="C",t.Cs="C#",t.D="D",t.Ds="D#",t.E="E",t.F="F",t.Fs="F#",t.G="G",t.Gs="G#",t.A="A",t.As="A#",t.B="B"}(he||(he={}));var pe=he;const fe=[pe.C,pe.D,pe.E,pe.F,pe.G,pe.A,pe.B],de=Object.values(pe),me={"":[4,3],m:[3,4],7:[4,3,3],sus2:[2,5],sus4:[5,2],add9:[4,3,7],add11:[4,3,10],add13:[4,3,2],aug:[4,4],dim:[3,3],5:[7],maj7:[4,3,4],m7:[3,4,3],dim7:[3,3,3],9:[4,3,3,4],11:[4,3,3,4,3]};class _e{static generate(){return[Tt.sample(fe),Tt.sample(Object.keys(me))]}static notes([t,e]){const n=[t],r=me[e];let i=de.indexOf(t);for(let t=0,e=r.length;t<e;++t)i=(i+r[t])%de.length,n.push(de[i]);return n}}const ge="14.7.77";var ve=bt((function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.default=t.exports,t.exports.__esModule=!0})),ye=bt((function(t){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,s=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return n}},t.exports.default=t.exports,t.exports.__esModule=!0})),we=bt((function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.default=t.exports,t.exports.__esModule=!0})),xe=bt((function(t){t.exports=function(t,e){if(t){if("string"==typeof t)return we(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0})),be=bt((function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0})),Te=bt((function(t){t.exports=function(t,e){return ve(t)||ye(t,e)||xe(t,e)||be()},t.exports.default=t.exports,t.exports.__esModule=!0})),Ce=bt((function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0})),Ae=bt((function(t){function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t},t.exports.default=t.exports,t.exports.__esModule=!0})),ke=bt((function(t,e){!function(t,e,n,r){function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=i(e),o=i(n),a=i(r),u=function(t,e,n){return{endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}},c=function(t,e,n){return{endTime:e,insertTime:n,type:"linearRampToValue",value:t}},l=function(t,e){return{startTime:e,type:"setValue",value:t}},h=function(t,e,n){return{duration:n,startTime:e,type:"setValueCurve",values:t}},p=function(t,e,n){var r=n.startTime,i=n.target,s=n.timeConstant;return i+(e-i)*Math.exp((r-t)/s)},f=function(t){return"exponentialRampToValue"===t.type},d=function(t){return"linearRampToValue"===t.type},m=function(t){return f(t)||d(t)},_=function(t){return"setValue"===t.type},g=function(t){return"setValueCurve"===t.type},v=function t(e,n,r,i){var s=e[n];return void 0===s?i:m(s)||_(s)?s.value:g(s)?s.values[s.values.length-1]:p(r,t(e,n-1,s.startTime,i),s)},y=function(t,e,n,r,i){return void 0===n?[r.insertTime,i]:m(n)?[n.endTime,n.value]:_(n)?[n.startTime,n.value]:g(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,v(t,e-1,n.startTime,i)]},w=function(t){return"cancelAndHold"===t.type},x=function(t){return"cancelScheduledValues"===t.type},b=function(t){return w(t)||x(t)?t.cancelTime:f(t)||d(t)?t.endTime:t.startTime},T=function(t,e,n,r){var i=r.endTime,s=r.value;return n===s?s:0<n&&0<s||n<0&&s<0?n*Math.pow(s/n,(t-e)/(i-e)):0},C=function(t,e,n,r){return n+(t-e)/(r.endTime-e)*(r.value-n)},A=function(t,e){var n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},k=function(t,e){var n=e.duration,r=e.startTime,i=e.values,s=(t-r)/n*(i.length-1);return A(i,s)},S=function(t){return"setTarget"===t.type},O=function(){function t(e){o.default(this,t),this._automationEvents=[],this._currenTime=0,this._defaultValue=e}return a.default(t,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(t){var e=b(t);if(w(t)||x(t)){var n=this._automationEvents.findIndex((function(n){return x(t)&&g(n)?n.startTime+n.duration>=e:b(n)>=e})),r=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),w(t)){var i=this._automationEvents[this._automationEvents.length-1];if(void 0!==r&&m(r)){if(S(i))throw new Error("The internal list is malformed.");var s=g(i)?i.startTime+i.duration:b(i),o=g(i)?i.values[i.values.length-1]:i.value,a=f(r)?T(e,s,o,r):C(e,s,o,r),p=f(r)?u(a,e,this._currenTime):c(a,e,this._currenTime);this._automationEvents.push(p)}void 0!==i&&S(i)&&this._automationEvents.push(l(this.getValue(e),e)),void 0!==i&&g(i)&&i.startTime+i.duration>e&&(this._automationEvents[this._automationEvents.length-1]=h(new Float32Array([6,7]),i.startTime,e-i.startTime))}}else{var _=this._automationEvents.findIndex((function(t){return b(t)>e})),v=-1===_?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[_-1];if(void 0!==v&&g(v)&&b(v)+v.duration>e)return!1;var y=f(t)?u(t.value,t.endTime,this._currenTime):d(t)?c(t.value,e,this._currenTime):t;if(-1===_)this._automationEvents.push(y);else{if(g(t)&&e+t.duration>b(this._automationEvents[_]))return!1;this._automationEvents.splice(_,0,y)}}return!0}},{key:"flush",value:function(t){var e=this._automationEvents.findIndex((function(e){return b(e)>t}));if(e>1){var n=this._automationEvents.slice(e-1),r=n[0];S(r)&&n.unshift(l(v(this._automationEvents,e-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(t){if(0===this._automationEvents.length)return this._defaultValue;var e=this._automationEvents[this._automationEvents.length-1],n=this._automationEvents.findIndex((function(e){return b(e)>t})),r=this._automationEvents[n],i=b(e)<=t?e:this._automationEvents[n-1];if(void 0!==i&&S(i)&&(void 0===r||!m(r)||r.insertTime>t))return p(t,v(this._automationEvents,n-2,i.startTime,this._defaultValue),i);if(void 0!==i&&_(i)&&(void 0===r||!m(r)))return i.value;if(void 0!==i&&g(i)&&(void 0===r||!m(r)||i.startTime+i.duration>t))return t<i.startTime+i.duration?k(t,i):i.values[i.values.length-1];if(void 0!==i&&m(i)&&(void 0===r||!m(r)))return i.value;if(void 0!==r&&f(r)){var o=y(this._automationEvents,n-1,i,r,this._defaultValue),a=s.default(o,2),u=a[0],c=a[1];return T(t,u,c,r)}if(void 0!==r&&d(r)){var l=y(this._automationEvents,n-1,i,r,this._defaultValue),h=s.default(l,2),w=h[0],x=h[1];return C(t,w,x,r)}return this._defaultValue}}]),t}(),M=function(t){return{cancelTime:t,type:"cancelAndHold"}},E=function(t){return{cancelTime:t,type:"cancelScheduledValues"}},I=function(t,e){return{endTime:e,type:"exponentialRampToValue",value:t}},D=function(t,e){return{endTime:e,type:"linearRampToValue",value:t}},$=function(t,e,n){return{startTime:e,target:t,timeConstant:n,type:"setTarget"}};t.AutomationEventList=O,t.createCancelAndHoldAutomationEvent=M,t.createCancelScheduledValuesAutomationEvent=E,t.createExponentialRampToValueAutomationEvent=I,t.createLinearRampToValueAutomationEvent=D,t.createSetTargetAutomationEvent=$,t.createSetValueAutomationEvent=l,t.createSetValueCurveAutomationEvent=h,Object.defineProperty(t,"__esModule",{value:!0})}(e,Te,Ce,Ae)}));const Se=new WeakSet,Oe=new WeakMap,Me=new WeakMap,Ee=new WeakMap,Ie=new WeakMap,De=new WeakMap,$e=new WeakMap,Re=new WeakMap,Ne=new WeakMap,Ve=new WeakMap,Pe={construct:()=>Pe},qe=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,je=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),i=r.match(qe);for(;null!==i;){const t=i[1].slice(1,-1),s=i[0].replace(/([\s]+)?;?$/,"").replace(t,new URL(t,e).toString());n.push(s),r=r.slice(i[0].length).replace(/^[\s]+/,""),i=r.match(qe)}return[n.join(";"),r]},Fe=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},We=t=>{if(!(t=>{try{new new Proxy(t,Pe)}catch{return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!=typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},Le=(t,e)=>{const n=t.get(e);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},Be=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[r]=n;return t.delete(r),r},ze=(t,e,n,r)=>{const i=Le(t,e),s=Be(i,(t=>t[0]===n&&t[1]===r));return 0===i.size&&t.delete(e),s},Ue=t=>Le($e,t),Ge=t=>{if(Se.has(t))throw new Error("The AudioNode is already stored.");Se.add(t),Ue(t).forEach((t=>t(!0)))},Ze=t=>"port"in t,Ye=t=>{if(!Se.has(t))throw new Error("The AudioNode is not stored.");Se.delete(t),Ue(t).forEach((t=>t(!1)))},Xe=(t,e)=>{!Ze(t)&&e.every((t=>0===t.size))&&Ye(t)},He={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Qe=(t,e)=>t.context===e,Je=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Ke=()=>new DOMException("","IndexSizeError"),tn=t=>{var e;t.getChannelData=(e=t.getChannelData,n=>{try{return e.call(t,n)}catch(t){if(12===t.code)throw Ke();throw t}})},en={numberOfChannels:1},nn=-34028234663852886e22,rn=-nn,sn=t=>Se.has(t),on={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},an=t=>Le(Oe,t),un=t=>Le(Ee,t),cn=(t,e)=>{const{activeInputs:n}=an(t);n.forEach((n=>n.forEach((([n])=>{e.includes(t)||cn(n,[...e,t])}))));const r=(t=>"playbackRate"in t)(t)?[t.playbackRate]:Ze(t)?Array.from(t.parameters.values()):(t=>"frequency"in t&&"gain"in t)(t)?[t.Q,t.detune,t.frequency,t.gain]:(t=>"offset"in t)(t)?[t.offset]:(t=>!("frequency"in t)&&"gain"in t)(t)?[t.gain]:(t=>"detune"in t&&"frequency"in t)(t)?[t.detune,t.frequency]:(t=>"pan"in t)(t)?[t.pan]:[];for(const t of r){const n=un(t);void 0!==n&&n.activeInputs.forEach((([t])=>cn(t,e)))}sn(t)&&Ye(t)},ln=t=>{cn(t.destination,[])},hn=t=>"context"in t,pn=t=>hn(t[0]),fn=(t,e,n,r)=>{for(const e of t)if(n(e)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},dn=(t,e,[n,r],i)=>{fn(t,[e,n,r],(t=>t[0]===e&&t[1]===n),i)},mn=(t,[e,n,r],i)=>{const s=t.get(e);void 0===s?t.set(e,new Set([[n,r]])):fn(s,[n,r],(t=>t[0]===n),i)},_n=t=>"inputs"in t,gn=(t,e,n,r)=>{if(_n(e)){const i=e.inputs[r];return t.connect(i,n,0),[i,n,0]}return t.connect(e,n,r),[e,n,r]},vn=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},yn=(t,e)=>{if(!Ue(t).delete(e))throw new Error("Missing the expected event listener.")},wn=(t,e,n)=>{const r=Le(t,e),i=Be(r,(t=>t[0]===n));return 0===r.size&&t.delete(e),i},xn=(t,e,n,r)=>{_n(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},bn=t=>Le(Me,t),Tn=t=>Le(Ie,t),Cn=t=>Re.has(t),An=t=>!Se.has(t),kn=t=>new Promise((e=>{const n=t.createScriptProcessor(256,1,1),r=t.createGain(),i=t.createBuffer(1,2,44100),s=i.getChannelData(0);s[0]=1,s[1]=1;const o=t.createBufferSource();o.buffer=i,o.loop=!0,o.connect(n).connect(t.destination),o.connect(r),o.disconnect(r),n.onaudioprocess=r=>{const i=r.inputBuffer.getChannelData(0);Array.prototype.some.call(i,(t=>1===t))?e(!0):e(!1),o.stop(),n.onaudioprocess=null,o.disconnect(n),n.disconnect(t.destination)},o.start()})),Sn=(t,e)=>{const n=new Map;for(const e of t)for(const t of e){const e=n.get(t);n.set(t,void 0===e?1:e+1)}n.forEach(((t,n)=>e(n,t)))},On=t=>"context"in t,Mn=(t,e,n,r)=>{const{activeInputs:i,passiveInputs:s}=un(e),{outputs:o}=an(t),a=Ue(t),u=o=>{const a=bn(t),u=Tn(e);if(o){const e=wn(s,t,n);dn(i,t,e,!1),r||Cn(t)||a.connect(u,n)}else{const e=((t,e,n)=>Be(t,(t=>t[0]===e&&t[1]===n)))(i,t,n);mn(s,e,!1),r||Cn(t)||a.disconnect(u,n)}};return!!fn(o,[e,n],(t=>t[0]===e&&t[1]===n),!0)&&(a.add(u),sn(t)?dn(i,t,[n,u],!0):mn(s,[t,n,u],!0),!0)},En=(t,e,n,r,i)=>{const[s,o]=((t,e,n,r)=>{const{activeInputs:i,passiveInputs:s}=an(e),o=vn(i[r],t,n);if(null===o)return[ze(s,t,n,r)[2],!1];return[o[2],!0]})(t,n,r,i);if(null!==s&&(yn(t,s),!o||e||Cn(t)||xn(bn(t),bn(n),r,i)),sn(n)){const{activeInputs:t}=an(n);Xe(n,t)}},In=(t,e,n,r)=>{const[i,s]=((t,e,n)=>{const{activeInputs:r,passiveInputs:i}=un(e),s=vn(r,t,n);if(null===s)return[wn(i,t,n)[1],!1];return[s[2],!0]})(t,n,r);null!==i&&(yn(t,i),!s||e||Cn(t)||bn(t).disconnect(Tn(n),r))};class Dn{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,e=null){return this._map.forEach(((n,r)=>t.call(e,n,r,this)))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const $n={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function Rn(t,e,n,r,i){if("function"==typeof t.copyFromChannel)0===e[n].byteLength&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,i);else{const s=t.getChannelData(r);if(0===e[n].byteLength)e[n]=s.slice(i,i+128);else{const t=new Float32Array(s.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(t)}}}const Nn=(t,e,n,r,i)=>{"function"==typeof t.copyToChannel?0!==e[n].byteLength&&t.copyToChannel(e[n],r,i):0!==e[n].byteLength&&t.getChannelData(r).set(e[n],i)},Vn=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const t=[],i="number"==typeof e?e:e[r];for(let e=0;e<i;e+=1)t.push(new Float32Array(128));n.push(t)}return n},Pn=async(t,e,n,r,i,s,o)=>{const a=null===e?128*Math.ceil(t.context.length/128):e.length,u=r.channelCount*r.numberOfInputs,c=i.reduce(((t,e)=>t+e),0),l=0===c?null:n.createBuffer(c,a,n.sampleRate);if(void 0===s)throw new Error("Missing the processor constructor.");const h=an(t),p=await((t,e)=>{const n=Le(Ve,t),r=bn(e);return Le(n,r)})(n,t),f=Vn(r.numberOfInputs,r.channelCount),d=Vn(r.numberOfOutputs,i),m=Array.from(t.parameters.keys()).reduce(((t,e)=>({...t,[e]:new Float32Array(128)})),{});for(let c=0;c<a;c+=128){if(r.numberOfInputs>0&&null!==e)for(let t=0;t<r.numberOfInputs;t+=1)for(let n=0;n<r.channelCount;n+=1)Rn(e,f[t],n,n,c);void 0!==s.parameterDescriptors&&null!==e&&s.parameterDescriptors.forEach((({name:t},n)=>{Rn(e,m,t,u+n,c)}));for(let t=0;t<r.numberOfInputs;t+=1)for(let e=0;e<i[t];e+=1)0===d[t][e].byteLength&&(d[t][e]=new Float32Array(128));try{const t=f.map(((t,e)=>0===h.activeInputs[e].size?[]:t)),e=o(c/n.sampleRate,n.sampleRate,(()=>p.process(t,d,m)));if(null!==l)for(let t=0,e=0;t<r.numberOfOutputs;t+=1){for(let n=0;n<i[t];n+=1)Nn(l,d[t],n,e+n,c);e+=i[t]}if(!e)break}catch(e){t.dispatchEvent(new ErrorEvent("processorerror",{colno:e.colno,filename:e.filename,lineno:e.lineno,message:e.message}));break}}return l},qn={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},jn={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Fn={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Wn={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Ln={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Bn={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},zn=(t,e,n)=>{const r=e[n];if(void 0===r)throw t();return r},Un={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Gn={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Zn=()=>new DOMException("","InvalidStateError"),Yn=()=>new DOMException("","InvalidAccessError"),Xn={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Hn=(t,e,n,r,i,s,o,a,u,c,l)=>{const h=c.length;let p=a;for(let a=0;a<h;a+=1){let h=n[0]*c[a];for(let e=1;e<i;e+=1){const r=p-e&u-1;h+=n[e]*s[r],h-=t[e]*o[r]}for(let t=i;t<r;t+=1)h+=n[t]*s[p-t&u-1];for(let n=i;n<e;n+=1)h-=t[n]*o[p-n&u-1];s[p]=c[a],o[p]=h,p=p+1&u-1,l[a]=h}return p},Qn={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Jn=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch{}return!1},Kn=(t,e,n)=>{const r=e[n];void 0!==r&&r!==t[n]&&(t[n]=r)},tr=(t,e)=>{Kn(t,e,"channelCount"),Kn(t,e,"channelCountMode"),Kn(t,e,"channelInterpretation")},er=t=>"function"==typeof t.getFloatTimeDomainData,nr=(t,e,n)=>{const r=e[n];void 0!==r&&r!==t[n].value&&(t[n].value=r)},rr=t=>{var e;t.start=(e=t.start,(n=0,r=0,i)=>{if("number"==typeof i&&i<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,i)})},ir=t=>{var e;t.stop=(e=t.stop,(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})},sr=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),or=async(t,e)=>new t(await(t=>new Promise(((e,n)=>{const{port1:r,port2:i}=new MessageChannel;r.onmessage=({data:t})=>{r.close(),i.close(),e(t)},r.onmessageerror=({data:t})=>{r.close(),i.close(),n(t)},i.postMessage(t)})))(e)),ar=(t,e)=>{const n=t.createBiquadFilter();return tr(n,e),nr(n,e,"Q"),nr(n,e,"detune"),nr(n,e,"frequency"),nr(n,e,"gain"),Kn(n,e,"type"),n},ur=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return tr(n,e),(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Zn()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:t=>{if("explicit"!==t)throw Zn()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:t=>{if("discrete"!==t)throw Zn()}})})(n),n},cr=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),lr=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return tr(n,e),nr(n,e,"delayTime"),n},hr=(t,e)=>{const n=t.createGain();return tr(n,e),nr(n,e,"gain"),n};function pr(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function fr(t,e){let n=[0,0];for(let s=t.length-1;s>=0;s-=1)i=e,n=[(r=n)[0]*i[0]-r[1]*i[1],r[0]*i[1]+r[1]*i[0]],n[0]+=t[s];var r,i;return n}const dr=(t,e,n,r)=>t.createScriptProcessor(e,n,r),mr=()=>new DOMException("","NotSupportedError"),_r={numberOfChannels:1},gr={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},vr={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},yr={disableNormalization:!1},wr={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},xr={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},br=t=>{if(null===t)return!1;const e=t.length;return e%2!=0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},Tr=(t,e,n,r)=>{let i=Object.getPrototypeOf(t);for(;!i.hasOwnProperty(e);)i=Object.getPrototypeOf(i);const{get:s,set:o}=Object.getOwnPropertyDescriptor(i,e);Object.defineProperty(t,e,{get:n(s),set:r(o)})},Cr=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(9!==r.code)throw r;Cr(t,e,n+1e-7)}},Ar=t=>{const e=t.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},kr=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Sr=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},Or=(t,e)=>{const n=e.createGain();t.connect(n);const r=(e=>()=>{e.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),cr(t,n),t.stop=(e=>{let r=!1;return(i=0)=>{if(r)try{e.call(t,i)}catch{n.gain.setValueAtTime(0,i)}else e.call(t,i),r=!0}})(t.stop)},Mr=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),"function"==typeof e?e.call(t,n):e.handleEvent.call(t,n)},Er=(t=>(e,n,[r,i,s],o)=>{t(e[i],[n,r,s],(t=>t[0]===n&&t[1]===r),o)})(fn),Ir=(t=>(e,n,[r,i,s],o)=>{const a=e.get(r);void 0===a?e.set(r,new Set([[i,n,s]])):t(a,[i,n,s],(t=>t[0]===i&&t[1]===n),o)})(fn),Dr=(t=>(e,n,r,i)=>t(e[i],(t=>t[0]===n&&t[1]===r)))(Be),$r=new WeakMap,Rr=(t=>e=>{var n;return null!==(n=t.get(e))&&void 0!==n?n:0})($r),Nr=(Vr=new Map,Pr=new WeakMap,(t,e)=>{const n=Pr.get(t);if(void 0!==n)return n;const r=Vr.get(t);if(void 0!==r)return r;try{const n=e();return n instanceof Promise?(Vr.set(t,n),n.catch((()=>!1)).then((e=>(Vr.delete(t),Pr.set(t,e),e)))):(Pr.set(t,n),n)}catch{return Pr.set(t,!1),!1}});var Vr,Pr;const qr="undefined"==typeof window?null:window,jr=((t,e)=>(n,r)=>{const i=n.createAnalyser();if(tr(i,r),!(r.maxDecibels>r.minDecibels))throw e();return Kn(i,r,"fftSize"),Kn(i,r,"maxDecibels"),Kn(i,r,"minDecibels"),Kn(i,r,"smoothingTimeConstant"),t(er,(()=>er(i)))||(t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let t=0;t<r;t+=1)e[t]=.0078125*(n[t]-128);return e}})(i),i})(Nr,Ke),Fr=(t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(an),Wr=((t,e,n)=>async(r,i,s,o)=>{const a=t(r),u=[...o,r];await Promise.all(a.activeInputs.map(((t,o)=>Array.from(t).filter((([t])=>!u.includes(t))).map((async([t,a])=>{const c=e(t),l=await c.render(t,i,u),h=r.context.destination;n(t)||r===h&&n(r)||l.connect(s,a,o)})))).reduce(((t,e)=>[...t,...e]),[]))})(an,Fr,Cn),Lr=((t,e,n)=>()=>{const r=new WeakMap;return{render(i,s,o){const a=r.get(s);return void 0!==a?Promise.resolve(a):(async(i,s,o)=>{let a=e(i);if(!Qe(a,s)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(s,e)}return r.set(s,a),await n(i,s,a,o),a})(i,s,o)}}})(jr,bn,Wr),Br=(zr=De,t=>{const e=zr.get(t);if(void 0===e)throw Zn();return e});var zr;const Ur=(t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null)(qr),Gr=(t=>e=>null!==t&&e instanceof t)(Ur),Zr=new WeakMap,Yr=(t=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(e,n,r){if(null!==n){let i=this._listeners.get(n);void 0===i&&(i=t(this,n),"function"==typeof n&&this._listeners.set(n,i)),this._nativeEventTarget.addEventListener(e,i,r)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,e,n){const r=null===e?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(t,void 0===r?null:r,n)}})(Mr),Xr=(t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null)(qr),Hr=(t=>e=>null!==t&&e instanceof t)(Xr),Qr=(t=>e=>null!==t&&"function"==typeof t.AudioNode&&e instanceof t.AudioNode)(qr),Jr=(t=>e=>null!==t&&"function"==typeof t.AudioParam&&e instanceof t.AudioParam)(qr),Kr=((t,e,n,r,i,s,o,a,u,c,l,h,p,f,d)=>class extends c{constructor(e,r,i,s){super(i),this._context=e,this._nativeAudioNode=i;const o=l(e);h(o)&&!0!==n(kn,(()=>kn(o)))&&(t=>{const e=new Map;t.connect=(t=>(n,r=0,i=0)=>{const s=On(n)?t(n,r,i):t(n,r),o=e.get(n);return void 0===o?e.set(n,[{input:i,output:r}]):o.every((t=>t.input!==i||t.output!==r))&&o.push({input:i,output:r}),s})(t.connect.bind(t)),t.disconnect=(n=>(r,i,s)=>{if(n.apply(t),void 0===r)e.clear();else if("number"==typeof r)for(const[t,n]of e){const i=n.filter((t=>t.output!==r));0===i.length?e.delete(t):e.set(t,i)}else if(e.has(r))if(void 0===i)e.delete(r);else{const t=e.get(r);if(void 0!==t){const n=t.filter((t=>t.output!==i&&(t.input!==s||void 0===s)));0===n.length?e.delete(r):e.set(r,n)}}for(const[n,r]of e)r.forEach((e=>{On(n)?t.connect(n,e.output,e.input):t.connect(n,e.output)}))})(t.disconnect)})(i),Me.set(this,i),$e.set(this,new Set),"closed"!==e.state&&r&&Ge(this),t(this,s,i)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(t){this._nativeAudioNode.channelCount=t}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(t){this._nativeAudioNode.channelCountMode=t}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(t){this._nativeAudioNode.channelInterpretation=t}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(t,n=0,a=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw i();const c=l(this._context),h=d(c);if(p(t)||f(t))throw s();if(hn(t)){const i=bn(t);try{const e=gn(this._nativeAudioNode,i,n,a),r=An(this);(h||r)&&this._nativeAudioNode.disconnect(...e),"closed"!==this.context.state&&!r&&An(t)&&Ge(t)}catch(t){if(12===t.code)throw s();throw t}if(e(this,t,n,a,h)){const e=u([this],t);Sn(e,r(h))}return t}const m=Tn(t);if("playbackRate"===m.name)throw o();try{this._nativeAudioNode.connect(m,n),(h||An(this))&&this._nativeAudioNode.disconnect(m,n)}catch(t){if(12===t.code)throw s();throw t}if(Mn(this,t,n,h)){const e=u([this],t);Sn(e,r(h))}}disconnect(t,e,n){let r;const o=l(this._context),c=d(o);if(void 0===t)r=((t,e)=>{const n=an(t),r=[];for(const i of n.outputs)pn(i)?En(t,e,...i):In(t,e,...i),r.push(i[0]);return n.outputs.clear(),r})(this,c);else if("number"==typeof t){if(t<0||t>=this.numberOfOutputs)throw i();r=((t,e,n)=>{const r=an(t),i=[];for(const s of r.outputs)s[1]===n&&(pn(s)?En(t,e,...s):In(t,e,...s),i.push(s[0]),r.outputs.delete(s));return i})(this,c,t)}else{if(void 0!==e&&(e<0||e>=this.numberOfOutputs))throw i();if(hn(t)&&void 0!==n&&(n<0||n>=t.numberOfInputs))throw i();if(r=((t,e,n,r,i)=>{const s=an(t);return Array.from(s.outputs).filter((t=>!(t[0]!==n||void 0!==r&&t[1]!==r||void 0!==i&&t[2]!==i))).map((n=>(pn(n)?En(t,e,...n):In(t,e,...n),s.outputs.delete(n),n[0])))})(this,c,t,e,n),0===r.length)throw s()}for(const t of r){const e=u([this],t);Sn(e,a)}}})((ti=Oe,(t,e,n)=>{const r=[];for(let t=0;t<n.numberOfInputs;t+=1)r.push(new Set);ti.set(t,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:e})}),((t,e,n,r,i,s,o,a,u,c,l,h,p)=>{const f=new WeakMap;return(d,m,_,g,v)=>{const{activeInputs:y,passiveInputs:w}=s(m),{outputs:x}=s(d),b=a(d),T=s=>{const a=u(m),c=u(d);if(s){const e=ze(w,d,_,g);t(y,d,e,!1),v||h(d)||n(c,a,_,g),p(m)&&Ge(m)}else{const t=r(y,d,_,g);e(w,g,t,!1),v||h(d)||i(c,a,_,g);const n=o(m);if(0===n)l(m)&&Xe(m,y);else{const t=f.get(m);void 0!==t&&clearTimeout(t),f.set(m,setTimeout((()=>{l(m)&&Xe(m,y)}),1e3*n))}}};return!!c(x,[m,_,g],(t=>t[0]===m&&t[1]===_&&t[2]===g),!0)&&(b.add(T),l(d)?t(y,d,[_,g,T],!0):e(w,g,[d,_,T],!0),!0)}})(Er,Ir,gn,Dr,xn,an,Rr,Ue,bn,fn,sn,Cn,An),Nr,((t,e,n,r,i,s)=>o=>(a,u)=>{const c=t.get(a);if(void 0===c){if(!o&&s(a)){const t=r(a),{outputs:s}=n(a);for(const n of s)if(pn(n)){const i=r(n[0]);e(t,i,n[1],n[2])}else{const e=i(n[0]);t.disconnect(e,n[1])}}t.set(a,u)}else t.set(a,c+u)})(Re,xn,an,bn,Tn,sn),Ke,Yn,mr,((t,e,n,r,i,s,o,a)=>(u,c)=>{const l=e.get(u);if(void 0===l)throw new Error("Missing the expected cycle count.");const h=s(u.context),p=a(h);if(l===c){if(e.delete(u),!p&&o(u)){const e=r(u),{outputs:s}=n(u);for(const n of s)if(pn(n)){const i=r(n[0]);t(e,i,n[1],n[2])}else{const t=i(n[0]);e.connect(t,n[1])}}}else e.set(u,l-c)})(gn,Re,an,bn,Tn,Br,sn,Gr),((t,e,n)=>function r(i,s){const o=hn(s)?s:n(t,s);if((t=>"delayTime"in t)(o))return[];if(i[0]===o)return[i];if(i.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map((t=>r([...i,o],t[0]))).reduce(((t,e)=>t.concat(e)),[])})(Zr,an,Le),Yr,Br,Hr,Qr,Jr,Gr);var ti;const ei=((t,e,n,r,i,s)=>class extends t{constructor(t,n){const o=i(t),a={...He,...n},u=r(o,a);super(t,!1,u,s(o)?e():null),this._nativeAnalyserNode=u}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(t){this._nativeAnalyserNode.fftSize=t}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(t){const e=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=t,!(t>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=e,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(t){const e=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=t,!(this._nativeAnalyserNode.maxDecibels>t))throw this._nativeAnalyserNode.minDecibels=e,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(t){this._nativeAnalyserNode.smoothingTimeConstant=t}getByteFrequencyData(t){this._nativeAnalyserNode.getByteFrequencyData(t)}getByteTimeDomainData(t){this._nativeAnalyserNode.getByteTimeDomainData(t)}getFloatFrequencyData(t){this._nativeAnalyserNode.getFloatFrequencyData(t)}getFloatTimeDomainData(t){this._nativeAnalyserNode.getFloatTimeDomainData(t)}})(Kr,Lr,Ke,jr,Br,Gr),ni=new WeakSet,ri=(t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null)(qr),ii=(si=new Uint32Array(1),t=>(si[0]=t,si[0]));var si;const oi=((t,e)=>n=>{n.copyFromChannel=(r,i,s=0)=>{const o=t(s),a=t(i);if(a>=n.numberOfChannels)throw e();const u=n.length,c=n.getChannelData(a),l=r.length;for(let t=o<0?-o:0;t+o<u&&t<l;t+=1)r[t]=c[t+o]},n.copyToChannel=(r,i,s=0)=>{const o=t(s),a=t(i);if(a>=n.numberOfChannels)throw e();const u=n.length,c=n.getChannelData(a),l=r.length;for(let t=o<0?-o:0;t+o<u&&t<l;t+=1)c[t+o]=r[t]}})(ii,Ke),ai=(t=>e=>{e.copyFromChannel=(n=>(r,i,s=0)=>{const o=t(s),a=t(i);if(o<e.length)return n.call(e,r,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(r,i,s=0)=>{const o=t(s),a=t(i);if(o<e.length)return n.call(e,r,a,o)})(e.copyToChannel)})(ii),ui=((t,e,n,r,i,s,o,a)=>{let u=null;return class c{constructor(c){if(null===i)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:l,numberOfChannels:h,sampleRate:p}={...en,...c};null===u&&(u=new i(1,1,44100));const f=null!==r&&e(s,s)?new r({length:l,numberOfChannels:h,sampleRate:p}):u.createBuffer(h,l,p);if(0===f.numberOfChannels)throw n();return"function"!=typeof f.copyFromChannel?(o(f),tn(f)):e(Je,(()=>Je(f)))||a(f),t.add(f),f}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===c.prototype||t.has(e)}}})(ni,Nr,mr,ri,Ur,(t=>()=>{if(null===t)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0})(ri),oi,ai),ci=(t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const i=()=>{n.removeEventListener("ended",i),n.disconnect(r),r.disconnect()};n.addEventListener("ended",i)})(hr),li=((t,e,n)=>async(r,i,s,o)=>{const a=e(r);await Promise.all(Array.from(a.activeInputs).map((async([e,r])=>{const a=t(e),u=await a.render(e,i,o);n(e)||u.connect(s,r)})))})(Fr,un,Cn),hi=(t=>(e,n,r,i)=>t(n,e,r,i))(li),pi=((t,e,n,r,i,s,o,a,u,c,l)=>(h,p)=>{const f=h.createBufferSource();return tr(f,p),nr(f,p,"playbackRate"),Kn(f,p,"buffer"),Kn(f,p,"loop"),Kn(f,p,"loopEnd"),Kn(f,p,"loopStart"),e(n,(()=>n(h)))||(t=>{t.start=(e=>{let n=!1;return(r=0,i=0,s)=>{if(n)throw Zn();e.call(t,r,i,s),n=!0}})(t.start)})(f),e(r,(()=>r(h)))||u(f),e(i,(()=>i(h)))||c(f,h),e(s,(()=>s(h)))||rr(f),e(o,(()=>o(h)))||l(f,h),e(a,(()=>a(h)))||ir(f),t(h,f),f})(ci,Nr,(t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1}),(t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0}),(t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0}),Ar,kr,Sr,(t=>{var e;t.start=(e=t.start,(n=0,r=0,i)=>{const s=t.buffer,o=null===s?r:Math.min(s.duration,r);null!==s&&o>s.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,i)})}),(t=>(e,n)=>{const r=n.createBuffer(1,1,44100);null===e.buffer&&(e.buffer=r),t(e,"buffer",(t=>()=>{const n=t.call(e);return n===r?null:n}),(t=>n=>t.call(e,null===n?r:n)))})(Tr),Or),fi=((t,e)=>(n,r,i,s)=>(t(r).replay(i),e(r,n,i,s)))((t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(un),li),di=((t,e,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(u,c,l){const h=s.get(c);return void 0!==h?Promise.resolve(h):(async(u,c,l)=>{let h=n(u);const p=Qe(h,c);if(!p){const t={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(c,t),null!==o&&h.start(...o),null!==a&&h.stop(a)}return s.set(c,h),p?await t(c,u.playbackRate,h.playbackRate,l):await r(c,u.playbackRate,h.playbackRate,l),await i(u,c,h,l),h})(u,c,l)}}})(hi,pi,bn,fi,Wr),mi=((t,e,n,r,i,s,o,a,u,c,l,h,p)=>(f,d,m,_=null,g=null)=>{const v=new ke.AutomationEventList(m.defaultValue),y=d?r(v):null,w={get defaultValue(){return m.defaultValue},get maxValue(){return null===_?m.maxValue:_},get minValue(){return null===g?m.minValue:g},get value(){return m.value},set value(t){m.value=t,w.setValueAtTime(t,f.context.currentTime)},cancelAndHoldAtTime(t){if("function"==typeof m.cancelAndHoldAtTime)null===y&&v.flush(f.context.currentTime),v.add(i(t)),m.cancelAndHoldAtTime(t);else{const e=Array.from(v).pop();null===y&&v.flush(f.context.currentTime),v.add(i(t));const n=Array.from(v).pop();m.cancelScheduledValues(t),e!==n&&void 0!==n&&("exponentialRampToValue"===n.type?m.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?m.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?m.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&m.setValueCurveAtTime(n.values,n.startTime,n.duration))}return w},cancelScheduledValues:t=>(null===y&&v.flush(f.context.currentTime),v.add(s(t)),m.cancelScheduledValues(t),w),exponentialRampToValueAtTime(t,e){if(0===t)throw new RangeError;if(!Number.isFinite(e)||e<0)throw new RangeError;return null===y&&v.flush(f.context.currentTime),v.add(o(t,e)),m.exponentialRampToValueAtTime(t,e),w},linearRampToValueAtTime:(t,e)=>(null===y&&v.flush(f.context.currentTime),v.add(a(t,e)),m.linearRampToValueAtTime(t,e),w),setTargetAtTime:(t,e,n)=>(null===y&&v.flush(f.context.currentTime),v.add(u(t,e,n)),m.setTargetAtTime(t,e,n),w),setValueAtTime:(t,e)=>(null===y&&v.flush(f.context.currentTime),v.add(c(t,e)),m.setValueAtTime(t,e),w),setValueCurveAtTime(t,e,n){const r=t instanceof Float32Array?t:new Float32Array(t);if(null!==h&&"webkitAudioContext"===h.name){const t=e+n,i=f.context.sampleRate,s=Math.ceil(e*i),o=Math.floor(t*i),a=o-s,u=new Float32Array(a);for(let t=0;t<a;t+=1){const o=(r.length-1)/n*((s+t)/i-e),a=Math.floor(o),c=Math.ceil(o);u[t]=a===c?r[a]:(1-(o-a))*r[a]+(1-(c-o))*r[c]}null===y&&v.flush(f.context.currentTime),v.add(l(u,e,n)),m.setValueCurveAtTime(u,e,n);const c=o/i;c<t&&p(w,u[u.length-1],c),p(w,r[r.length-1],t)}else null===y&&v.flush(f.context.currentTime),v.add(l(r,e,n)),m.setValueCurveAtTime(r,e,n);return w}};return n.set(w,m),e.set(w,f),t(w,y),w})((_i=Ee,(t,e)=>{_i.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})}),Zr,Ie,(t=>({replay(e){for(const n of t)if("exponentialRampToValue"===n.type){const{endTime:t,value:r}=n;e.exponentialRampToValueAtTime(r,t)}else if("linearRampToValue"===n.type){const{endTime:t,value:r}=n;e.linearRampToValueAtTime(r,t)}else if("setTarget"===n.type){const{startTime:t,target:r,timeConstant:i}=n;e.setTargetAtTime(r,t,i)}else if("setValue"===n.type){const{startTime:t,value:r}=n;e.setValueAtTime(r,t)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:t,startTime:r,values:i}=n;e.setValueCurveAtTime(i,r,t)}}}})),ke.createCancelAndHoldAutomationEvent,ke.createCancelScheduledValuesAutomationEvent,ke.createExponentialRampToValueAutomationEvent,ke.createLinearRampToValueAutomationEvent,ke.createSetTargetAutomationEvent,ke.createSetValueAutomationEvent,ke.createSetValueCurveAutomationEvent,Xr,Cr);var _i;const gi=((t,e,n,r,i,s,o,a)=>class extends t{constructor(t,r){const a=s(t),u={...on,...r},c=i(a,u),l=o(a),h=l?e():null;super(t,!1,c,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==u.buffer,this._nativeAudioBufferSourceNode=c,this._onended=null,this._playbackRate=n(this,l,c.playbackRate,rn,nn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(t){if(this._nativeAudioBufferSourceNode.buffer=t,null!==t){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(t){this._nativeAudioBufferSourceNode.loop=t}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(t){this._nativeAudioBufferSourceNode.loopEnd=t}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(t){this._nativeAudioBufferSourceNode.loopStart=t}get onended(){return this._onended}set onended(t){const e="function"==typeof t?a(this,t):null;this._nativeAudioBufferSourceNode.onended=e;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===e?t:n}get playbackRate(){return this._playbackRate}start(t=0,e=0,n){if(this._nativeAudioBufferSourceNode.start(t,e,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[t,e]:[t,e,n]),"closed"!==this.context.state){Ge(this);const t=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",t),sn(this)&&Ye(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeAudioBufferSourceNode.stop(t),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=t)}})(Kr,di,mi,Zn,pi,Br,Gr,Mr),vi=((t,e,n,r,i,s,o,a)=>class extends t{constructor(t,n){const r=s(t),u=o(r),c=i(r,n,u);super(t,!1,c,u?e(a):null),this._isNodeOfNativeOfflineAudioContext=u,this._nativeAudioDestinationNode=c}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(t){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(t>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=t}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(t){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=t}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(Kr,(t=>{let e=null;return{render:(n,r,i)=>(null===e&&(e=(async(e,n,r)=>{const i=n.destination;return await t(e,n,i,r),i})(n,r,i)),e)}}),Ke,Zn,((t,e)=>(n,r,i)=>{const s=n.destination;if(s.channelCount!==r)try{s.channelCount=r}catch{}i&&"explicit"!==s.channelCountMode&&(s.channelCountMode="explicit"),0===s.maxChannelCount&&Object.defineProperty(s,"maxChannelCount",{value:r});const o=t(n,{channelCount:r,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return e(o,"channelCount",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e);try{s.channelCount=e}catch(t){if(e>s.maxChannelCount)throw t}})),e(o,"channelCountMode",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e),s.channelCountMode=e})),e(o,"channelInterpretation",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e),s.channelInterpretation=e})),Object.defineProperty(o,"maxChannelCount",{get:()=>s.maxChannelCount}),o.connect(s),o})(hr,Tr),Br,Gr,Wr),yi=((t,e,n,r,i)=>()=>{const s=new WeakMap;return{render(o,a,u){const c=s.get(a);return void 0!==c?Promise.resolve(c):(async(o,a,u)=>{let c=n(o);const l=Qe(c,a);if(!l){const t={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=e(a,t)}return s.set(a,c),l?(await t(a,o.Q,c.Q,u),await t(a,o.detune,c.detune,u),await t(a,o.frequency,c.frequency,u),await t(a,o.gain,c.gain,u)):(await r(a,o.Q,c.Q,u),await r(a,o.detune,c.detune,u),await r(a,o.frequency,c.frequency,u),await r(a,o.gain,c.gain,u)),await i(o,a,c,u),c})(o,a,u)}}})(hi,ar,bn,fi,Wr),wi=(t=>(e,n)=>t.set(e,n))($r),xi=((t,e,n,r,i,s,o,a)=>class extends t{constructor(t,r){const u=s(t),c={...qn,...r},l=i(u,c),h=o(u);super(t,!1,l,h?n():null),this._Q=e(this,h,l.Q,rn,nn),this._detune=e(this,h,l.detune,1200*Math.log2(rn),-1200*Math.log2(rn)),this._frequency=e(this,h,l.frequency,t.sampleRate/2,0),this._gain=e(this,h,l.gain,40*Math.log10(rn),nn),this._nativeBiquadFilterNode=l,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(t){this._nativeBiquadFilterNode.type=t}getFrequencyResponse(t,e,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(t,e,n)}catch(t){if(11===t.code)throw r();throw t}if(t.length!==e.length||e.length!==n.length)throw r()}})(Kr,mi,yi,Yn,ar,Br,Gr,wi),bi=((t,e)=>(n,r,i)=>{const s=new Set;return n.connect=(i=>(o,a=0,u=0)=>{const c=0===s.size;if(e(o))return i.call(n,o,a,u),t(s,[o,a,u],(t=>t[0]===o&&t[1]===a&&t[2]===u),!0),c&&r(),o;i.call(n,o,a),t(s,[o,a],(t=>t[0]===o&&t[1]===a),!0),c&&r()})(n.connect),n.disconnect=(t=>(r,o,a)=>{const u=s.size>0;if(void 0===r)t.apply(n),s.clear();else if("number"==typeof r){t.call(n,r);for(const t of s)t[1]===r&&s.delete(t)}else{e(r)?t.call(n,r,o,a):t.call(n,r,o);for(const t of s)t[0]!==r||void 0!==o&&t[1]!==o||void 0!==a&&t[2]!==a||s.delete(t)}const c=0===s.size;u&&c&&i()})(n.disconnect),n})(fn,Qr),Ti=((t,e)=>(n,r)=>{const i=n.createChannelMerger(r.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&e(n,i),tr(i,r),i})(Xr,((t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const i=n.createBufferSource();e(r,(()=>{const t=r.numberOfInputs;for(let e=0;e<t;e+=1)i.connect(r,0,e)}),(()=>i.disconnect(r)))})(Zn,bi)),Ci=((t,e,n,r,i)=>class extends t{constructor(t,s){const o=r(t),a={...jn,...s};super(t,!1,n(o,a),i(o)?e():null)}})(Kr,((t,e,n)=>()=>{const r=new WeakMap;return{render(i,s,o){const a=r.get(s);return void 0!==a?Promise.resolve(a):(async(i,s,o)=>{let a=e(i);if(!Qe(a,s)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(s,e)}return r.set(s,a),await n(i,s,a,o),a})(i,s,o)}}})(Ti,bn,Wr),Ti,Br,Gr),Ai=((t,e,n,r,i,s)=>class extends t{constructor(t,o){const a=r(t),u=s({...Fn,...o});super(t,!1,n(a,u),i(a)?e():null)}})(Kr,((t,e,n)=>()=>{const r=new WeakMap;return{render(i,s,o){const a=r.get(s);return void 0!==a?Promise.resolve(a):(async(i,s,o)=>{let a=e(i);if(!Qe(a,s)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(s,e)}return r.set(s,a),await n(i,s,a,o),a})(i,s,o)}}})(ur,bn,Wr),ur,Br,Gr,(t=>({...t,channelCount:t.numberOfOutputs}))),ki=((t,e,n,r)=>(i,{offset:s,...o})=>{const a=i.createBuffer(1,2,44100),u=e(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(i,{...o,gain:s}),l=a.getChannelData(0);l[0]=1,l[1]=1,u.buffer=a,u.loop=!0;const h={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){c.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){c.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){c.channelInterpretation=t},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return u.onended},set onended(t){u.onended=t},addEventListener:(...t)=>u.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>u.dispatchEvent(t[0]),removeEventListener:(...t)=>u.removeEventListener(t[0],t[1],t[2]),start(t=0){u.start.call(u,t)},stop(t=0){u.stop.call(u,t)}};return t(i,u),r(cr(h,c),(()=>u.connect(c)),(()=>u.disconnect(c)))})(ci,pi,hr,bi),Si=((t,e,n,r,i)=>(s,o)=>{if(void 0===s.createConstantSource)return n(s,o);const a=s.createConstantSource();return tr(a,o),nr(a,o,"offset"),e(r,(()=>r(s)))||rr(a),e(i,(()=>i(s)))||ir(a),t(s,a),a})(ci,Nr,ki,Ar,Sr),Oi=((t,e,n,r,i,s,o)=>class extends t{constructor(t,o){const a=i(t),u={...Wn,...o},c=r(a,u),l=s(a),h=l?n():null;super(t,!1,c,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=c,this._offset=e(this,l,c.offset,rn,nn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(t){const e="function"==typeof t?o(this,t):null;this._nativeConstantSourceNode.onended=e;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===e?t:n}start(t=0){if(this._nativeConstantSourceNode.start(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=t),"closed"!==this.context.state){Ge(this);const t=()=>{this._nativeConstantSourceNode.removeEventListener("ended",t),sn(this)&&Ye(this)};this._nativeConstantSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeConstantSourceNode.stop(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=t)}})(Kr,mi,((t,e,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(u,c,l){const h=s.get(c);return void 0!==h?Promise.resolve(h):(async(u,c,l)=>{let h=n(u);const p=Qe(h,c);if(!p){const t={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(c,t),null!==o&&h.start(o),null!==a&&h.stop(a)}return s.set(c,h),p?await t(c,u.offset,h.offset,l):await r(c,u.offset,h.offset,l),await i(u,c,h,l),h})(u,c,l)}}})(hi,Si,bn,fi,Wr),Si,Br,Gr,Mr),Mi=((t,e)=>(n,r)=>{const i=n.createConvolver();if(tr(i,r),r.disableNormalization===i.normalize&&(i.normalize=!r.disableNormalization),Kn(i,r,"buffer"),r.channelCount>2)throw t();if(e(i,"channelCount",(t=>()=>t.call(i)),(e=>n=>{if(n>2)throw t();return e.call(i,n)})),"max"===r.channelCountMode)throw t();return e(i,"channelCountMode",(t=>()=>t.call(i)),(e=>n=>{if("max"===n)throw t();return e.call(i,n)})),i})(mr,Tr),Ei=((t,e,n,r,i,s)=>class extends t{constructor(t,o){const a=r(t),u={...Ln,...o},c=n(a,u);super(t,!1,c,i(a)?e():null),this._isBufferNullified=!1,this._nativeConvolverNode=c,null!==u.buffer&&s(this,u.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(t){if(this._nativeConvolverNode.buffer=t,null===t&&null!==this._nativeConvolverNode.buffer){const t=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=t.createBuffer(1,1,44100),this._isBufferNullified=!0,s(this,0)}else this._isBufferNullified=!1,s(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(t){this._nativeConvolverNode.normalize=t}})(Kr,((t,e,n)=>()=>{const r=new WeakMap;return{render(i,s,o){const a=r.get(s);return void 0!==a?Promise.resolve(a):(async(i,s,o)=>{let a=e(i);if(!Qe(a,s)){const e={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(s,e)}return r.set(s,a),_n(a)?await n(i,s,a.inputs[0],o):await n(i,s,a,o),a})(i,s,o)}}})(Mi,bn,Wr),Mi,Br,Gr,wi),Ii=((t,e,n,r,i,s,o)=>class extends t{constructor(t,a){const u=i(t),c={...Bn,...a},l=r(u,c),h=s(u);super(t,!1,l,h?n(c.maxDelayTime):null),this._delayTime=e(this,h,l.delayTime),o(this,c.maxDelayTime)}get delayTime(){return this._delayTime}})(Kr,mi,((t,e,n,r,i)=>s=>{const o=new WeakMap;return{render(a,u,c){const l=o.get(u);return void 0!==l?Promise.resolve(l):(async(a,u,c)=>{let l=n(a);const h=Qe(l,u);if(!h){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,delayTime:l.delayTime.value,maxDelayTime:s};l=e(u,t)}return o.set(u,l),h?await t(u,a.delayTime,l.delayTime,c):await r(u,a.delayTime,l.delayTime,c),await i(a,u,l,c),l})(a,u,c)}}})(hi,lr,bn,fi,Wr),lr,Br,Gr,wi),Di=(t=>(e,n)=>{const r=e.createDynamicsCompressor();if(tr(r,n),n.channelCount>2)throw t();if("max"===n.channelCountMode)throw t();return nr(r,n,"attack"),nr(r,n,"knee"),nr(r,n,"ratio"),nr(r,n,"release"),nr(r,n,"threshold"),r})(mr),$i=((t,e,n,r,i,s,o,a)=>class extends t{constructor(t,i){const u=s(t),c={...Un,...i},l=r(u,c),h=o(u);super(t,!1,l,h?n():null),this._attack=e(this,h,l.attack),this._knee=e(this,h,l.knee),this._nativeDynamicsCompressorNode=l,this._ratio=e(this,h,l.ratio),this._release=e(this,h,l.release),this._threshold=e(this,h,l.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(t){const e=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=t,t>2)throw this._nativeDynamicsCompressorNode.channelCount=e,i()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(t){const e=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=t,"max"===t)throw this._nativeDynamicsCompressorNode.channelCountMode=e,i()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(Kr,mi,((t,e,n,r,i)=>()=>{const s=new WeakMap;return{render(o,a,u){const c=s.get(a);return void 0!==c?Promise.resolve(c):(async(o,a,u)=>{let c=n(o);const l=Qe(c,a);if(!l){const t={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=e(a,t)}return s.set(a,c),l?(await t(a,o.attack,c.attack,u),await t(a,o.knee,c.knee,u),await t(a,o.ratio,c.ratio,u),await t(a,o.release,c.release,u),await t(a,o.threshold,c.threshold,u)):(await r(a,o.attack,c.attack,u),await r(a,o.knee,c.knee,u),await r(a,o.ratio,c.ratio,u),await r(a,o.release,c.release,u),await r(a,o.threshold,c.threshold,u)),await i(o,a,c,u),c})(o,a,u)}}})(hi,Di,bn,fi,Wr),Di,mr,Br,Gr,wi),Ri=((t,e,n,r,i,s)=>class extends t{constructor(t,o){const a=i(t),u={...Gn,...o},c=r(a,u),l=s(a);super(t,!1,c,l?n():null),this._gain=e(this,l,c.gain,rn,nn)}get gain(){return this._gain}})(Kr,mi,((t,e,n,r,i)=>()=>{const s=new WeakMap;return{render(o,a,u){const c=s.get(a);return void 0!==c?Promise.resolve(c):(async(o,a,u)=>{let c=n(o);const l=Qe(c,a);if(!l){const t={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=e(a,t)}return s.set(a,c),l?await t(a,o.gain,c.gain,u):await r(a,o.gain,c.gain,u),await i(o,a,c,u),c})(o,a,u)}}})(hi,hr,bn,fi,Wr),hr,Br,Gr),Ni=((t,e,n,r)=>(i,s,{channelCount:o,channelCountMode:a,channelInterpretation:u,feedback:c,feedforward:l})=>{const h=sr(s,i.sampleRate),p=c instanceof Float64Array?c:new Float64Array(c),f=l instanceof Float64Array?l:new Float64Array(l),d=p.length,m=f.length,_=Math.min(d,m);if(0===d||d>20)throw r();if(0===p[0])throw e();if(0===m||m>20)throw r();if(0===f[0])throw e();if(1!==p[0]){for(let t=0;t<m;t+=1)f[t]/=p[0];for(let t=1;t<d;t+=1)p[t]/=p[0]}const g=n(i,h,o,o);g.channelCount=o,g.channelCountMode=a,g.channelInterpretation=u;const v=[],y=[],w=[];for(let t=0;t<o;t+=1){v.push(0);const t=new Float32Array(32),e=new Float32Array(32);t.fill(0),e.fill(0),y.push(t),w.push(e)}g.onaudioprocess=t=>{const e=t.inputBuffer,n=t.outputBuffer,r=e.numberOfChannels;for(let t=0;t<r;t+=1){const r=e.getChannelData(t),i=n.getChannelData(t);v[t]=Hn(p,d,f,m,_,y[t],w[t],v[t],32,r,i)}};const x=i.sampleRate/2;return cr({get bufferSize(){return h},get channelCount(){return g.channelCount},set channelCount(t){g.channelCount=t},get channelCountMode(){return g.channelCountMode},set channelCountMode(t){g.channelCountMode=t},get channelInterpretation(){return g.channelInterpretation},set channelInterpretation(t){g.channelInterpretation=t},get context(){return g.context},get inputs(){return[g]},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},addEventListener:(...t)=>g.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>g.dispatchEvent(t[0]),getFrequencyResponse(e,n,r){if(e.length!==n.length||n.length!==r.length)throw t();const i=e.length;for(let t=0;t<i;t+=1){const i=-Math.PI*(e[t]/x),s=[Math.cos(i),Math.sin(i)],o=pr(fr(f,s),fr(p,s));n[t]=Math.sqrt(o[0]*o[0]+o[1]*o[1]),r[t]=Math.atan2(o[1],o[0])}},removeEventListener:(...t)=>g.removeEventListener(t[0],t[1],t[2])},g)})(Yn,Zn,dr,mr),Vi=((t,e,n,r)=>i=>t(Jn,(()=>Jn(i)))?Promise.resolve(t(r,r)).then((t=>{if(!t){const t=n(i,512,0,1);i.oncomplete=()=>{t.onaudioprocess=null,t.disconnect()},t.onaudioprocess=()=>i.currentTime,t.connect(i.destination)}return i.startRendering()})):new Promise((t=>{const n=e(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=e=>{n.disconnect(),t(e.renderedBuffer)},n.connect(i.destination),i.startRendering()})))(Nr,hr,dr,((t,e)=>()=>{if(null===e)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((t=>{n.oncomplete=()=>{r.disconnect(),t(0!==n.currentTime)},n.startRendering()}))})(hr,Ur)),Pi=((t,e,n,r,i)=>(s,o)=>{const a=new WeakMap;let u=null;const c=async(c,l,h)=>{let p=null,f=e(c);const d=Qe(f,l);if(void 0===l.createIIRFilter?p=t(l,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):d||(f=l.createIIRFilter(o,s)),a.set(l,null===p?f:p),null!==p){if(null===u){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new n(c.context.destination.channelCount,c.context.length,l.sampleRate);u=(async()=>{await r(c,t,t.destination,h);return((t,e,n,r)=>{const i=n instanceof Float64Array?n:new Float64Array(n),s=r instanceof Float64Array?r:new Float64Array(r),o=i.length,a=s.length,u=Math.min(o,a);if(1!==i[0]){for(let t=0;t<o;t+=1)s[t]/=i[0];for(let t=1;t<a;t+=1)i[t]/=i[0]}const c=new Float32Array(32),l=new Float32Array(32),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),p=t.numberOfChannels;for(let e=0;e<p;e+=1){const n=t.getChannelData(e),r=h.getChannelData(e);c.fill(0),l.fill(0),Hn(i,o,s,a,u,c,l,0,32,n,r)}return h})(await i(t),l,s,o)})()}const t=await u;return p.buffer=t,p.start(0),p}return await r(c,l,f,h),f};return{render(t,e,n){const r=a.get(e);return void 0!==r?Promise.resolve(r):c(t,e,n)}}})(pi,bn,Ur,Wr,Vi),qi=((t,e,n,r,i,s)=>class extends t{constructor(t,o){const a=r(t),u=i(a),c={...Xn,...o},l=e(a,u?null:t.baseLatency,c);super(t,!1,l,u?n(c.feedback,c.feedforward):null),(t=>{var e;t.getFrequencyResponse=(e=t.getFrequencyResponse,(n,r,i)=>{if(n.length!==r.length||r.length!==i.length)throw Yn();return e.call(t,n,r,i)})})(l),this._nativeIIRFilterNode=l,s(this,1)}getFrequencyResponse(t,e,n){return this._nativeIIRFilterNode.getFrequencyResponse(t,e,n)}})(Kr,(t=>(e,n,r)=>{if(void 0===e.createIIRFilter)return t(e,n,r);const i=e.createIIRFilter(r.feedforward,r.feedback);return tr(i,r),i})(Ni),Pi,Br,Gr,wi),ji=((t,e,n,r,i)=>(s,o)=>{const a=o.listener,{forwardX:u,forwardY:c,forwardZ:l,positionX:h,positionY:p,positionZ:f,upX:d,upY:m,upZ:_}=void 0===a.forwardX?(()=>{const u=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),c=i(o),l=r(o,256,9,0),h=(e,r)=>{const i=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:r});return i.connect(u,0,e),i.start(),Object.defineProperty(i.offset,"defaultValue",{get:()=>r}),t({context:s},c,i.offset,rn,nn)};let p=[0,0,-1,0,1,0],f=[0,0,0];return l.onaudioprocess=({inputBuffer:t})=>{const e=[t.getChannelData(0)[0],t.getChannelData(1)[0],t.getChannelData(2)[0],t.getChannelData(3)[0],t.getChannelData(4)[0],t.getChannelData(5)[0]];e.some(((t,e)=>t!==p[e]))&&(a.setOrientation(...e),p=e);const n=[t.getChannelData(6)[0],t.getChannelData(7)[0],t.getChannelData(8)[0]];n.some(((t,e)=>t!==f[e]))&&(a.setPosition(...n),f=n)},u.connect(l),{forwardX:h(0,0),forwardY:h(1,0),forwardZ:h(2,-1),positionX:h(6,0),positionY:h(7,0),positionZ:h(8,0),upX:h(3,0),upY:h(4,1),upZ:h(5,0)}})():a;return{get forwardX(){return u},get forwardY(){return c},get forwardZ(){return l},get positionX(){return h},get positionY(){return p},get positionZ(){return f},get upX(){return d},get upY(){return m},get upZ(){return _}}})(mi,Ti,Si,dr,Gr),Fi=new WeakMap,Wi=((t,e,n,r,i,s)=>class extends n{constructor(n,s){super(n),this._nativeContext=n,De.set(this,n),r(n)&&i.set(n,new Set),this._destination=new t(this,s),this._listener=e(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(t){const e="function"==typeof t?s(this,t):null;this._nativeContext.onstatechange=e;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===e?t:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(vi,ji,Yr,Gr,Fi,Mr),Li=((t,e,n,r,i,s)=>(o,a)=>{const u=o.createOscillator();return tr(u,a),nr(u,a,"detune"),nr(u,a,"frequency"),void 0!==a.periodicWave?u.setPeriodicWave(a.periodicWave):Kn(u,a,"type"),e(n,(()=>n(o)))||rr(u),e(r,(()=>r(o)))||s(u,o),e(i,(()=>i(o)))||ir(u),t(o,u),u})(ci,Nr,Ar,kr,Sr,Or),Bi=((t,e,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null,u=null;return{set periodicWave(t){o=t},set start(t){a=t},set stop(t){u=t},render(c,l,h){const p=s.get(l);return void 0!==p?Promise.resolve(p):(async(c,l,h)=>{let p=n(c);const f=Qe(p,l);if(!f){const t={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,detune:p.detune.value,frequency:p.frequency.value,periodicWave:null===o?void 0:o,type:p.type};p=e(l,t),null!==a&&p.start(a),null!==u&&p.stop(u)}return s.set(l,p),f?(await t(l,c.detune,p.detune,h),await t(l,c.frequency,p.frequency,h)):(await r(l,c.detune,p.detune,h),await r(l,c.frequency,p.frequency,h)),await i(c,l,p,h),p})(c,l,h)}}})(hi,Li,bn,fi,Wr),zi=((t,e,n,r,i,s,o)=>class extends t{constructor(t,o){const a=i(t),u={...gr,...o},c=n(a,u),l=s(a),h=l?r():null,p=t.sampleRate/2;super(t,!1,c,h),this._detune=e(this,l,c.detune,153600,-153600),this._frequency=e(this,l,c.frequency,p,-p),this._nativeOscillatorNode=c,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==u.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=u.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(t){const e="function"==typeof t?o(this,t):null;this._nativeOscillatorNode.onended=e;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===e?t:n}get type(){return this._nativeOscillatorNode.type}set type(t){this._nativeOscillatorNode.type=t,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(t){this._nativeOscillatorNode.setPeriodicWave(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=t)}start(t=0){if(this._nativeOscillatorNode.start(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=t),"closed"!==this.context.state){Ge(this);const t=()=>{this._nativeOscillatorNode.removeEventListener("ended",t),sn(this)&&Ye(this)};this._nativeOscillatorNode.addEventListener("ended",t)}}stop(t=0){this._nativeOscillatorNode.stop(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=t)}})(Kr,mi,Li,Bi,Br,Gr,Mr),Ui=(t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=e.createBuffer(1,2,44100);return r.buffer=i,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}})(pi),Gi=((t,e,n,r,i)=>(s,{curve:o,oversample:a,...u})=>{const c=s.createWaveShaper(),l=s.createWaveShaper();tr(c,u),tr(l,u);const h=n(s,{...u,gain:1}),p=n(s,{...u,gain:-1}),f=n(s,{...u,gain:1}),d=n(s,{...u,gain:-1});let m=null,_=!1,g=null;const v={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){h.channelCount=t,p.channelCount=t,c.channelCount=t,f.channelCount=t,l.channelCount=t,d.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){h.channelCountMode=t,p.channelCountMode=t,c.channelCountMode=t,f.channelCountMode=t,l.channelCountMode=t,d.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){h.channelInterpretation=t,p.channelInterpretation=t,c.channelInterpretation=t,f.channelInterpretation=t,l.channelInterpretation=t,d.channelInterpretation=t},get context(){return c.context},get curve(){return g},set curve(n){if(null!==n&&n.length<2)throw e();if(null===n)c.curve=n,l.curve=n;else{const t=n.length,e=new Float32Array(t+2-t%2),r=new Float32Array(t+2-t%2);e[0]=n[0],r[0]=-n[t-1];const i=Math.ceil((t+1)/2),s=(t+1)/2-1;for(let o=1;o<i;o+=1){const a=o/i*s,u=Math.floor(a),c=Math.ceil(a);e[o]=u===c?n[u]:(1-(a-u))*n[u]+(1-(c-a))*n[c],r[o]=u===c?-n[t-1-u]:-(1-(a-u))*n[t-1-u]-(1-(c-a))*n[t-1-c]}e[i]=t%2==1?n[i-1]:(n[i-2]+n[i-1])/2,c.curve=e,l.curve=r}g=n,_&&(r(g)&&null===m?m=t(s,h):null!==m&&(m(),m=null))},get inputs(){return[h]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(t){c.oversample=t,l.oversample=t},addEventListener:(...t)=>h.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>h.dispatchEvent(t[0]),removeEventListener:(...t)=>h.removeEventListener(t[0],t[1],t[2])};null!==o&&(v.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==v.oversample&&(v.oversample=a);return i(cr(v,f),(()=>{h.connect(c).connect(f),h.connect(p).connect(l).connect(d).connect(f),_=!0,r(g)&&(m=t(s,h))}),(()=>{h.disconnect(c),c.disconnect(f),h.disconnect(p),p.disconnect(l),l.disconnect(d),d.disconnect(f),_=!1,null!==m&&(m(),m=null)}))})(Ui,Zn,hr,br,bi),Zi=((t,e,n,r,i,s,o)=>(a,u)=>{const c=a.createWaveShaper();if(null!==s&&"webkitAudioContext"===s.name&&void 0===a.createGain().gain.automationRate)return n(a,u);tr(c,u);const l=null===u.curve||u.curve instanceof Float32Array?u.curve:new Float32Array(u.curve);if(null!==l&&l.length<2)throw e();Kn(c,{curve:l},"curve"),Kn(c,u,"oversample");let h=null,p=!1;o(c,"curve",(t=>()=>t.call(c)),(e=>n=>(e.call(c,n),p&&(r(n)&&null===h?h=t(a,c):r(n)||null===h||(h(),h=null)),n)));return i(c,(()=>{p=!0,r(c.curve)&&(h=t(a,c))}),(()=>{p=!1,null!==h&&(h(),h=null)}))})(Ui,Zn,Gi,br,bi,Xr,Tr),Yi=(t=>(e,n)=>{const r=e.createPanner();return void 0===r.orientationX?t(e,n):(tr(r,n),nr(r,n,"orientationX"),nr(r,n,"orientationY"),nr(r,n,"orientationZ"),nr(r,n,"positionX"),nr(r,n,"positionY"),nr(r,n,"positionZ"),Kn(r,n,"coneInnerAngle"),Kn(r,n,"coneOuterAngle"),Kn(r,n,"coneOuterGain"),Kn(r,n,"distanceModel"),Kn(r,n,"maxDistance"),Kn(r,n,"panningModel"),Kn(r,n,"refDistance"),Kn(r,n,"rolloffFactor"),r)})(((t,e,n,r,i,s,o,a,u)=>(c,{coneInnerAngle:l,coneOuterAngle:h,coneOuterGain:p,distanceModel:f,maxDistance:d,orientationX:m,orientationY:_,orientationZ:g,panningModel:v,positionX:y,positionY:w,positionZ:x,refDistance:b,rolloffFactor:T,...C})=>{const A=c.createPanner();if(C.channelCount>2)throw o();if("max"===C.channelCountMode)throw o();tr(A,C);const k={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},S=n(c,{...k,channelInterpretation:"speakers",numberOfInputs:6}),O=r(c,{...C,gain:1}),M=r(c,{...k,gain:1}),E=r(c,{...k,gain:0}),I=r(c,{...k,gain:0}),D=r(c,{...k,gain:0}),$=r(c,{...k,gain:0}),R=r(c,{...k,gain:0}),N=i(c,256,6,1),V=s(c,{...k,curve:new Float32Array([1,1]),oversample:"none"});let P=[m,_,g],q=[y,w,x];N.onaudioprocess=({inputBuffer:t})=>{const e=[t.getChannelData(0)[0],t.getChannelData(1)[0],t.getChannelData(2)[0]];e.some(((t,e)=>t!==P[e]))&&(A.setOrientation(...e),P=e);const n=[t.getChannelData(3)[0],t.getChannelData(4)[0],t.getChannelData(5)[0]];n.some(((t,e)=>t!==q[e]))&&(A.setPosition(...n),q=n)},Object.defineProperty(E.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty($.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0});const j={get bufferSize(){},get channelCount(){return A.channelCount},set channelCount(t){if(t>2)throw o();O.channelCount=t,A.channelCount=t},get channelCountMode(){return A.channelCountMode},set channelCountMode(t){if("max"===t)throw o();O.channelCountMode=t,A.channelCountMode=t},get channelInterpretation(){return A.channelInterpretation},set channelInterpretation(t){O.channelInterpretation=t,A.channelInterpretation=t},get coneInnerAngle(){return A.coneInnerAngle},set coneInnerAngle(t){A.coneInnerAngle=t},get coneOuterAngle(){return A.coneOuterAngle},set coneOuterAngle(t){A.coneOuterAngle=t},get coneOuterGain(){return A.coneOuterGain},set coneOuterGain(t){if(t<0||t>1)throw e();A.coneOuterGain=t},get context(){return A.context},get distanceModel(){return A.distanceModel},set distanceModel(t){A.distanceModel=t},get inputs(){return[O]},get maxDistance(){return A.maxDistance},set maxDistance(t){if(t<0)throw new RangeError;A.maxDistance=t},get numberOfInputs(){return A.numberOfInputs},get numberOfOutputs(){return A.numberOfOutputs},get orientationX(){return M.gain},get orientationY(){return E.gain},get orientationZ(){return I.gain},get panningModel(){return A.panningModel},set panningModel(t){A.panningModel=t},get positionX(){return D.gain},get positionY(){return $.gain},get positionZ(){return R.gain},get refDistance(){return A.refDistance},set refDistance(t){if(t<0)throw new RangeError;A.refDistance=t},get rolloffFactor(){return A.rolloffFactor},set rolloffFactor(t){if(t<0)throw new RangeError;A.rolloffFactor=t},addEventListener:(...t)=>O.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>O.dispatchEvent(t[0]),removeEventListener:(...t)=>O.removeEventListener(t[0],t[1],t[2])};l!==j.coneInnerAngle&&(j.coneInnerAngle=l),h!==j.coneOuterAngle&&(j.coneOuterAngle=h),p!==j.coneOuterGain&&(j.coneOuterGain=p),f!==j.distanceModel&&(j.distanceModel=f),d!==j.maxDistance&&(j.maxDistance=d),m!==j.orientationX.value&&(j.orientationX.value=m),_!==j.orientationY.value&&(j.orientationY.value=_),g!==j.orientationZ.value&&(j.orientationZ.value=g),v!==j.panningModel&&(j.panningModel=v),y!==j.positionX.value&&(j.positionX.value=y),w!==j.positionY.value&&(j.positionY.value=w),x!==j.positionZ.value&&(j.positionZ.value=x),b!==j.refDistance&&(j.refDistance=b),T!==j.rolloffFactor&&(j.rolloffFactor=T),1===P[0]&&0===P[1]&&0===P[2]||A.setOrientation(...P),0===q[0]&&0===q[1]&&0===q[2]||A.setPosition(...q);return u(cr(j,A),(()=>{O.connect(A),t(O,V,0,0),V.connect(M).connect(S,0,0),V.connect(E).connect(S,0,1),V.connect(I).connect(S,0,2),V.connect(D).connect(S,0,3),V.connect($).connect(S,0,4),V.connect(R).connect(S,0,5),S.connect(N).connect(c.destination)}),(()=>{O.disconnect(A),a(O,V,0,0),V.disconnect(M),M.disconnect(S),V.disconnect(E),E.disconnect(S),V.disconnect(I),I.disconnect(S),V.disconnect(D),D.disconnect(S),V.disconnect($),$.disconnect(S),V.disconnect(R),R.disconnect(S),S.disconnect(N),N.disconnect(c.destination)}))})(gn,Zn,Ti,hr,dr,Zi,mr,xn,bi)),Xi=((t,e,n,r,i,s,o,a,u,c)=>()=>{const l=new WeakMap;let h=null;return{render(p,f,d){const m=l.get(f);return void 0!==m?Promise.resolve(m):(async(p,f,d)=>{let m=null,_=s(p);const g={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation},v={...g,coneInnerAngle:_.coneInnerAngle,coneOuterAngle:_.coneOuterAngle,coneOuterGain:_.coneOuterGain,distanceModel:_.distanceModel,maxDistance:_.maxDistance,panningModel:_.panningModel,refDistance:_.refDistance,rolloffFactor:_.rolloffFactor},y=Qe(_,f);if("bufferSize"in _)m=r(f,{...g,gain:1});else if(!y){const t={...v,orientationX:_.orientationX.value,orientationY:_.orientationY.value,orientationZ:_.orientationZ.value,positionX:_.positionX.value,positionY:_.positionY.value,positionZ:_.positionZ.value};_=i(f,t)}if(l.set(f,null===m?_:m),null!==m){if(null===h){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new o(6,p.context.length,f.sampleRate),r=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});r.connect(t.destination),h=(async()=>{const e=await Promise.all([p.orientationX,p.orientationY,p.orientationZ,p.positionX,p.positionY,p.positionZ].map((async(e,r)=>{const i=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===r?1:0});return await a(t,e,i.offset,d),i})));for(let t=0;t<6;t+=1)e[t].connect(r,0,t),e[t].start(0);return c(t)})()}const t=await h,s=r(f,{...g,gain:1});await u(p,f,s,d);const l=[];for(let e=0;e<t.numberOfChannels;e+=1)l.push(t.getChannelData(e));let _=[l[0][0],l[1][0],l[2][0]],y=[l[3][0],l[4][0],l[5][0]],w=r(f,{...g,gain:1}),x=i(f,{...v,orientationX:_[0],orientationY:_[1],orientationZ:_[2],positionX:y[0],positionY:y[1],positionZ:y[2]});s.connect(w).connect(x.inputs[0]),x.connect(m);for(let e=128;e<t.length;e+=128){const t=[l[0][e],l[1][e],l[2][e]],n=[l[3][e],l[4][e],l[5][e]];if(t.some(((t,e)=>t!==_[e]))||n.some(((t,e)=>t!==y[e]))){_=t,y=n;const o=e/f.sampleRate;w.gain.setValueAtTime(0,o),w=r(f,{...g,gain:0}),x=i(f,{...v,orientationX:_[0],orientationY:_[1],orientationZ:_[2],positionX:y[0],positionY:y[1],positionZ:y[2]}),w.gain.setValueAtTime(1,o),s.connect(w).connect(x.inputs[0]),x.connect(m)}}return m}return y?(await t(f,p.orientationX,_.orientationX,d),await t(f,p.orientationY,_.orientationY,d),await t(f,p.orientationZ,_.orientationZ,d),await t(f,p.positionX,_.positionX,d),await t(f,p.positionY,_.positionY,d),await t(f,p.positionZ,_.positionZ,d)):(await a(f,p.orientationX,_.orientationX,d),await a(f,p.orientationY,_.orientationY,d),await a(f,p.orientationZ,_.orientationZ,d),await a(f,p.positionX,_.positionX,d),await a(f,p.positionY,_.positionY,d),await a(f,p.positionZ,_.positionZ,d)),_n(_)?await u(p,f,_.inputs[0],d):await u(p,f,_,d),_})(p,f,d)}}})(hi,Ti,Si,hr,Yi,bn,Ur,fi,Wr,Vi),Hi=((t,e,n,r,i,s,o)=>class extends t{constructor(t,a){const u=i(t),c={...vr,...a},l=n(u,c),h=s(u);super(t,!1,l,h?r():null),this._nativePannerNode=l,this._orientationX=e(this,h,l.orientationX,rn,nn),this._orientationY=e(this,h,l.orientationY,rn,nn),this._orientationZ=e(this,h,l.orientationZ,rn,nn),this._positionX=e(this,h,l.positionX,rn,nn),this._positionY=e(this,h,l.positionY,rn,nn),this._positionZ=e(this,h,l.positionZ,rn,nn),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(t){this._nativePannerNode.coneInnerAngle=t}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(t){this._nativePannerNode.coneOuterAngle=t}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(t){this._nativePannerNode.coneOuterGain=t}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(t){this._nativePannerNode.distanceModel=t}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(t){this._nativePannerNode.maxDistance=t}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(t){this._nativePannerNode.panningModel=t}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(t){this._nativePannerNode.refDistance=t}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(t){this._nativePannerNode.rolloffFactor=t}})(Kr,mi,Yi,Xi,Br,Gr,wi),Qi=((t,e,n,r)=>class i{constructor(i,s){const o=e(i),a=r({...yr,...s}),u=t(o,a);return n.add(u),u}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===i.prototype||n.has(t)}})((t=>(e,{disableNormalization:n,imag:r,real:i})=>{const s=r instanceof Float32Array?r:new Float32Array(r),o=i instanceof Float32Array?i:new Float32Array(i),a=e.createPeriodicWave(o,s,{disableNormalization:n});if(Array.from(r).length<2)throw t();return a})(Ke),Br,new WeakSet,(t=>{const{imag:e,real:n}=t;return void 0===e?void 0===n?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,(()=>0)),real:n}:void 0===n?{...t,imag:e,real:Array.from(e,(()=>0))}:{...t,imag:e,real:n}})),Ji=((t,e)=>(n,r)=>{const i=r.channelCountMode;if("clamped-max"===i)throw e();if(void 0===n.createStereoPanner)return t(n,r);const s=n.createStereoPanner();return tr(s,r),nr(s,r,"pan"),Object.defineProperty(s,"channelCountMode",{get:()=>i,set:t=>{if(t!==i)throw e()}}),s})(((t,e,n,r,i,s)=>{const o=16385,a=new Float32Array([1,1]),u=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},l={...c,oversample:"none"},h=(t,s,h,p,f)=>{if(1===s)return((t,e,i,s)=>{const h=new Float32Array(o),p=new Float32Array(o);for(let t=0;t<o;t+=1){const e=t/16384*u;h[t]=Math.cos(e),p[t]=Math.sin(e)}const f=n(t,{...c,gain:0}),d=r(t,{...l,curve:h}),m=r(t,{...l,curve:a}),_=n(t,{...c,gain:0}),g=r(t,{...l,curve:p});return{connectGraph(){e.connect(f),e.connect(void 0===m.inputs?m:m.inputs[0]),e.connect(_),m.connect(i),i.connect(void 0===d.inputs?d:d.inputs[0]),i.connect(void 0===g.inputs?g:g.inputs[0]),d.connect(f.gain),g.connect(_.gain),f.connect(s,0,0),_.connect(s,0,1)},disconnectGraph(){e.disconnect(f),e.disconnect(void 0===m.inputs?m:m.inputs[0]),e.disconnect(_),m.disconnect(i),i.disconnect(void 0===d.inputs?d:d.inputs[0]),i.disconnect(void 0===g.inputs?g:g.inputs[0]),d.disconnect(f.gain),g.disconnect(_.gain),f.disconnect(s,0,0),_.disconnect(s,0,1)}}})(t,h,p,f);if(2===s)return((t,i,s,h)=>{const p=new Float32Array(o),f=new Float32Array(o),d=new Float32Array(o),m=new Float32Array(o),_=Math.floor(8192.5);for(let t=0;t<o;t+=1)if(t>_){const e=(t-_)/(16384-_)*u;p[t]=Math.cos(e),f[t]=Math.sin(e),d[t]=0,m[t]=1}else{const e=t/(16384-_)*u;p[t]=1,f[t]=0,d[t]=Math.cos(e),m[t]=Math.sin(e)}const g=e(t,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),v=n(t,{...c,gain:0}),y=r(t,{...l,curve:p}),w=n(t,{...c,gain:0}),x=r(t,{...l,curve:f}),b=r(t,{...l,curve:a}),T=n(t,{...c,gain:0}),C=r(t,{...l,curve:d}),A=n(t,{...c,gain:0}),k=r(t,{...l,curve:m});return{connectGraph(){i.connect(g),i.connect(void 0===b.inputs?b:b.inputs[0]),g.connect(v,0),g.connect(w,0),g.connect(T,1),g.connect(A,1),b.connect(s),s.connect(void 0===y.inputs?y:y.inputs[0]),s.connect(void 0===x.inputs?x:x.inputs[0]),s.connect(void 0===C.inputs?C:C.inputs[0]),s.connect(void 0===k.inputs?k:k.inputs[0]),y.connect(v.gain),x.connect(w.gain),C.connect(T.gain),k.connect(A.gain),v.connect(h,0,0),T.connect(h,0,0),w.connect(h,0,1),A.connect(h,0,1)},disconnectGraph(){i.disconnect(g),i.disconnect(void 0===b.inputs?b:b.inputs[0]),g.disconnect(v,0),g.disconnect(w,0),g.disconnect(T,1),g.disconnect(A,1),b.disconnect(s),s.disconnect(void 0===y.inputs?y:y.inputs[0]),s.disconnect(void 0===x.inputs?x:x.inputs[0]),s.disconnect(void 0===C.inputs?C:C.inputs[0]),s.disconnect(void 0===k.inputs?k:k.inputs[0]),y.disconnect(v.gain),x.disconnect(w.gain),C.disconnect(T.gain),k.disconnect(A.gain),v.disconnect(h,0,0),T.disconnect(h,0,0),w.disconnect(h,0,1),A.disconnect(h,0,1)}}})(t,h,p,f);throw i()};return(e,{channelCount:r,channelCountMode:o,pan:a,...u})=>{if("max"===o)throw i();const c=t(e,{...u,channelCount:1,channelCountMode:o,numberOfInputs:2}),l=n(e,{...u,channelCount:r,channelCountMode:o,gain:1}),p=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:a});let{connectGraph:f,disconnectGraph:d}=h(e,r,l,p,c);Object.defineProperty(p.gain,"defaultValue",{get:()=>0}),Object.defineProperty(p.gain,"maxValue",{get:()=>1}),Object.defineProperty(p.gain,"minValue",{get:()=>-1});const m={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(t){l.channelCount!==t&&(_&&d(),({connectGraph:f,disconnectGraph:d}=h(e,t,l,p,c)),_&&f()),l.channelCount=t},get channelCountMode(){return l.channelCountMode},set channelCountMode(t){if("clamped-max"===t||"max"===t)throw i();l.channelCountMode=t},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(t){l.channelInterpretation=t},get context(){return l.context},get inputs(){return[l]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get pan(){return p.gain},addEventListener:(...t)=>l.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>l.dispatchEvent(t[0]),removeEventListener:(...t)=>l.removeEventListener(t[0],t[1],t[2])};let _=!1;return s(cr(m,c),(()=>{f(),_=!0}),(()=>{d(),_=!1}))}})(Ti,ur,hr,Zi,mr,bi),mr),Ki=((t,e,n,r,i)=>()=>{const s=new WeakMap;return{render(o,a,u){const c=s.get(a);return void 0!==c?Promise.resolve(c):(async(o,a,u)=>{let c=n(o);const l=Qe(c,a);if(!l){const t={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=e(a,t)}return s.set(a,c),l?await t(a,o.pan,c.pan,u):await r(a,o.pan,c.pan,u),_n(c)?await i(o,a,c.inputs[0],u):await i(o,a,c,u),c})(o,a,u)}}})(hi,Ji,bn,fi,Wr),ts=((t,e,n,r,i,s)=>class extends t{constructor(t,o){const a=i(t),u={...wr,...o},c=n(a,u),l=s(a);super(t,!1,c,l?r():null),this._pan=e(this,l,c.pan)}get pan(){return this._pan}})(Kr,mi,Ji,Ki,Br,Gr),es=((t,e,n)=>()=>{const r=new WeakMap;return{render(i,s,o){const a=r.get(s);return void 0!==a?Promise.resolve(a):(async(i,s,o)=>{let a=e(i);if(!Qe(a,s)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(s,e)}return r.set(s,a),_n(a)?await n(i,s,a.inputs[0],o):await n(i,s,a,o),a})(i,s,o)}}})(Zi,bn,Wr),ns=((t,e,n,r,i,s,o)=>class extends t{constructor(t,e){const a=i(t),u={...xr,...e},c=n(a,u);super(t,!0,c,s(a)?r():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=c,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(t){if(null===t)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(t.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=t}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(t){this._nativeWaveShaperNode.oversample=t}})(Kr,Zn,Zi,es,Br,Gr,wi),rs=(t=>null!==t&&t.isSecureContext)(qr),is=(t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(e*n)},currentTime:{configurable:!0,get:()=>e}});try{return r()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(qr),ss=new WeakMap,os=((t,e)=>n=>{let r=t.get(n);if(void 0!==r)return r;if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,8e3),t.set(n,r),r})(ss,Ur),as=(t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null)(qr),us=rs?((t,e,n,r,i,s,o,a,u,c,l,h)=>(p,f,d={credentials:"omit"})=>{const m=s(p);if(void 0!==m.audioWorklet)return Promise.all([i(f),Promise.resolve(t(l,l))]).then((([[t,e],n])=>{const[r,i]=je(t,e),s=n?i:i.replace(/\s+extends\s+AudioWorkletProcessor\s*{/," extends (class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}){"),u=new Blob([`${r};(registerProcessor=>{${s}\n})((n,p)=>registerProcessor(n,class extends p{${n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}))`],{type:"application/javascript; charset=utf-8"}),c=URL.createObjectURL(u);return m.audioWorklet.addModule(c,d).then((()=>{if(a(m))return;return o(m).audioWorklet.addModule(c,d)})).finally((()=>URL.revokeObjectURL(c)))}));const _=c.get(p);if(void 0!==_&&_.has(f))return Promise.resolve();const g=u.get(p);if(void 0!==g){const t=g.get(f);if(void 0!==t)return t}const v=i(f).then((([t,e])=>{const[r,i]=je(t,e);return n(`${r};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${i}\n})})(window,'_AWGS')`)})).then((()=>{const t=h._AWGS.pop();if(void 0===t)throw new SyntaxError;r(m.currentTime,m.sampleRate,(()=>t(class{},void 0,((t,n)=>{if(""===t.trim())throw e();const r=Ne.get(m);if(void 0!==r){if(r.has(t))throw e();We(n),Fe(n.parameterDescriptors),r.set(t,n)}else We(n),Fe(n.parameterDescriptors),Ne.set(m,new Map([[t,n]]))}),m.sampleRate,void 0,void 0)))}));return void 0===g?u.set(p,new Map([[f,v]])):g.set(f,v),v.then((()=>{const t=c.get(p);void 0===t?c.set(p,new Set([f])):t.add(f)})).finally((()=>{const t=u.get(p);void 0!==t&&t.delete(f)})),v})(Nr,mr,(t=>e=>new Promise(((n,r)=>{if(null===t)return void r(new SyntaxError);const i=t.document.head;if(null===i)r(new SyntaxError);else{const s=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),u=t.onerror,c=()=>{t.onerror=u,URL.revokeObjectURL(a)};t.onerror=(e,n,i,s,o)=>n===a||n===t.location.href&&1===i&&1===s?(c(),r(o),!1):null!==u?u(e,n,i,s,o):void 0,s.onerror=()=>{c(),r(new SyntaxError)},s.onload=()=>{c(),n()},s.src=a,s.type="module",i.appendChild(s)}})))(qr),is,(t=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw t()})((()=>new DOMException("","AbortError"))),Br,os,Gr,new WeakMap,new WeakMap,((t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,8e3),i=URL.createObjectURL(n);let s=!1,o=!1;try{await r.audioWorklet.addModule(i);const e=new t(r,"a",{numberOfOutputs:0}),n=r.createOscillator();e.port.onmessage=()=>s=!0,e.onprocessorerror=()=>o=!0,n.connect(e),await r.startRendering()}catch{}finally{URL.revokeObjectURL(i)}return s&&!o})(as,Ur),qr):void 0,cs=((t,e)=>n=>t(n)||e(n))(Hr,Gr),ls=((t,e,n,r,i,s,o,a,u,c,l,h,p,f,d,m,_,g,v,y)=>class extends d{constructor(e,n){super(e,n),this._nativeContext=e,this._audioWorklet=void 0===t?void 0:{addModule:(e,n)=>t(this,e,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new i(this)}createBuffer(t,e,r){return new n({length:e,numberOfChannels:t,sampleRate:r})}createBufferSource(){return new r(this)}createChannelMerger(t=6){return new s(this,{numberOfInputs:t})}createChannelSplitter(t=6){return new o(this,{numberOfOutputs:t})}createConstantSource(){return new a(this)}createConvolver(){return new u(this)}createDelay(t=1){return new l(this,{maxDelayTime:t})}createDynamicsCompressor(){return new h(this)}createGain(){return new p(this)}createIIRFilter(t,e){return new f(this,{feedback:e,feedforward:t})}createOscillator(){return new m(this)}createPanner(){return new _(this)}createPeriodicWave(t,e,n={disableNormalization:!1}){return new g(this,{...n,imag:e,real:t})}createStereoPanner(){return new v(this)}createWaveShaper(){return new y(this)}decodeAudioData(t,e,n){return c(this._nativeContext,t).then((t=>("function"==typeof e&&e(t),t))).catch((t=>{throw"function"==typeof n&&n(t),t}))}})(us,ei,ui,gi,xi,Ci,Ai,Oi,Ei,((t,e,n,r,i,s,o,a,u,c,l)=>(h,p)=>{const f=o(h)?h:s(h);if(i.has(p)){const t=n();return Promise.reject(t)}try{i.add(p)}catch{}return e(u,(()=>u(f)))?f.decodeAudioData(p).then((n=>(e(a,(()=>a(n)))||l(n),t.add(n),n))):new Promise(((e,n)=>{const i=async()=>{try{await(t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise((r=>{n.onmessage=()=>{e.close(),n.close(),r()},e.postMessage(t,[t])}))})(p)}catch{}},s=t=>{n(t),i()};try{f.decodeAudioData(p,(n=>{"function"!=typeof n.copyFromChannel&&(c(n),tn(n)),t.add(n),i().then((()=>e(n)))}),(t=>{s(null===t?r():t)}))}catch(t){s(t)}}))})(ni,Nr,(()=>new DOMException("","DataCloneError")),(()=>new DOMException("","EncodingError")),new WeakSet,Br,cs,Je,Jn,oi,ai),Ii,$i,Ri,qi,Wi,zi,Hi,Qi,ts,ns),hs=((t,e,n,r)=>class extends t{constructor(t,i){const s=n(t),o=e(s,i);if(r(s))throw TypeError();super(t,!0,o,null),this._nativeMediaElementAudioSourceNode=o}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(Kr,((t,e)=>t.createMediaElementSource(e.mediaElement)),Br,Gr),ps=((t,e,n,r)=>class extends t{constructor(t,i){const s=n(t);if(r(s))throw new TypeError;const o={...Qn,...i},a=e(s,o);super(t,!1,a,null),this._nativeMediaStreamAudioDestinationNode=a}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(Kr,((t,e)=>{const n=t.createMediaStreamDestination();return tr(n,e),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n}),Br,Gr),fs=((t,e,n,r)=>class extends t{constructor(t,i){const s=n(t),o=e(s,i);if(r(s))throw new TypeError;super(t,!0,o,null),this._nativeMediaStreamAudioSourceNode=o}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(Kr,((t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort(((t,e)=>t.id<e.id?-1:t.id>e.id?1:0));const r=n.slice(0,1),i=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(i,"mediaStream",{value:e}),i}),Br,Gr),ds=((t,e,n)=>class extends t{constructor(t,r){const i=n(t);super(t,!0,e(i,r),null)}})(Kr,((t,e)=>(n,{mediaStreamTrack:r})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(r);const i=new MediaStream([r]),s=n.createMediaStreamSource(i);if("audio"!==r.kind)throw t();if(e(n))throw new TypeError;return s})(Zn,Gr),Br),ms=((t,e,n,r,i,s,o,a,u)=>class extends t{constructor(t={}){if(null===u)throw new Error("Missing the native AudioContext constructor.");const e=new u(t);if(null===e)throw r();if(!(t=>void 0===t||"number"==typeof t||"string"==typeof t&&("balanced"===t||"interactive"===t||"playback"===t))(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw n();super(e,2);const{latencyHint:i}=t,{sampleRate:s}=e;if(this._baseLatency="number"==typeof e.baseLatency?e.baseLatency:"balanced"===i?512/s:"interactive"===i||void 0===i?256/s:"playback"===i?1024/s:128*Math.max(2,Math.min(128,Math.round(i*s/128)))/s,this._nativeAudioContext=e,"webkitAudioContext"===u.name?(this._nativeGainNode=e.createGain(),this._nativeOscillatorNode=e.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(e.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===e.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),e.removeEventListener("statechange",t)};e.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw e()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),ln(this)})))}createMediaElementSource(t){return new i(this,{mediaElement:t})}createMediaStreamDestination(){return new s(this)}createMediaStreamSource(t){return new o(this,{mediaStream:t})}createMediaStreamTrackSource(t){return new a(this,{mediaStreamTrack:t})}resume(){return"suspended"===this._state?new Promise(((t,e)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((t=>{if(void 0===t||15===t.code)throw e();throw t}))}suspend(){return this._nativeAudioContext.suspend().catch((t=>{if(void 0===t)throw e();throw t}))}})(ls,Zn,mr,(()=>new DOMException("","UnknownError")),hs,ps,fs,ds,Xr),_s=(t=>e=>{const n=t.get(e);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(Fi),gs=(t=>(e,n)=>{t(e).add(n)})(_s),vs=(t=>(e,n,r=0,i=0)=>{const s=e[r];if(void 0===s)throw t();return On(n)?s.connect(n,0,i):s.connect(n,0)})(Ke),ys=(t=>(e,n)=>{t(e).delete(n)})(_s),ws=(t=>(e,n,r,i=0)=>void 0===n?e.forEach((t=>t.disconnect())):"number"==typeof n?zn(t,e,n).disconnect():On(n)?void 0===r?e.forEach((t=>t.disconnect(n))):void 0===i?zn(t,e,r).disconnect(n,0):zn(t,e,r).disconnect(n,0,i):void 0===r?e.forEach((t=>t.disconnect(n))):zn(t,e,r).disconnect(n,0))(Ke),xs=new WeakMap,bs=((t,e)=>n=>e(t,n))(xs,Le),Ts=((t,e,n,r,i,s,o,a,u,c,l,h,p)=>(f,d,m,_)=>{if(0===_.numberOfInputs&&0===_.numberOfOutputs)throw u();const g=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(g.some((t=>t<1)))throw u();if(g.length!==_.numberOfOutputs)throw e();if("explicit"!==_.channelCountMode)throw u();const v=_.channelCount*_.numberOfInputs,y=g.reduce(((t,e)=>t+e),0),w=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(v+w>6||y>6)throw u();const x=new MessageChannel,b=[],T=[];for(let t=0;t<_.numberOfInputs;t+=1)b.push(o(f,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),T.push(i(f,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));const C=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:t,maxValue:e,minValue:n,name:r}of m.parameterDescriptors){const i=s(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==_.parameterData[r]?_.parameterData[r]:void 0===t?0:t});Object.defineProperties(i.offset,{defaultValue:{get:()=>void 0===t?0:t},maxValue:{get:()=>void 0===e?rn:e},minValue:{get:()=>void 0===n?nn:n}}),C.push(i)}const A=r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,v+w)}),k=sr(d,f.sampleRate),S=a(f,k,v+w,Math.max(1,y)),O=i(f,{channelCount:Math.max(1,y),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,y)}),M=[];for(let t=0;t<_.numberOfOutputs;t+=1)M.push(r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:g[t]}));for(let t=0;t<_.numberOfInputs;t+=1){b[t].connect(T[t]);for(let e=0;e<_.channelCount;e+=1)T[t].connect(A,e,t*_.channelCount+e)}const E=new Dn(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map((({name:t},e)=>{const n=C[e];return n.connect(A,0,v+e),n.start(0),[t,n.offset]})));A.connect(S);let I=_.channelInterpretation,D=null;const $=0===_.numberOfOutputs?[S]:M,R={get bufferSize(){return k},get channelCount(){return _.channelCount},set channelCount(t){throw n()},get channelCountMode(){return _.channelCountMode},set channelCountMode(t){throw n()},get channelInterpretation(){return I},set channelInterpretation(t){for(const e of b)e.channelInterpretation=t;I=t},get context(){return S.context},get inputs(){return b},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},get onprocessorerror(){return D},set onprocessorerror(t){"function"==typeof D&&R.removeEventListener("processorerror",D),D="function"==typeof t?t:null,"function"==typeof D&&R.addEventListener("processorerror",D)},get parameters(){return E},get port(){return x.port2},addEventListener:(...t)=>S.addEventListener(t[0],t[1],t[2]),connect:t.bind(null,$),disconnect:c.bind(null,$),dispatchEvent:(...t)=>S.dispatchEvent(t[0]),removeEventListener:(...t)=>S.removeEventListener(t[0],t[1],t[2])},N=new Map;var V,P;x.port1.addEventListener=(V=x.port1.addEventListener,(...t)=>{if("message"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=N.get(t[1]);void 0!==n?t[1]=n:(t[1]=t=>{l(f.currentTime,f.sampleRate,(()=>e(t)))},N.set(e,t[1]))}}return V.call(x.port1,t[0],t[1],t[2])}),x.port1.removeEventListener=(P=x.port1.removeEventListener,(...t)=>{if("message"===t[0]){const e=N.get(t[1]);void 0!==e&&(N.delete(t[1]),t[1]=e)}return P.call(x.port1,t[0],t[1],t[2])});let q=null;Object.defineProperty(x.port1,"onmessage",{get:()=>q,set:t=>{"function"==typeof q&&x.port1.removeEventListener("message",q),q="function"==typeof t?t:null,"function"==typeof q&&(x.port1.addEventListener("message",q),x.port1.start())}}),m.prototype.port=x.port1;let j=null;((t,e,n,r)=>{let i=Ve.get(t);void 0===i&&(i=new WeakMap,Ve.set(t,i));const s=or(n,r);return i.set(e,s),s})(f,R,m,_).then((t=>j=t));const F=Vn(_.numberOfInputs,_.channelCount),W=Vn(_.numberOfOutputs,g),L=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce(((t,{name:e})=>({...t,[e]:new Float32Array(128)})),{});let B=!0;const z=()=>{_.numberOfOutputs>0&&S.disconnect(O);for(let t=0,e=0;t<_.numberOfOutputs;t+=1){const n=M[t];for(let r=0;r<g[t];r+=1)O.disconnect(n,e+r,r);e+=g[t]}},U=new Map;S.onaudioprocess=({inputBuffer:t,outputBuffer:e})=>{if(null!==j){const n=h(R);for(let r=0;r<k;r+=128){for(let e=0;e<_.numberOfInputs;e+=1)for(let n=0;n<_.channelCount;n+=1)Rn(t,F[e],n,n,r);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach((({name:e},n)=>{Rn(t,L,e,v+n,r)}));for(let t=0;t<_.numberOfInputs;t+=1)for(let e=0;e<g[t];e+=1)0===W[t][e].byteLength&&(W[t][e]=new Float32Array(128));try{const t=F.map(((t,e)=>{if(n[e].size>0)return U.set(e,k/128),t;const r=U.get(e);return void 0===r?[]:(t.every((t=>t.every((t=>0===t))))&&(1===r?U.delete(e):U.set(e,r-1)),t)})),i=l(f.currentTime+r/f.sampleRate,f.sampleRate,(()=>j.process(t,W,L)));B=i;for(let t=0,n=0;t<_.numberOfOutputs;t+=1){for(let i=0;i<g[t];i+=1)Nn(e,W[t],i,n+i,r);n+=g[t]}}catch(t){B=!1,R.dispatchEvent(new ErrorEvent("processorerror",{colno:t.colno,filename:t.filename,lineno:t.lineno,message:t.message}))}if(!B){for(let t=0;t<_.numberOfInputs;t+=1){b[t].disconnect(T[t]);for(let e=0;e<_.channelCount;e+=1)T[r].disconnect(A,e,t*_.channelCount+e)}if(void 0!==m.parameterDescriptors){const t=m.parameterDescriptors.length;for(let e=0;e<t;e+=1){const t=C[e];t.disconnect(A,0,v+e),t.stop()}}A.disconnect(S),S.onaudioprocess=null,G?z():X();break}}}};let G=!1;const Z=o(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Y=()=>S.connect(Z).connect(f.destination),X=()=>{S.disconnect(Z),Z.disconnect()};return Y(),p(R,(()=>{if(B){X(),_.numberOfOutputs>0&&S.connect(O);for(let t=0,e=0;t<_.numberOfOutputs;t+=1){const n=M[t];for(let r=0;r<g[t];r+=1)O.connect(n,e+r,r);e+=g[t]}}G=!0}),(()=>{B&&(Y(),z()),G=!1}))})(vs,Ke,Zn,Ti,ur,Si,hr,dr,mr,ws,is,bs,bi),Cs=((t,e,n,r,i)=>(s,o,a,u,c,l)=>{if(null!==a)try{const e=new a(s,u,l),r=new Map;let o=null;if(Object.defineProperties(e,{channelCount:{get:()=>l.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>o,set:t=>{"function"==typeof o&&e.removeEventListener("processorerror",o),o="function"==typeof t?t:null,"function"==typeof o&&e.addEventListener("processorerror",o)}}}),e.addEventListener=(p=e.addEventListener,(...t)=>{if("processorerror"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=r.get(t[1]);void 0!==n?t[1]=n:(t[1]=n=>{"error"===n.type?(Object.defineProperties(n,{type:{value:"processorerror"}}),e(n)):e(new ErrorEvent(t[0],{...n}))},r.set(e,t[1]))}}return p.call(e,"error",t[1],t[2]),p.call(e,...t)}),e.removeEventListener=(h=e.removeEventListener,(...t)=>{if("processorerror"===t[0]){const e=r.get(t[1]);void 0!==e&&(r.delete(t[1]),t[1]=e)}return h.call(e,"error",t[1],t[2]),h.call(e,t[0],t[1],t[2])}),0!==l.numberOfOutputs){const t=n(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});e.connect(t).connect(s.destination);return i(e,(()=>t.disconnect()),(()=>t.connect(s.destination)))}return e}catch(t){if(11===t.code)throw r();throw t}var h,p;if(void 0===c)throw r();return(t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}})(l),e(s,o,c,l)})(Zn,Ts,hr,mr,bi),As=((t,e,n,r,i,s,o,a,u,c,l,h,p,f,d,m)=>(_,g,v)=>{const y=new WeakMap;let w=null;return{render(x,b,T){a(b,x);const C=y.get(b);return void 0!==C?Promise.resolve(C):(async(a,x,b)=>{let T=l(a),C=null;const A=Qe(T,x),k=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(null===h){const t=k.reduce(((t,e)=>t+e),0),n=i(x,{channelCount:Math.max(1,t),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,t)}),s=[];for(let t=0;t<a.numberOfOutputs;t+=1)s.push(r(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:k[t]}));const c=o(x,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1});c.connect=e.bind(null,s),c.disconnect=u.bind(null,s),C=[n,s,c]}else A||(T=new h(x,_));if(y.set(x,null===C?T:C[2]),null!==C){if(null===w){if(void 0===v)throw new Error("Missing the processor constructor.");if(null===p)throw new Error("Missing the native OfflineAudioContext constructor.");const t=a.channelCount*a.numberOfInputs,e=void 0===v.parameterDescriptors?0:v.parameterDescriptors.length,n=t+e,u=async()=>{const u=new p(n,128*Math.ceil(a.context.length/128),x.sampleRate),c=[],l=[];for(let t=0;t<g.numberOfInputs;t+=1)c.push(o(u,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),l.push(i(u,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const h=await Promise.all(Array.from(a.parameters.values()).map((async t=>{const e=s(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:t.value});return await f(u,t,e.offset,b),e}))),_=r(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,t+e)});for(let t=0;t<g.numberOfInputs;t+=1){c[t].connect(l[t]);for(let e=0;e<g.channelCount;e+=1)l[t].connect(_,e,t*g.channelCount+e)}for(const[e,n]of h.entries())n.connect(_,0,t+e),n.start(0);return _.connect(u.destination),await Promise.all(c.map((t=>d(a,u,t,b)))),m(u)};w=Pn(a,0===n?null:await u(),x,g,k,v,c)}const t=await w,e=n(x,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[u,l,h]=C;null!==t&&(e.buffer=t,e.start(0)),e.connect(u);for(let t=0,e=0;t<a.numberOfOutputs;t+=1){const n=l[t];for(let r=0;r<k[t];r+=1)u.connect(n,e+r,r);e+=k[t]}return h}if(A)for(const[e,n]of a.parameters.entries())await t(x,n,T.parameters.get(e),b);else for(const[t,e]of a.parameters.entries())await f(x,e,T.parameters.get(t),b);return await d(a,x,T,b),T})(x,b,T)}}})(hi,vs,pi,Ti,ur,Si,hr,ys,ws,is,bn,as,Ur,fi,Wr,Vi),ks=(t=>e=>t.get(e))(ss),Ss=(t=>(e,n)=>{t.set(e,n)})(xs),Os=rs?((t,e,n,r,i,s,o,a,u,c,l,h,p)=>class extends e{constructor(e,p,f){var d;const m=a(e),_=u(m),g=l({...$n,...f}),v=Ne.get(m),y=null==v?void 0:v.get(p),w=_||"closed"!==m.state?m:null!==(d=o(m))&&void 0!==d?d:m,x=i(w,_?null:e.baseLatency,c,p,y,g);super(e,!0,x,_?r(p,g,y):null);const b=[];x.parameters.forEach(((t,e)=>{const r=n(this,_,t);b.push([e,r])})),this._nativeAudioWorkletNode=x,this._onprocessorerror=null,this._parameters=new Dn(b),_&&t(m,this);const{activeInputs:T}=s(this);h(x,T)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(t){const e="function"==typeof t?p(this,t):null;this._nativeAudioWorkletNode.onprocessorerror=e;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===e?t:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(gs,Kr,mi,As,Cs,an,ks,Br,Gr,as,(t=>({...t,outputChannelCount:void 0!==t.outputChannelCount?t.outputChannelCount:1===t.numberOfInputs&&1===t.numberOfOutputs?[t.channelCount]:Array.from({length:t.numberOfOutputs},(()=>1))})),Ss,Mr):void 0,Ms=((t,e)=>(n,r,i)=>{if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,i)}catch(e){if("SyntaxError"===e.name)throw t();throw e}})(mr,Ur),Es=((t,e,n,r,i,s,o,a)=>{const u=[];return(c,l)=>n(c).render(c,l,u).then((()=>Promise.all(Array.from(r(l)).map((t=>n(t).render(t,l,u)))))).then((()=>i(l))).then((n=>("function"!=typeof n.copyFromChannel?(o(n),tn(n)):e(s,(()=>s(n)))||a(n),t.add(n),n)))})(ni,Nr,Fr,_s,Vi,Je,oi,ai),Is=((t,e,n,r,i)=>class extends t{constructor(t,n,i){let s;if("number"==typeof t&&void 0!==n&&void 0!==i)s={length:n,numberOfChannels:t,sampleRate:i};else{if("object"!=typeof t)throw new Error("The given parameters are not valid.");s=t}const{length:o,numberOfChannels:a,sampleRate:u}={..._r,...s},c=r(a,o,u);e(Jn,(()=>Jn(c)))||c.addEventListener("statechange",(()=>{let t=0;const e=n=>{"running"===this._state&&(t>0?(c.removeEventListener("statechange",e),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):t+=1)};return e})()),super(c,a),this._length=o,this._nativeOfflineAudioContext=c,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,ln(this)})))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout((()=>this._waitForThePromiseToSettle(t)))}})(ls,Nr,Zn,Ms,Es),Ds=((t,e)=>n=>{const r=t.get(n);return e(r)||e(n)})(De,Hr),$s=((t,e)=>n=>t.has(n)||e(n))(Me,Qr),Rs=((t,e)=>n=>t.has(n)||e(n))(Ie,Jr),Ns=((t,e)=>n=>{const r=t.get(n);return e(r)||e(n)})(De,Gr);function Vs(t,e){if(!t)throw new Error(e)}function Ps(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function qs(t){t.isOffline||"running"===t.state||Fs('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let js=console;function Fs(...t){js.warn(...t)}function Ws(t){return void 0===t}function Ls(t){return!Ws(t)}function Bs(t){return"number"==typeof t}function zs(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}function Us(t){return Array.isArray(t)}function Gs(t){return"string"==typeof t}function Zs(t){return Gs(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}const Ys="object"==typeof self?self:null,Xs=Ys&&(Ys.hasOwnProperty("AudioContext")||Ys.hasOwnProperty("webkitAudioContext"));
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
function Hs(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function Qs(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function a(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}class Js{constructor(t,e,n){this._callback=t,this._type=e,this._updateInterval=n,this._createClock()}_createWorker(){const t=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),e=URL.createObjectURL(t),n=new Worker(e);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout((()=>{this._createTimeout(),this._callback()}),1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(t){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){this._updateInterval=Math.max(t,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*t,1))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function Ks(t){return Rs(t)}function to(t){return $s(t)}function eo(t){return Ns(t)}function no(t){return Ds(t)}function ro(t){return t instanceof AudioBuffer}function io(t,e){return"value"===t||Ks(e)||to(e)||ro(e)}function so(t,...e){if(!e.length)return t;const n=e.shift();if(zs(t)&&zs(n))for(const e in n)io(e,n[e])?t[e]=n[e]:zs(n[e])?(t[e]||Object.assign(t,{[e]:{}}),so(t[e],n[e])):Object.assign(t,{[e]:n[e]});return so(t,...e)}function oo(t,e,n=[],r){const i={},s=Array.from(e);if(zs(s[0])&&r&&!Reflect.has(s[0],r)){Object.keys(s[0]).some((e=>Reflect.has(t,e)))||(so(i,{[r]:s[0]}),n.splice(n.indexOf(r),1),s.shift())}if(1===s.length&&zs(s[0]))so(i,s[0]);else for(let t=0;t<n.length;t++)Ls(s[t])&&(i[n[t]]=s[t]);return so(t,i)}function ao(t,e){return Ws(t)?e:t}function uo(t,e){return e.forEach((e=>{Reflect.has(t,e)&&delete t[e]})),t}
/**
     * Tone.js
     * @author Yotam Mann
     * @license http://opensource.org/licenses/MIT MIT License
     * @copyright 2014-2019 Yotam Mann
     */class co{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||Ys&&this.toString()===Ys.TONE_DEBUG_CLASS)&&function(...t){js.log(...t)}(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}co.version=ge;const lo=1e-6;function ho(t,e){return t>e+lo}function po(t,e){return ho(t,e)||mo(t,e)}function fo(t,e){return t+lo<e}function mo(t,e){return Math.abs(t-e)<lo}class _o extends co{constructor(){super(),this.name="Timeline",this._timeline=[];const t=oo(_o.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(Vs(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const e=this._timeline[this.length-1];Vs(po(t.time,e.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(t){const e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this}get(t,e="time"){const n=this._search(t,e);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e="time"){const n=this._search(t,e);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const n=this._search(t);return n-1>=0?this._timeline[n-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(mo(this._timeline[e].time,t)){for(let n=e;n>=0&&mo(this._timeline[n].time,t);n--)e=n;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&po(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t,e="time"){if(0===this._timeline.length)return-1;let n=0;const r=this._timeline.length;let i=r;if(r>0&&this._timeline[r-1][e]<=t)return r-1;for(;n<i;){let r=Math.floor(n+(i-n)/2);const s=this._timeline[r],o=this._timeline[r+1];if(mo(s[e],t)){for(let n=r;n<this._timeline.length;n++){if(!mo(this._timeline[n][e],t))break;r=n}return r}if(fo(s[e],t)&&ho(o[e],t))return r;ho(s[e],t)?i=r:n=r+1}return-1}_iterate(t,e=0,n=this._timeline.length-1){this._timeline.slice(e,n+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const n=this._search(t);return-1!==n&&this._iterate(e,0,n),this}forEachAfter(t,e){const n=this._search(t);return this._iterate(e,n+1),this}forEachBetween(t,e,n){let r=this._search(t),i=this._search(e);return-1!==r&&-1!==i?(this._timeline[r].time!==t&&(r+=1),this._timeline[i].time===e&&(i-=1),this._iterate(n,r,i)):-1===r&&this._iterate(n,0,i),this}forEachFrom(t,e){let n=this._search(t);for(;n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this}forEachAtTime(t,e){const n=this._search(t);if(-1!==n&&mo(this._timeline[n].time,t)){let r=n;for(let e=n;e>=0&&mo(this._timeline[e].time,t);e--)r=e;this._iterate((t=>{e(t)}),r,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const go=[];function vo(t){go.push(t)}const yo=[];function wo(t){yo.push(t)}class xo extends co{constructor(){super(...arguments),this.name="Emitter"}on(t,e){return t.split(/\W+/).forEach((t=>{Ws(this._events)&&(this._events={}),this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e)})),this}once(t,e){const n=(...r)=>{e(...r),this.off(t,n)};return this.on(t,n),this}off(t,e){return t.split(/\W+/).forEach((n=>{if(Ws(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(Ws(e))this._events[t]=[];else{const n=this._events[t];for(let t=n.length-1;t>=0;t--)n[t]===e&&n.splice(t,1)}})),this}emit(t,...e){if(this._events&&this._events.hasOwnProperty(t)){const n=this._events[t].slice(0);for(let t=0,r=n.length;t<r;t++)n[t].apply(this,e)}return this}static mixin(t){["on","once","off","emit"].forEach((e=>{const n=Object.getOwnPropertyDescriptor(xo.prototype,e);Object.defineProperty(t.prototype,e,n)}))}dispose(){return super.dispose(),this._events=void 0,this}}class bo extends xo{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class To extends bo{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new _o,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const t=oo(To.getDefaults(),arguments,["context"]);t.context?this._context=t.context:this._context=function(t){return new ms(t)}({latencyHint:t.latencyHint}),this._ticker=new Js(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(t.latencyHint),this.lookAhead=t.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var t;return this._initialized||(t=this,go.forEach((e=>e(t))),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,n){return this._context.createBuffer(t,e,n)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,n){return this._context.createPeriodicWave(t,e,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){Vs(no(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamSource(t)}createMediaElementSource(t){Vs(no(this._context),"Not available if OfflineAudioContext");return this._context.createMediaElementSource(t)}createMediaStreamDestination(){Vs(no(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){Vs(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){Vs(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){Vs(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){Vs(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return function(t,e,n){return Vs(Ls(Os),"This node only works in a secure context (https or localhost)"),new Os(t,e,n)}(this.rawContext,t,e)}addAudioWorkletModule(t,e){return Qs(this,void 0,void 0,(function*(){Vs(Ls(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(e)||this._workletModules.set(e,this.rawContext.audioWorklet.addModule(t)),yield this._workletModules.get(e)}))}workletsAreReady(){return Qs(this,void 0,void 0,(function*(){const t=[];this._workletModules.forEach((e=>t.push(e))),yield Promise.all(t)}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get latencyHint(){return this._latencyHint}_setLatencyHint(t){let e=0;if(this._latencyHint=t,Gs(t))switch(t){case"interactive":e=.1;break;case"playback":e=.5;break;case"balanced":e=.25}this.lookAhead=e,this.updateInterval=e/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return no(this._context)?this._context.resume():Promise.resolve()}close(){return Qs(this,void 0,void 0,(function*(){var t;no(this._context)&&(yield this._context.close()),this._initialized&&(t=this,yo.forEach((e=>e(t))))}))}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0);for(let e=0;e<n.length;e++)n[e]=t;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=e,r.loop=!0,r.start(0),this._constants.set(t,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map((t=>this._constants[t].disconnect())),this}_timeoutLoop(){const t=this.now();let e=this._timeouts.peek();for(;this._timeouts.length&&e&&e.time<=t;)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:n+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach((e=>{e.id===t&&this._timeouts.remove(e)})),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const n=++this._timeoutIds,r=()=>{const i=this.now();this._timeouts.add({callback:()=>{t(),r()},id:n,time:i+e})};return r(),n}}function Co(t,e){Us(e)?e.forEach((e=>Co(t,e))):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Ao(t,e){Us(e)?e.forEach((e=>Ao(t,e))):Object.defineProperty(t,e,{writable:!0})}const ko=()=>{};class So extends co{constructor(){super(),this.name="ToneAudioBuffer",this.onload=ko;const t=oo(So.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,t.url&&ro(t.url)||t.url instanceof So?this.set(t.url):Gs(t.url)&&this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:ko,onload:ko,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Io().sampleRate}set(t){return t instanceof So?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return Qs(this,void 0,void 0,(function*(){const e=So.load(t).then((t=>{this.set(t),this.onload(this)}));So.downloads.push(e);try{yield e}finally{const t=So.downloads.indexOf(e);So.downloads.splice(t,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=Us(t)&&t[0].length>0,n=e?t.length:1,r=e?t[0].length:t.length,i=Io(),s=i.createBuffer(n,r,i.sampleRate),o=e||1!==n?t:[t];for(let t=0;t<n;t++)s.copyToChannel(o[t],t);return this._buffer=s,this}toMono(t){if(Bs(t))this.fromArray(this.toArray(t));else{let t=new Float32Array(this.length);const e=this.numberOfChannels;for(let n=0;n<e;n++){const e=this.toArray(n);for(let n=0;n<e.length;n++)t[n]+=e[n]}t=t.map((t=>t/e)),this.fromArray(t)}return this}toArray(t){if(Bs(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);{const t=[];for(let e=0;e<this.numberOfChannels;e++)t[e]=this.getChannelData(e);return t}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){const n=Math.floor(t*this.sampleRate),r=Math.floor(e*this.sampleRate);Vs(n<r,"The start time must be less than the end time");const i=r-n,s=Io().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let t=0;t<this.numberOfChannels;t++)s.copyToChannel(this.getChannelData(t).subarray(n,r),t);return new So(s)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new So).fromArray(t)}static fromUrl(t){return Qs(this,void 0,void 0,(function*(){const e=new So;return yield e.load(t)}))}static load(t){return Qs(this,void 0,void 0,(function*(){const e=t.match(/\[([^\]\[]+\|.+)\]$/);if(e){const n=e[1].split("|");let r=n[0];for(const t of n)if(So.supportsType(t)){r=t;break}t=t.replace(e[0],r)}const n=""===So.baseUrl||So.baseUrl.endsWith("/")?So.baseUrl:So.baseUrl+"/",r=yield fetch(n+t);if(!r.ok)throw new Error(`could not load url: ${t}`);const i=yield r.arrayBuffer();return yield Io().decodeAudioData(i)}))}static supportsType(t){const e=t.split("."),n=e[e.length-1];return""!==document.createElement("audio").canPlayType("audio/"+n)}static loaded(){return Qs(this,void 0,void 0,(function*(){for(yield Promise.resolve();So.downloads.length;)yield So.downloads[0]}))}}So.baseUrl="",So.downloads=[];class Oo extends To{constructor(){var t,e,n;super({clockSource:"offline",context:eo(arguments[0])?arguments[0]:(t=arguments[0],e=arguments[1]*arguments[2],n=arguments[2],new Is(t,e,n)),lookAhead:0,updateInterval:eo(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=eo(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return Qs(this,void 0,void 0,(function*(){let e=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const n=Math.floor(this.sampleRate/128);t&&e%n==0&&(yield new Promise((t=>setTimeout(t,1))))}}))}render(t=!0){return Qs(this,void 0,void 0,(function*(){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new So(e)}))}close(){return Promise.resolve()}}const Mo=new class extends bo{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,n){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t,e){return Qs(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}};let Eo=Mo;function Io(){var t;return Eo===Mo&&Xs&&(t=new To,Eo=no(t)?new To(t):eo(t)?new Oo(t):t),Eo}if(Ys&&!Ys.TONE_SILENCE_LOGGING){const t=` * Tone.js ${"v"}14.7.77 * `;console.log(`%c${t}`,"background: #000; color: #fff")}function Do(t){return Math.pow(2,t/12)}let $o=440;function Ro(t){return Math.round(No(t))}function No(t){return 69+12*Math.log2(t/$o)}class Vo extends co{constructor(t,e,n){super(),this.defaultUnits="s",this._val=e,this._units=n,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const n=parseInt(t,10),r="."===e?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/n)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(e)))},regexp:/^(\d+)t$/i},tr:{method:(t,e,n)=>{let r=0;return t&&"0"!==t&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(r+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(r+=this._beatsToUnits(parseFloat(n)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Vo&&this.fromType(this._val),Ws(this._val))return this._noArg();if(Gs(this._val)&&Ws(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(zs(this._val)){let t=0;for(const e in this._val)if(Ls(this._val[e])){const n=this._val[e];t+=new this.constructor(this.context,e).valueOf()*n}return t}if(Ls(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}return Gs(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class Po extends Vo{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new Po(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t,e=1){const n=new this.constructor(this.context,t).valueOf(),r=this.valueOf();return r+(Math.round(r/n)*n-r)*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let t=1;t<9;t++){const n=Math.pow(2,t);e.push(n+"n."),e.push(n+"n"),e.push(n+"t")}e.push("0");let n=e[0],r=new Po(this.context,e[0]).toSeconds();return e.forEach((e=>{const i=new Po(this.context,e).toSeconds();Math.abs(i-t)<Math.abs(r-t)&&(n=e,r=i)})),n}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const n=Math.floor(e/this._getTimeSignature());let r=e%1*4;e=Math.floor(e)%this._getTimeSignature();const i=r.toString();i.length>3&&(r=parseFloat(parseFloat(i).toFixed(3)));return[n,e,r].join(":")}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.round(e*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return Ro(this.toFrequency())}_now(){return this.context.now()}}class qo extends Po{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return $o}static set A4(t){!function(t){$o=t}(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return"midi"===this.defaultUnits?t:qo.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(t,e){const n=jo[t.toLowerCase()]+12*(parseInt(e,10)+1);return"midi"===this.defaultUnits?n:qo.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,n){let r=1;return t&&"0"!==t&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(r*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(r*=this._beatsToUnits(parseFloat(n)/4)),r}}})}transpose(t){return new qo(this.context,this.valueOf()*Do(t))}harmonize(t){return t.map((t=>this.transpose(t)))}toMidi(){return Ro(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/qo.A4);let n=Math.round(12*e)+57;const r=Math.floor(n/12);r<0&&(n+=-12*r);return Fo[n%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return function(t){return $o*Math.pow(2,(t-69)/12)}(t)}static ftom(t){return Ro(t)}}const jo={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},Fo=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Wo extends Po{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Lo extends co{constructor(){super();const t=oo(Lo.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:Io()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return new Po(this.context,t).toSeconds()}toFrequency(t){return new qo(this.context,t).toFrequency()}toTicks(t){return new Wo(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach((n=>{Ws(t[n])&&delete e[n]})),e}get(){const t=function(t){return t.constructor.getDefaults()}(this);return Object.keys(t).forEach((e=>{if(Reflect.has(this,e)){const n=this[e];Ls(n)&&Ls(n.value)&&Ls(n.setValueAtTime)?t[e]=n.value:n instanceof Lo?t[e]=n._getPartialProperties(t[e]):Us(n)||Bs(n)||Gs(n)||"boolean"==typeof n?t[e]=n:delete t[e]}})),t}set(t){return Object.keys(t).forEach((e=>{Reflect.has(this,e)&&Ls(this[e])&&(this[e]&&Ls(this[e].value)&&Ls(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof Lo?this[e].set(t[e]):this[e]=t[e])})),this}}class Bo extends _o{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return null!==e?e.state:this._initial}setStateAtTime(t,e,n){return Ps(e,0),this.add(Object.assign({},n,{state:t,time:e})),this}getLastState(t,e){for(let n=this._search(e);n>=0;n--){const e=this._timeline[n];if(e.state===t)return e}}getNextState(t,e){const n=this._search(e);if(-1!==n)for(let e=n;e<this._timeline.length;e++){const n=this._timeline[e];if(n.state===t)return n}}}class zo extends Lo{constructor(){super(oo(zo.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const t=oo(zo.getDefaults(),arguments,["param","units","convert"]);for(Vs(Ls(t.param)&&(Ks(t.param)||t.param instanceof zo),"param must be an AudioParam");!Ks(t.param);)t.param=t.param._param;this._swappable=!!Ls(t.swappable)&&t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new _o(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,Ls(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Lo.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return Ls(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return Ls(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return Ls(this.maxValue)&&Ls(this.minValue)&&Ps(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?(e=t,Math.pow(10,e/20)):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t;var e}_toType(t){return this.convert&&"decibels"===this.units?(e=t,Math.log(e)/Math.LN10*20):t;var e}setValueAtTime(t,e){const n=this.toSeconds(e),r=this._fromType(t);return Vs(isFinite(r)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",t,n),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),n=this._events.getAfter(e),r=this._events.get(e);let i=this._initialValue;if(null===r)i=this._initialValue;else if("setTargetAtTime"!==r.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)i=r.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let t=r.value;if("setTargetAtTime"===r.type){const e=this._events.getBefore(r.time);t=null===e?this._initialValue:e.value}i="linearRampToValueAtTime"===n.type?this._linearInterpolate(r.time,t,n.time,n.value,e):this._exponentialInterpolate(r.time,t,n.time,n.value,e)}else i=r.value;else{const t=this._events.getBefore(r.time);let n;n=null===t?this._initialValue:t.value,"setTargetAtTime"===r.type&&(i=this._exponentialApproach(r.time,n,r.value,r.constant,e))}return this._toType(i)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===this._fromType(e)&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const n=this._fromType(t),r=this.toSeconds(e);return Vs(isFinite(n)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(n),this._events.add({time:r,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",t,r),this._param.linearRampToValueAtTime(n,r),this}exponentialRampToValueAtTime(t,e){let n=this._fromType(t);n=mo(n,0)?this._minOutput:n,this._assertRange(n);const r=this.toSeconds(e);return Vs(isFinite(n)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",t,r),this._param.exponentialRampToValueAtTime(n,r),this}exponentialRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this}linearRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this}targetRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(t,n,e),this}exponentialApproachValueAtTime(t,e,n){e=this.toSeconds(e),n=this.toSeconds(n);const r=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(t,e,r),this.cancelAndHoldAtTime(e+.9*n),this.linearRampToValueAtTime(t,e+n),this}setTargetAtTime(t,e,n){const r=this._fromType(t);Vs(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(e);return this._assertRange(r),Vs(isFinite(r)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:n,time:i,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",t,i,n),this._param.setTargetAtTime(r,i,n),this}setValueCurveAtTime(t,e,n,r=1){n=this.toSeconds(n),e=this.toSeconds(e);const i=this._fromType(t[0])*r;this.setValueAtTime(this._toType(i),e);const s=n/(t.length-1);for(let n=1;n<t.length;n++){const i=this._fromType(t[n])*r;this.linearRampToValueAtTime(this._toType(i),e+n*s)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return Vs(isFinite(e),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),n=this._fromType(this.getValueAtTime(e));Vs(isFinite(e),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",e,"value="+n);const r=this._events.get(e),i=this._events.getAfter(e);return r&&mo(r.time,e)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),"linearRampToValueAtTime"===i.type?this.linearRampToValueAtTime(this._toType(n),e):"exponentialRampToValueAtTime"===i.type&&this.exponentialRampToValueAtTime(this._toType(n),e)),this._events.add({time:e,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,e),this}rampTo(t,e=.1,n){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(t,e,n):this.linearRampTo(t,e,n),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const n=this._events.get(e);if(n&&"setTargetAtTime"===n.type){const r=this._events.getAfter(n.time),i=r?r.time:e+2,s=(i-e)/10;for(let n=e;n<i;n+=s)t.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,(e=>{"cancelScheduledValues"===e.type?t.cancelScheduledValues(e.time):"setTargetAtTime"===e.type?t.setTargetAtTime(e.value,e.time,e.constant):t[e.type](e.value,e.time)})),this}setParam(t){Vs(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,n,r,i){return n+(e-n)*Math.exp(-(i-t)/r)}_linearInterpolate(t,e,n,r,i){return e+(i-t)/(n-t)*(r-e)}_exponentialInterpolate(t,e,n,r,i){return e*Math.pow(r/e,(i-t)/(n-t))}}class Uo extends Lo{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return Ls(this.input)?Ks(this.input)||this.input instanceof zo?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Ls(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return Ls(t)&&(t instanceof Uo||to(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach((e=>{e.channelCount=t.channelCount,e.channelCountMode=t.channelCountMode,e.channelInterpretation=t.channelInterpretation}))}_getChannelProperties(){const t=this._getInternalNodes();Vs(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,n=0){return Zo(this,t,e,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Fs("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,e=0,n=0){return function(t,e,n=0,r=0){if(Ls(e))for(;e instanceof Uo;)e=e.input;for(;!to(t);)Ls(t.output)&&(t=t.output);Ks(e)?t.disconnect(e,n):to(e)?t.disconnect(e,n,r):t.disconnect()}(this,t,e,n),this}chain(...t){return Go(this,...t),this}fan(...t){return t.forEach((t=>this.connect(t))),this}dispose(){return super.dispose(),Ls(this.input)&&(this.input instanceof Uo?this.input.dispose():to(this.input)&&this.input.disconnect()),Ls(this.output)&&(this.output instanceof Uo?this.output.dispose():to(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Go(...t){const e=t.shift();t.reduce(((t,e)=>(t instanceof Uo?t.connect(e):to(t)&&Zo(t,e),e)),e)}function Zo(t,e,n=0,r=0){for(Vs(Ls(t),"Cannot connect from undefined node"),Vs(Ls(e),"Cannot connect to undefined node"),(e instanceof Uo||to(e))&&Vs(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Vs(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Uo||e instanceof zo;)Ls(e.input)&&(e=e.input);for(;t instanceof Uo;)Ls(t.output)&&(t=t.output);Ks(e)?t.connect(e,n):t.connect(e,n,r)}class Yo extends Uo{constructor(){super(oo(Yo.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const t=oo(Yo.getDefaults(),arguments,["gain","units"]);this.gain=new zo({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Co(this,"gain")}static getDefaults(){return Object.assign(Uo.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Xo extends Uo{constructor(t){super(t),this.onended=ko,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Yo({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const e=this.toSeconds(t);return-1!==this._startTime&&e>=this._startTime&&(-1===this._stopTime||e<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(Uo.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:ko})}_startGain(t,e=1){Vs(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=t+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(e,t+n):this._gainNode.gain.exponentialApproachValueAtTime(e,t,n)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){Vs(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.context.currentTime),e>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout((()=>{const t="exponential"===this._curve?2*e:0;this._stopSource(this.now()+t),this._onended()}),this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==ko&&(this.onended(this),this.onended=ko,!this.context.isOffline)){const t=()=>this.dispose();void 0!==window.requestIdleCallback?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Vs(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class Ho extends Xo{constructor(){super(oo(Ho.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const t=oo(Ho.getDefaults(),arguments,["offset"]);Zo(this._source,this._gainNode),this.offset=new zo({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(Xo.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Qo extends Uo{constructor(){super(oo(Qo.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const t=oo(Qo.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Ho({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Uo.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,e=0,n=0){return Jo(this,t,e,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,n){return this._param.exponentialRampTo(t,e,n),this}linearRampTo(t,e,n){return this._param.linearRampTo(t,e,n),this}targetRampTo(t,e,n){return this._param.targetRampTo(t,e,n),this}exponentialApproachValueAtTime(t,e,n){return this._param.exponentialApproachValueAtTime(t,e,n),this}setTargetAtTime(t,e,n){return this._param.setTargetAtTime(t,e,n),this}setValueCurveAtTime(t,e,n,r){return this._param.setValueCurveAtTime(t,e,n,r),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,n){return this._param.rampTo(t,e,n),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function Jo(t,e,n,r){(e instanceof zo||Ks(e)||e instanceof Qo&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Qo&&(e.overridden=!0)),Zo(t,e,n,r)}class Ko extends zo{constructor(){super(oo(Ko.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new _o(1/0),this._multiplier=1;const t=oo(Ko.getDefaults(),arguments,["value"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(zo.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,n){e=this.toSeconds(e),this.setRampPoint(e);const r=this._fromType(t),i=this._events.get(e),s=Math.round(Math.max(1/n,1));for(let t=0;t<=s;t++){const s=n*t+e,o=this._exponentialApproach(i.time,i.value,r,n,s);this.linearRampToValueAtTime(this._toType(o),s)}return this}setValueAtTime(t,e){const n=this.toSeconds(e);super.setValueAtTime(t,e);const r=this._events.get(n),i=this._events.previousEvent(r),s=this._getTicksUntilEvent(i,n);return r.ticks=Math.max(s,0),this}linearRampToValueAtTime(t,e){const n=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const r=this._events.get(n),i=this._events.previousEvent(r),s=this._getTicksUntilEvent(i,n);return r.ticks=Math.max(s,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const n=this._fromType(t),r=this._events.get(e),i=Math.round(Math.max(10*(e-r.time),1)),s=(e-r.time)/i;for(let t=0;t<=i;t++){const i=s*t+r.time,o=this._exponentialInterpolate(r.time,r.value,e,n,i);this.linearRampToValueAtTime(this._toType(o),i)}return this}_getTicksUntilEvent(t,e){if(null===t)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Ws(t.ticks)){const e=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(e,t.time)}const n=this._fromType(this.getValueAtTime(t.time));let r=this._fromType(this.getValueAtTime(e));const i=this._events.get(e);return i&&i.time===e&&"setValueAtTime"===i.type&&(r=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(n+r)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),n=this._events.get(e);return Math.max(this._getTicksUntilEvent(n,e),0)}getDurationOfTicks(t,e){const n=this.toSeconds(e),r=this.getTicksAtTime(e);return this.getTimeOfTick(r+t)-n}getTimeOfTick(t){const e=this._events.get(t,"ticks"),n=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&n&&"linearRampToValueAtTime"===n.type&&e.value!==n.value){const r=this._fromType(this.getValueAtTime(e.time)),i=(this._fromType(this.getValueAtTime(n.time))-r)/(n.time-e.time),s=Math.sqrt(Math.pow(r,2)-2*i*(e.ticks-t)),o=(-r+s)/i,a=(-r-s)/i;return(o>0?o:a)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const n=this.toSeconds(e),r=this.toSeconds(t),i=this.getTicksAtTime(n);return this.getTicksAtTime(n+r)-i}_fromType(t){return"bpm"===this.units&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return"bpm"===this.units&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class ta extends Qo{constructor(){super(oo(ta.getDefaults(),arguments,["value"])),this.name="TickSignal";const t=oo(ta.getDefaults(),arguments,["value"]);this.input=this._param=new Ko({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(Qo.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class ea extends Lo{constructor(){super(oo(ea.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Bo,this._tickOffset=new _o;const t=oo(ea.getDefaults(),arguments,["frequency"]);this.frequency=new ta({context:this.context,units:t.units,value:t.frequency}),Co(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Lo.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const n=this.toSeconds(t);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),Ls(e)&&this.setTicksAtTime(e,n)),this}stop(t){const e=this.toSeconds(t);if("stopped"===this._state.getValueAtTime(e)){const t=this._state.get(e);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&this._state.setStateAtTime("paused",e),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);let i=n,s=0;return this._state.forEachBetween(n.time,e+this.sampleTime,(t=>{let e=i.time;const n=this._tickOffset.get(t.time);n&&n.time>=i.time&&(s=n.ticks,e=n.time),"started"===i.state&&"started"!==t.state&&(s+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e)),i=t})),this._state.remove(r),s}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),n=this.frequency.timeToTicks(t,e);this.setTicksAtTime(n,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),n={state:"paused",time:t};this._state.add(n);let r=e,i=0;return this._state.forEachBetween(e.time,t+this.sampleTime,(t=>{let e=r.time;const n=this._tickOffset.get(t.time);n&&n.time>=r.time&&(i=n.seconds,e=n.time),"started"===r.state&&"started"!==t.state&&(i+=t.time-e),r=t})),this._state.remove(n),i}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){const n=this._tickOffset.get(e),r=this._state.get(e),i=Math.max(n.time,r.time),s=this.frequency.getTicksAtTime(i)+t-n.ticks;return this.frequency.getTimeOfTick(s)}forEachTickBetween(t,e,n){let r=this._state.get(t);this._state.forEachBetween(t,e,(e=>{r&&"started"===r.state&&"started"!==e.state&&this.forEachTickBetween(Math.max(r.time,t),e.time-this.sampleTime,n),r=e}));let i=null;if(r&&"started"===r.state){const s=Math.max(r.time,t),o=this.frequency.getTicksAtTime(s),a=o-this.frequency.getTicksAtTime(r.time);let u=Math.ceil(a)-a;u=mo(u,1)?0:u;let c=this.frequency.getTimeOfTick(o+u);for(;c<e;){try{n(c,Math.round(this.getTicksAtTime(c)))}catch(t){i=t;break}c+=this.frequency.getDurationOfTicks(1,c)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class na extends Lo{constructor(){super(oo(na.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=ko,this._lastUpdate=0,this._state=new Bo("stopped"),this._boundLoop=this._loop.bind(this);const t=oo(na.getDefaults(),arguments,["callback","frequency"]);this.callback=t.callback,this._tickSource=new ea({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Co(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Lo.getDefaults(),{callback:ko,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){qs(this.context);const n=this.toSeconds(t);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,e),n<this._lastUpdate&&this.emit("start",n,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const n=this.toSeconds(e),r=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(r+t,n)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,(t=>{switch(t.state){case"started":const e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case"stopped":0!==t.time&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time)}})),this._tickSource.forEachTickBetween(t,e,((t,e)=>{this.callback(t,e)})))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}xo.mixin(na);class ra extends co{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=oo(ra.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach((e=>{this._loadingCount++;const n=t.urls[e];this.add(e,n,this._bufferLoaded.bind(this,t.onload),t.onerror)}))}static getDefaults(){return{baseUrl:"",onerror:ko,onload:ko,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return Vs(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,0===this._loadingCount&&t&&t()}get loaded(){return Array.from(this._buffers).every((([t,e])=>e.loaded))}add(t,e,n=ko,r=ko){return Gs(e)?this._buffers.set(t.toString(),new So(this.baseUrl+e,n,r)):this._buffers.set(t.toString(),new So(e,n,r)),this}dispose(){return super.dispose(),this._buffers.forEach((t=>t.dispose())),this._buffers.clear(),this}}class ia extends Wo{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class sa extends Lo{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new _o,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}vo((t=>{t.draw=new sa({context:t})})),wo((t=>{t.draw.dispose()}));class oa extends co{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){Vs(Ls(t.time),"Events must have a time property"),Vs(Ls(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new aa(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(null!==this._root){const e=[];this._root.search(t.time,e);for(const n of e)if(n.event===t){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,(t=>this.remove(t))),this}_setRoot(t){this._root=t,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{let e,n=null;if(t.getBalance()>0)if(null===t.left.right)e=t.left,e.right=t.right,n=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent&&(e.parent.right=e.left,n=e.parent,e.left=t.left,e.right=t.right)}else if(null===t.right.left)e=t.right,e.left=t.left,n=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent&&(e.parent.left=e.right,n=e.parent,e.left=t.left,e.right=t.right)}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),n&&this._rebalance(n)}t.dispose()}_rotateLeft(t){const e=t.parent,n=t.isLeftChild(),r=t.right;r&&(t.right=r.left,r.left=t),null!==e?n?e.left=r:e.right=r:this._setRoot(r)}_rotateRight(t){const e=t.parent,n=t.isLeftChild(),r=t.left;r&&(t.left=r.right,r.right=t),null!==e?n?e.left=r:e.right=r:this._setRoot(r)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(null!==this._root){const e=[];if(this._root.search(t,e),e.length>0){let t=e[0];for(let n=1;n<e.length;n++)e[n].low>t.low&&(t=e[n]);return t.event}}return null}forEach(t){if(null!==this._root){const e=[];this._root.traverse((t=>e.push(t))),e.forEach((e=>{e.event&&t(e.event)}))}return this}forEachAtTime(t,e){if(null!==this._root){const n=[];this._root.search(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}forEachFrom(t,e){if(null!==this._root){const n=[];this._root.searchAfter(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse((t=>t.dispose())),this._root=null,this}}class aa{constructor(t,e,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)}traverse(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class ua extends Uo{constructor(){super(oo(ua.getDefaults(),arguments,["volume"])),this.name="Volume";const t=oo(ua.getDefaults(),arguments,["volume"]);this.input=this.output=new Yo({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,Co(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(Uo.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class ca extends Uo{constructor(){super(oo(ca.getDefaults(),arguments)),this.name="Destination",this.input=new ua({context:this.context}),this.output=new Yo({context:this.context}),this.volume=this.input.volume;const t=oo(ca.getDefaults(),arguments);Go(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Uo.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),Go(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}vo((t=>{t.destination=new ca({context:t})})),wo((t=>{t.destination.dispose()}));class la extends co{constructor(t){super(),this.name="TimelineValue",this._timeline=new _o({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class ha{constructor(t,e){this.id=ha._eventId++;const n=Object.assign(ha.getDefaults(),e);this.transport=t,this.callback=n.callback,this._once=n.once,this.time=n.time}static getDefaults(){return{callback:ko,once:!1,time:0}}invoke(t){this.callback&&(this.callback(t),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}ha._eventId=0;class pa extends ha{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(pa.getDefaults(),e);this.duration=new ia(t.context,n.duration).valueOf(),this._interval=new ia(t.context,n.interval).valueOf(),this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},ha.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvents(t){const e=this.transport.getTicksAtTime(t);e>=this.time&&e>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new ia(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const e=this.transport.getTicksAtTime(t);e>this.time&&(this._nextTick=this.time+Math.ceil((e-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new ia(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new ia(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class fa extends Lo{constructor(){super(oo(fa.getDefaults(),arguments)),this.name="Transport",this._loop=new la(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new _o,this._repeatedEvents=new oa,this._syncedSignals=[],this._swingAmount=0;const t=oo(fa.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new na({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Co(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(Lo.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&e%this._ppq!=0&&e%(2*this._swingTicks)!=0){const n=e%(2*this._swingTicks)/(2*this._swingTicks),r=Math.sin(n*Math.PI)*this._swingAmount;t+=new ia(this.context,2*this._swingTicks/3).toSeconds()*r}this._timeline.forEachAtTime(e,(e=>e.invoke(t)))}schedule(t,e){const n=new ha(this,{callback:t,time:new Wo(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(t,e,n,r=1/0){const i=new pa(this,{callback:t,duration:new Po(this.context,r).toTicks(),interval:new Po(this.context,e).toTicks(),time:new Wo(this.context,n).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(t,e){const n=new ha(this,{callback:t,once:!0,time:new Wo(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){const e=this.toTicks(t);return this._timeline.forEachFrom(e,(t=>this.clear(t.id))),this._repeatedEvents.forEachFrom(e,(t=>this.clear(t.id))),this}_bindClockEvents(){this._clock.on("start",((t,e)=>{e=new ia(this.context,e).toSeconds(),this.emit("start",t,e)})),this._clock.on("stop",(t=>{this.emit("stop",t)})),this._clock.on("pause",(t=>{this.emit("pause",t)}))}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){let n;return Ls(e)&&(n=this.toTicks(e)),this._clock.start(t,n),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),"started"!==this._clock.getStateAtTime(t)?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){Us(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new Po(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new Po(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new ia(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new ia(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),n=this._clock.frequency.timeToTicks(t,e);this.ticks=n}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(e),r=e+this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,e);this.emit("stop",r),this._clock.setTicksAtTime(t,r),this.emit("start",r,this._clock.getSecondsAtTime(r))}else this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return Math.round(this._clock.getTicksAtTime(t))}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),"started"!==this.state)return 0;{const e=this.now(),n=t-this.getTicksAtTime(e)%t;return this._clock.nextTickTime(n,e)}}syncSignal(t,e){if(!e){const n=this.now();if(0!==t.getValueAtTime(n)){const r=1/(60/this.bpm.getValueAtTime(n)/this.PPQ);e=t.getValueAtTime(n)/r}else e=0}const n=new Yo(e);return this.bpm.connect(n),n.connect(t._param),this._syncedSignals.push({initial:t.value,ratio:n,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const n=this._syncedSignals[e];n.signal===t&&(n.ratio.dispose(),n.signal.value=n.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Ao(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}xo.mixin(fa),vo((t=>{t.transport=new fa({context:t})})),wo((t=>{t.transport.dispose()}));class da extends Uo{constructor(t){super(t),this.input=void 0,this._state=new Bo("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=ko,this._syncedStop=ko,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new ua({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Co(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(Uo.getDefaults(),{mute:!1,onstop:ko,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,n){let r=Ws(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(r=this._clampToCurrentTime(r),this._synced||"started"!==this._state.getValueAtTime(r))if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const t=this._state.get(r);t&&(t.offset=this.toSeconds(ao(e,0)),t.duration=n?this.toSeconds(n):void 0);const i=this.context.transport.schedule((t=>{this._start(t,e,n)}),r);this._scheduled.push(i),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else qs(this.context),this._start(r,e,n);else Vs(ho(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,e,n);return this}stop(t){let e=Ws(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),"started"===this._state.getValueAtTime(e)||Ls(this._state.getNextState("started",e))){if(this.log("stop",e),this._synced){const t=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(t)}else this._stop(e);this._state.cancel(e),this._state.setStateAtTime("stopped",e)}return this}restart(t,e,n){return t=this.toSeconds(t),"started"===this._state.getValueAtTime(t)&&(this._state.cancel(t),this._restart(t,e,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if(e>0){const n=this._state.get(e);if(n&&"started"===n.state&&n.time!==e){const r=e-this.toSeconds(n.time);let i;n.duration&&(i=this.toSeconds(n.duration)-r),this._start(t,this.toSeconds(n.offset)+r,i)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));"started"===this._state.getValueAtTime(e)&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach((t=>this.context.transport.clear(t))),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=ko,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class ma extends Xo{constructor(){super(oo(ma.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const t=oo(ma.getDefaults(),arguments,["url","onload"]);Zo(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new zo({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new So(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Xo.getDefaults(),{url:new So,loop:!1,loopEnd:0,loopStart:0,onload:ko,onerror:ko,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,n,r=1){Vs(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(t);this._startGain(i,r),e=this.loop?ao(e,this.loopStart):ao(e,0);let s=Math.max(this.toSeconds(e),0);if(this.loop){const t=this.toSeconds(this.loopEnd)||this.buffer.duration,e=this.toSeconds(this.loopStart),n=t-e;po(s,t)&&(s=(s-e)%n+e),mo(s,this.buffer.duration)&&(s=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,fo(s,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,s)),Ls(n)){let t=this.toSeconds(n);t=Math.max(t,0),this.stop(i+t)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function _a(t,e){return Qs(this,void 0,void 0,(function*(){const n=e/t.context.sampleRate,r=new Oo(1,n,t.context.sampleRate);new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0);return(yield r.render()).getChannelData(0)}))}class ga extends Xo{constructor(){super(oo(ga.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const t=oo(ga.getDefaults(),arguments,["frequency","type"]);Zo(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new zo({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new zo({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),Co(this,["frequency","detune"])}static getDefaults(){return Object.assign(Xo.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class va extends da{constructor(){super(oo(va.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=oo(va.getDefaults(),arguments,["frequency","type"]);this.frequency=new Qo({context:this.context,units:"frequency",value:t.frequency}),Co(this,"frequency"),this.detune=new Qo({context:this.context,units:"cents",value:t.detune}),Co(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&"custom"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(da.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const e=this.toSeconds(t),n=new ga({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log("restart",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type){return va._periodicWaveCache.find((t=>{return t.phase===this._phase&&(e=t.partials,n=this._partials,e.length===n.length&&e.every(((t,e)=>n[e]===t)));var e,n}))}{const t=va._periodicWaveCache.find((t=>t.type===this._type&&t.phase===this._phase));return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=-1!==["sine","square","sawtooth","triangle"].indexOf(t);if(0===this._phase&&e)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if(Ls(e)){const{partials:t,wave:n}=e;this._wave=n,this._partials=t,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[e,n]=this._getRealImaginary(t,this._phase),r=this.context.createPeriodicWave(e,n);this._wave=r,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),va._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:e,type:this._type,wave:this._wave}),va._periodicWaveCache.length>100&&va._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&"custom"!==this._type&&"custom"!==t?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){Ps(t,0);let e=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(e=n[1]),"custom"!==this._type)this.type=0===t?e:e+t.toString();else{const e=new Float32Array(t);this._partials.forEach(((t,n)=>e[n]=t)),this._partials=Array.from(e),this.type=this._type}}_getRealImaginary(t,e){let n=2048;const r=new Float32Array(n),i=new Float32Array(n);let s=1;if("custom"===t){if(s=this._partials.length+1,this._partialCount=this._partials.length,n=s,0===this._partials.length)return[r,i]}else{const e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);e?(s=parseInt(e[2],10)+1,this._partialCount=parseInt(e[2],10),t=e[1],s=Math.max(s,2),n=s):this._partialCount=0,this._partials=[]}for(let o=1;o<n;++o){const n=2/(o*Math.PI);let a;switch(t){case"sine":a=o<=s?1:0,this._partials[o-1]=a;break;case"square":a=1&o?2*n:0,this._partials[o-1]=a;break;case"sawtooth":a=n*(1&o?1:-1),this._partials[o-1]=a;break;case"triangle":a=1&o?n*n*2*(o-1>>1&1?-1:1):0,this._partials[o-1]=a;break;case"custom":a=this._partials[o-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}0!==a?(r[o]=-a*Math.sin(e*o),i[o]=a*Math.cos(e*o)):(r[o]=0,i[o]=0)}return[r,i]}_inverseFFT(t,e,n){let r=0;const i=t.length;for(let s=0;s<i;s++)r+=t[s]*Math.cos(s*n)+e[s]*Math.sin(s*n);return r}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let n=0;const r=2*Math.PI;for(let i=0;i<32;i++)n=Math.max(this._inverseFFT(t,e,i/32*r),n);return i=-this._inverseFFT(t,e,this._phase)/n,s=-1,o=1,Math.max(Math.min(i,o),s);var i,s,o}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return Qs(this,void 0,void 0,(function*(){return _a(this,t)}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}va._periodicWaveCache=[];class ya extends Uo{constructor(){super(Object.assign(oo(ya.getDefaults(),arguments,["context"])))}connect(t,e=0,n=0){return Jo(this,t,e,n),this}}class wa extends ya{constructor(){super(Object.assign(oo(wa.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const t=oo(wa.getDefaults(),arguments,["mapping","length"]);Us(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):"function"==typeof t.mapping&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(Qo.getDefaults(),{length:1024})}setMap(t,e=1024){const n=new Float32Array(e);for(let r=0,i=e;r<i;r++){const e=r/(i-1)*2-1;n[r]=t(e,r)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){Vs(["none","2x","4x"].some((e=>e.includes(t))),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class xa extends ya{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new wa({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class ba extends Qo{constructor(){super(Object.assign(oo(ba.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const t=oo(ba.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Yo({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Qo.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Ta extends da{constructor(){super(oo(Ta.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new xa({context:this.context}),this._modulationNode=new Yo({context:this.context});const t=oo(Ta.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new va({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new va({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new ba({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Co(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(va.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Qs(this,void 0,void 0,(function*(){return _a(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Ca extends da{constructor(){super(oo(Ca.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Yo({context:this.context,gain:0});const t=oo(Ca.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new va({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new Qo({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new va({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new ba({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new ba({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Co(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(va.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Qs(this,void 0,void 0,(function*(){return _a(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Aa extends da{constructor(){super(oo(Aa.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Yo({context:this.context,gain:0}),this._thresh=new wa({context:this.context,mapping:t=>t<=0?-1:1});const t=oo(Aa.getDefaults(),arguments,["frequency","width"]);this.width=new Qo({context:this.context,units:"audioRange",value:t.width}),this._triangle=new va({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Co(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(da.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return Qs(this,void 0,void 0,(function*(){return _a(this,t)}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class ka extends da{constructor(){super(oo(ka.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const t=oo(ka.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Qo({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Qo({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Co(this,["frequency","detune"])}static getDefaults(){return Object.assign(va.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach((e=>e.start(t)))}_stop(t){t=this.toSeconds(t),this._forEach((e=>e.stop(t)))}_restart(t){this._forEach((e=>e.restart(t)))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach((e=>e.type=t))}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,n=t/(this._oscillators.length-1);this._forEach(((t,r)=>t.detune.value=e+n*r))}}get count(){return this._oscillators.length}set count(t){if(Ps(t,1),this._oscillators.length!==t){this._forEach((t=>t.dispose())),this._oscillators=[];for(let e=0;e<t;e++){const n=new va({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:0===e?()=>this.onstop(this):ko});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[e]=n}this.spread=this._spread,"started"===this.state&&this._forEach((t=>t.start()))}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach(((t,e)=>t.phase=this._phase+e/this.count*360))}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach((e=>e.baseType=t)),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach((e=>e.partials=t)))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach((e=>e.partialCount=t)),this._type=this._oscillators[0].type}asArray(t=1024){return Qs(this,void 0,void 0,(function*(){return _a(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach((t=>t.dispose())),this}}class Sa extends da{constructor(){super(oo(Sa.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new ba({context:this.context,value:2});const t=oo(Sa.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Aa({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new va({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Co(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(da.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return Qs(this,void 0,void 0,(function*(){return _a(this,t)}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Oa={am:Ta,fat:ka,fm:Ca,oscillator:va,pulse:Aa,pwm:Sa};class Ma extends da{constructor(){super(oo(Ma.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const t=oo(Ma.getDefaults(),arguments,["frequency","type"]);this.frequency=new Qo({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Qo({context:this.context,units:"cents",value:t.detune}),Co(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(va.getDefaults(),Ca.getDefaults(),Ta.getDefaults(),ka.getDefaults(),Aa.getDefaults(),Sa.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some((t=>this._sourceType===t))&&(t=this._sourceType),t+this._oscillator.type}set type(t){"fm"===t.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):"pwm"===t?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===t?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=Oa[t],n=this.now();if(this._oscillator){const t=this._oscillator;t.stop(n),this.context.setTimeout((()=>t.dispose()),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),"fm"===t?this.type="fm"+e:"am"===t?this.type="am"+e:"fat"===t?this.type="fat"+e:"oscillator"===t?this.type=e:"pulse"===t?this.type="pulse":"pwm"===t&&(this.type="pwm")}_getOscType(t,e){return t instanceof Oa[e]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===t||"pwm"===t||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,"fat")&&Bs(t)&&(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,"fat")&&Bs(t)&&(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Gs(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(t=1024){return Qs(this,void 0,void 0,(function*(){return _a(this,t)}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function Ea(t,e=1/0){const n=new WeakMap;return function(r,i){Reflect.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(r){Ps(r,t,e),n.set(this,r)}})}}function Ia(t,e=1/0){const n=new WeakMap;return function(r,i){Reflect.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(r){Ps(this.toSeconds(r),t,e),n.set(this,r)}})}}class Da extends da{constructor(){super(oo(Da.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const t=oo(Da.getDefaults(),arguments,["url","onload"]);this._buffer=new So({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(da.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:ko,onerror:ko,playbackRate:1,reverse:!1})}load(t){return Qs(this,void 0,void 0,(function*(){return yield this._buffer.load(t),this._onload(),this}))}_onload(t=ko){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,e,n){return super.start(t,e,n),this}_start(t,e,n){e=this._loop?ao(e,this._loopStart):ao(e,0);const r=this.toSeconds(e),i=n;n=ao(n,Math.max(this._buffer.duration-r,0));let s=this.toSeconds(n);s/=this._playbackRate,t=this.toSeconds(t);const o=new ma({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+s),this._state.setStateAtTime("stopped",t+s,{implicitEnd:!0})),this._activeSources.add(o),this._loop&&Ws(i)?o.start(t,r):o.start(t,r,s-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach((t=>t.stop(e)))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){this._stop(t),this._start(t,e,n)}seek(t,e){const n=this.toSeconds(e);if("started"===this._state.getValueAtTime(n)){const e=this.toSeconds(t);this._stop(n),this._start(n,e)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&Ps(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopStart=t}))}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&Ps(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopEnd=t}))}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach((e=>{e.loop=t})),t)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),n=this._state.getNextState("stopped",e);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach((t=>t.cancelStop()))),this._activeSources.forEach((n=>{n.playbackRate.setValueAtTime(t,e)}))}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach((t=>t.dispose())),this._activeSources.clear(),this._buffer.dispose(),this}}Hs([Ia(0)],Da.prototype,"fadeIn",void 0),Hs([Ia(0)],Da.prototype,"fadeOut",void 0);class $a extends Uo{constructor(){super(oo($a.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Qo({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const t=oo($a.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(Uo.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(Gs(t))return t;{let n;for(n in Ra)if(Ra[n][e]===t)return n;return t}}_setCurve(t,e,n){if(Gs(n)&&Reflect.has(Ra,n)){const r=Ra[n];zs(r)?"_decayCurve"!==t&&(this[t]=r[e]):this[t]=r}else{if(!Us(n)||"_decayCurve"===t)throw new Error("Envelope: invalid curve: "+n);this[t]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._decayCurve}set decayCurve(t){Vs(["linear","exponential"].some((e=>e===t)),`Invalid envelope curve: ${t}`),this._decayCurve=t}triggerAttack(t,e=1){this.log("triggerAttack",t,e),t=this.toSeconds(t);let n=this.toSeconds(this.attack);const r=this.toSeconds(this.decay),i=this.getValueAtTime(t);if(i>0){n=(1-i)/(1/n)}if(n<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,n,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,n,t);else{this._sig.cancelAndHoldAtTime(t);let r=this._attackCurve;for(let t=1;t<r.length;t++)if(r[t-1]<=i&&i<=r[t]){r=this._attackCurve.slice(t),r[0]=i;break}this._sig.setValueCurveAtTime(r,t,n,e)}if(r&&this.sustain<1){const i=e*this.sustain,s=t+n;this.log("decay",s),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(i,r+s):this._sig.exponentialApproachValueAtTime(i,s,r)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,t):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,t):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,t):(Vs(Us(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,n,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,e=0,n=0){return Jo(this,t,e,n),this}asArray(t=1024){return Qs(this,void 0,void 0,(function*(){const e=t/this.context.sampleRate,n=new Oo(1,e,this.context.sampleRate),r=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=r+this.toSeconds(this.release),s=.1*i,o=i+s,a=new this.constructor(Object.assign(this.get(),{attack:e*this.toSeconds(this.attack)/o,decay:e*this.toSeconds(this.decay)/o,release:e*this.toSeconds(this.release)/o,context:n}));a._sig.toDestination(),a.triggerAttackRelease(e*(r+s)/o,0);return(yield n.render()).getChannelData(0)}))}dispose(){return super.dispose(),this._sig.dispose(),this}}Hs([Ia(0)],$a.prototype,"attack",void 0),Hs([Ia(0)],$a.prototype,"decay",void 0),Hs([Ea(0,1)],$a.prototype,"sustain",void 0),Hs([Ia(0)],$a.prototype,"release",void 0);const Ra=(()=>{const t=128;let e,n;const r=[];for(e=0;e<t;e++)r[e]=Math.sin(e/127*(Math.PI/2));const i=[];for(e=0;e<127;e++){n=e/127;const t=Math.sin(n*(2*Math.PI)*6.4-Math.PI/2)+1;i[e]=t/10+.83*n}i[127]=1;const s=[];for(e=0;e<t;e++)s[e]=Math.ceil(e/127*5)/5;const o=[];for(e=0;e<t;e++)n=e/127,o[e]=.5*(1-Math.cos(Math.PI*n));const a=[];for(e=0;e<t;e++){n=e/127;const t=4*Math.pow(n,3)+.2,r=Math.cos(t*Math.PI*2*n);a[e]=Math.abs(r*(1-n))}function u(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=1-t[n];return e}return{bounce:{In:u(a),Out:a},cosine:{In:r,Out:(c=r,c.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:i,Out:u(i)},sine:{In:o,Out:u(o)},step:{In:s,Out:u(s)}};var c})();class Na extends Uo{constructor(){super(oo(Na.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const t=oo(Na.getDefaults(),arguments);this._volume=this.output=new ua({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Co(this,"volume")}static getDefaults(){return Object.assign(Uo.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const n=this["_original_"+t]=this[t];this[t]=(...t)=>{const r=t[e],i=this.context.transport.schedule((r=>{t[e]=r,n.apply(this,t)}),r);this._scheduledEvents.push(i)}}unsync(){return this._scheduledEvents.forEach((t=>this.context.transport.clear(t))),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,e,n,r){const i=this.toSeconds(n),s=this.toSeconds(e);return this.triggerAttack(t,i,r),this.triggerRelease(i+s),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Va extends Na{constructor(){super(oo(Va.getDefaults(),arguments));const t=oo(Va.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(Na.getDefaults(),{detune:0,onsilence:ko,portamento:0})}triggerAttack(t,e,n=1){this.log("triggerAttack",t,e,n);const r=this.toSeconds(e);return this._triggerEnvelopeAttack(r,n),this.setNote(t,r),this}triggerRelease(t){this.log("triggerRelease",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const n=this.toSeconds(e),r=t instanceof qo?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const t=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,t,n)}else this.frequency.setValueAtTime(r,n);return this}}Hs([Ia(0)],Va.prototype,"portamento",void 0);class Pa extends $a{constructor(){super(oo(Pa.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Yo({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class qa extends Va{constructor(){super(oo(qa.getDefaults(),arguments)),this.name="Synth";const t=oo(qa.getDefaults(),arguments);this.oscillator=new Ma(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Pa(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Co(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Va.getDefaults(),{envelope:Object.assign(uo($a.getDefaults(),Object.keys(Uo.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(uo(Ma.getDefaults(),[...Object.keys(da.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class ja extends qa{constructor(){super(oo(ja.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const t=oo(ja.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Co(this,["oscillator","envelope"])}static getDefaults(){return so(Va.getDefaults(),qa.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){const n=this.toSeconds(e),r=this.toFrequency(t instanceof qo?t.toFrequency():t),i=r*this.octaves;return this.oscillator.frequency.setValueAtTime(i,n),this.oscillator.frequency.exponentialRampToValueAtTime(r,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Hs([Ea(0)],ja.prototype,"octaves",void 0),Hs([Ia(0)],ja.prototype,"pitchDecay",void 0);const Fa=new Set;function Wa(t){Fa.add(t)}function La(t,e){const n=`registerProcessor("${t}", ${e})`;Fa.add(n)}Wa('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n');Wa("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n");Wa("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n");La("feedback-comb-filter",'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class Ba extends Na{constructor(){super(oo(Ba.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const t=oo(Ba.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),e={};Object.keys(t.urls).forEach((n=>{const r=parseInt(n,10);if(Vs(Zs(n)||Bs(r)&&isFinite(r),`url key is neither a note or midi pitch: ${n}`),Zs(n)){const r=new qo(this.context,n).toMidi();e[r]=t.urls[n]}else Bs(r)&&isFinite(r)&&(e[r]=t.urls[r])})),this._buffers=new ra({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(Na.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:ko,onerror:ko,release:.1,urls:{}})}_findClosest(t){let e=0;for(;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,e,n=1){return this.log("triggerAttack",t,e,n),Array.isArray(t)||(t=[t]),t.forEach((t=>{const r=No(new qo(this.context,t).toFrequency()),i=Math.round(r),s=r-i,o=this._findClosest(i),a=i-o,u=this._buffers.get(a),c=Do(o+s),l=new ma({url:u,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:c}).connect(this.output);l.start(e,0,u.duration/c,n),Us(this._activeSources.get(i))||this._activeSources.set(i,[]),this._activeSources.get(i).push(l),l.onended=()=>{if(this._activeSources&&this._activeSources.has(i)){const t=this._activeSources.get(i),e=t.indexOf(l);-1!==e&&t.splice(e,1)}}})),this}triggerRelease(t,e){return this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]),t.forEach((t=>{const n=new qo(this.context,t).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const t=this._activeSources.get(n);e=this.toSeconds(e),t.forEach((t=>{t.stop(e)})),this._activeSources.set(n,[])}})),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach((t=>{for(;t.length;){t.shift().stop(e)}})),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,e,n,r=1){const i=this.toSeconds(n);return this.triggerAttack(t,i,r),Us(e)?(Vs(Us(t),"notes must be an array when duration is array"),t.forEach(((t,n)=>{const r=e[Math.min(n,e.length-1)];this.triggerRelease(t,i+this.toSeconds(r))}))):this.triggerRelease(t,i+this.toSeconds(e)),this}add(t,e,n){if(Vs(Zs(t)||isFinite(t),`note must be a pitch or midi: ${t}`),Zs(t)){const r=new qo(this.context,t).toMidi();this._buffers.add(r,e,n)}else this._buffers.add(t,e,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach((t=>{t.forEach((t=>t.dispose()))})),this._activeSources.clear(),this}}Hs([Ia(0)],Ba.prototype,"attack",void 0),Hs([Ia(0)],Ba.prototype,"release",void 0);La("bit-crusher","\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class za extends Uo{constructor(){super(...arguments),this.name="Listener",this.positionX=new zo({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new zo({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new zo({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new zo({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new zo({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new zo({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new zo({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new zo({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new zo({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Uo.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}vo((t=>{t.listener=new za({context:t})})),wo((t=>{t.listener.dispose()})),Io().transport,Io().destination,Io().destination,Io().listener,Io().draw,Io();var Ua=bt((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n="trash-alt",r=[],i="f2ed",s="M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z";e.definition={prefix:"fas",iconName:n,icon:[448,512,r,i,s]},e.faTrashAlt=e.definition,e.prefix="fas",e.iconName=n,e.width=448,e.height=512,e.ligatures=r,e.unicode=i,e.svgPathData=s}));function Ga(e){let n,r,i;return{c(){n=C("div"),E(n,"class","key svelte-dzll4j"),E(n,"style",e[1]),N(n,"sharp",e[3]()),N(n,"pressed",e[0])},m(t,s){x(t,n,s),r||(i=M(n,"click",e[2]),r=!0)},p(t,[e]){2&e&&E(n,"style",t[1]),1&e&&N(n,"pressed",t[0])},i:t,o:t,d(t){t&&b(n),r=!1,i()}}}function Za(t,e,n){let{note:r}=e,{index:i}=e,{style:s=""}=e,{pressed:o}=e,{sampler:a}=e;const u=z();return t.$$set=t=>{"note"in t&&n(4,r=t.note),"index"in t&&n(5,i=t.index),"style"in t&&n(1,s=t.style),"pressed"in t&&n(0,o=t.pressed),"sampler"in t&&n(6,a=t.sampler)},[o,s,function(){n(0,o=!o),o&&a.triggerAttackRelease(`${r}${4+i}`,1),u("key-press",{note:r,index:i})},function(){return r.includes("#")},r,i,a]}class Ya extends wt{constructor(t){super(),yt(this,t,Za,Ga,a,{note:4,index:5,style:1,pressed:0,sampler:6})}}function Xa(t,e,n){const r=t.slice();return r[13]=e[n],r}function Ha(t,e,n){const r=t.slice();return r[13]=e[n].note,r[16]=e[n].style,r[17]=e[n].isPressed,r[18]=e,r[19]=n,r}function Qa(t){let e,n,r;function i(e){t[9](e,t[17],t[18],t[19])}let s={note:t[13],index:Math.floor(t[19]/12),sampler:t[2],style:t[16]};return void 0!==t[17]&&(s.pressed=t[17]),e=new Ya({props:s}),G.push((()=>dt(e,"pressed",i))),e.$on("key-press",t[4]),{c(){mt(e.$$.fragment)},m(t,n){_t(e,t,n),r=!0},p(r,i){t=r;const s={};8&i&&(s.note=t[13]),4&i&&(s.sampler=t[2]),8&i&&(s.style=t[16]),!n&&8&i&&(n=!0,s.pressed=t[17],J((()=>n=!1))),e.$set(s)},i(t){r||(ct(e.$$.fragment,t),r=!0)},o(t){lt(e.$$.fragment,t),r=!1},d(t){gt(e,t)}}}function Ja(t){let e,n,r=t[13]+"";return{c(){e=k(r),n=S()},m(t,r){x(t,e,r),x(t,n,r)},p(t,n){1&n&&r!==(r=t[13]+"")&&R(e,r)},d(t){t&&b(e),t&&b(n)}}}function Ka(t){let e,n;return e=new Kt({props:{class:t[1],$$slots:{default:[Ja]},$$scope:{ctx:t}}}),{c(){mt(e.$$.fragment)},m(t,r){_t(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.class=t[1]),1048577&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ct(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){gt(e,t)}}}function tu(e){let n,r,i;return n=new ae({props:{icon:Ua.faTrashAlt}}),{c(){mt(n.$$.fragment),r=k("\n    Clear")},m(t,e){_t(n,t,e),x(t,r,e),i=!0},p:t,i(t){i||(ct(n.$$.fragment,t),i=!0)},o(t){lt(n.$$.fragment,t),i=!1},d(t){gt(n,t),t&&b(r)}}}function eu(t){let e,n,r,i,s,o,a,u=t[3],c=[];for(let e=0;e<u.length;e+=1)c[e]=Qa(Ha(t,u,e));const l=t=>lt(c[t],1,1,(()=>{c[t]=null}));let h=t[0],p=[];for(let e=0;e<h.length;e+=1)p[e]=Ka(Xa(t,h,e));const f=t=>lt(p[t],1,1,(()=>{p[t]=null}));return o=new Ht({props:{$$slots:{default:[tu]},$$scope:{ctx:t}}}),o.$on("click",t[5]),{c(){e=C("main"),n=C("section");for(let t=0;t<c.length;t+=1)c[t].c();r=S(),i=C("section");for(let t=0;t<p.length;t+=1)p[t].c();s=S(),mt(o.$$.fragment),E(n,"class","keyboard__keys svelte-17ghvi8"),E(i,"class","keyboard__pressed-notes svelte-17ghvi8"),E(e,"class","keyboard")},m(t,u){x(t,e,u),w(e,n);for(let t=0;t<c.length;t+=1)c[t].m(n,null);w(e,r),w(e,i);for(let t=0;t<p.length;t+=1)p[t].m(i,null);w(e,s),_t(o,e,null),a=!0},p(t,[e]){if(28&e){let r;for(u=t[3],r=0;r<u.length;r+=1){const i=Ha(t,u,r);c[r]?(c[r].p(i,e),ct(c[r],1)):(c[r]=Qa(i),c[r].c(),ct(c[r],1),c[r].m(n,null))}for(at(),r=u.length;r<c.length;r+=1)l(r);ut()}if(3&e){let n;for(h=t[0],n=0;n<h.length;n+=1){const r=Xa(t,h,n);p[n]?(p[n].p(r,e),ct(p[n],1)):(p[n]=Ka(r),p[n].c(),ct(p[n],1),p[n].m(i,null))}for(at(),n=h.length;n<p.length;n+=1)f(n);ut()}const r={};1048576&e&&(r.$$scope={dirty:e,ctx:t}),o.$set(r)},i(t){if(!a){for(let t=0;t<u.length;t+=1)ct(c[t]);for(let t=0;t<h.length;t+=1)ct(p[t]);ct(o.$$.fragment,t),a=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)lt(c[t]);p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)lt(p[t]);lt(o.$$.fragment,t),a=!1},d(t){t&&b(e),T(c,t),T(p,t),gt(o)}}}function nu(t){return`left: ${7*t+5}%`}function ru(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function a(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))};let i,s,{clear:o}=e,a=!1,u=[],c=[{note:pe.C,isPressed:!1},{note:pe.Cs,style:nu(0),isPressed:!1},{note:pe.D,isPressed:!1},{note:pe.Ds,style:nu(1),isPressed:!1},{note:pe.E,isPressed:!1},{note:pe.F,isPressed:!1},{note:pe.Fs,style:nu(3),isPressed:!1},{note:pe.G,isPressed:!1},{note:pe.Gs,style:nu(4),isPressed:!1},{note:pe.A,isPressed:!1},{note:pe.As,style:nu(5),isPressed:!1},{note:pe.B,isPressed:!1},{note:pe.C,isPressed:!1},{note:pe.Cs,style:nu(7),isPressed:!1},{note:pe.D,isPressed:!1},{note:pe.Ds,style:nu(8),isPressed:!1},{note:pe.E,isPressed:!1},{note:pe.F,isPressed:!1},{note:pe.Fs,style:nu(10),isPressed:!1},{note:pe.G,isPressed:!1},{note:pe.Gs,style:nu(11),isPressed:!1},{note:pe.A,isPressed:!1},{note:pe.As,style:nu(12),isPressed:!1},{note:pe.B,isPressed:!1}];const l=z();var h;function p({delay:t}={delay:!1}){return r(this,void 0,void 0,(function*(){t&&(yield new Promise((t=>setTimeout(t,500)))),n(3,c=c.map((t=>Object.assign(Object.assign({},t),{isPressed:!1})))),n(8,u=[])}))}let f;return h=()=>{n(2,s=new Ba({urls:{C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3",C5:"C5.mp3","D#5":"Ds5.mp3","F#5":"Fs5.mp3",A5:"A5.mp3"},release:1,baseUrl:"https://tonejs.github.io/audio/salamander/"}).toDestination())},B().$$.on_mount.push(h),t.$$set=t=>{"clear"in t&&n(6,o=t.clear)},t.$$.update=()=>{if(64&t.$$.dirty&&o&&(p({delay:!0}),n(6,o=!1),n(7,a=!0),setTimeout((()=>n(7,a=!1)),500)),256&t.$$.dirty&&n(0,f=u.map((t=>t.note))),1&t.$$.dirty&&l("pressed-change",f),128&t.$$.dirty){n(1,i="text-white bd-light"+(a?" bg-success":" bg-grey"))}},[f,i,s,c,function({detail:t}){const e=u.findIndex((e=>{return r=t,(n=e).note===r.note&&n.index===r.index;var n,r}));if(e>=0){const t=[...u];return t.splice(e,1),void n(8,u=t)}n(8,u=[...u,t])},p,o,a,u,function(t,e,r,i){r[i].isPressed=t,n(3,c)}]}class iu extends wt{constructor(t){super(),yt(this,t,ru,eu,a,{clear:6})}}function su(t){let e,n;return{c(){e=k("Score : "),n=k(t[3])},m(t,r){x(t,e,r),x(t,n,r)},p(t,e){8&e&&R(n,t[3])},d(t){t&&b(e),t&&b(n)}}}function ou(t){let e,n;return e=new It({props:{$$slots:{default:[su]},$$scope:{ctx:t}}}),{c(){mt(e.$$.fragment)},m(t,r){_t(e,t,r),n=!0},p(t,n){const r={};8200&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ct(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){gt(e,t)}}}function au(t){let e,n;return e=new Ht({props:{$$slots:{default:[cu]},$$scope:{ctx:t}}}),e.$on("click",t[7]),{c(){mt(e.$$.fragment)},m(t,r){_t(e,t,r),n=!0},p(t,n){const r={};8192&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ct(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){gt(e,t)}}}function uu(t){let e,n,r,i,s,o,a,u,c,l,h,p,f,d,m=t[0].join("")+"";return s=new ae({props:{icon:ce}}),c=new ae({props:{icon:ue}}),f=new Ht({props:{$$slots:{default:[lu]},$$scope:{ctx:t}}}),f.$on("click",t[6]),{c(){e=C("p"),n=k(m),r=S(),i=C("p"),mt(s.$$.fragment),o=S(),a=k(t[1]),u=k("'\n        | "),mt(c.$$.fragment),l=S(),h=k(t[3]),p=S(),mt(f.$$.fragment),E(e,"class","svelte-1ay49a4"),E(i,"class","svelte-1ay49a4")},m(t,m){x(t,e,m),w(e,n),x(t,r,m),x(t,i,m),_t(s,i,null),w(i,o),w(i,a),w(i,u),_t(c,i,null),w(i,l),w(i,h),x(t,p,m),_t(f,t,m),d=!0},p(t,e){(!d||1&e)&&m!==(m=t[0].join("")+"")&&R(n,m),(!d||2&e)&&R(a,t[1]),(!d||8&e)&&R(h,t[3]);const r={};8192&e&&(r.$$scope={dirty:e,ctx:t}),f.$set(r)},i(t){d||(ct(s.$$.fragment,t),ct(c.$$.fragment,t),ct(f.$$.fragment,t),d=!0)},o(t){lt(s.$$.fragment,t),lt(c.$$.fragment,t),lt(f.$$.fragment,t),d=!1},d(t){t&&b(e),t&&b(r),t&&b(i),gt(s),gt(c),t&&b(p),gt(f,t)}}}function cu(t){let e;return{c(){e=k("Go")},m(t,n){x(t,e,n)},d(t){t&&b(e)}}}function lu(e){let n,r,i;return n=new ae({props:{icon:le}}),{c(){mt(n.$$.fragment),r=k("\n        Swap")},m(t,e){_t(n,t,e),x(t,r,e),i=!0},p:t,i(t){i||(ct(n.$$.fragment,t),i=!0)},o(t){lt(n.$$.fragment,t),i=!1},d(t){gt(n,t),t&&b(r)}}}function hu(t){let e,n,r,i,s,o,a,u,c,l,h,p,f;function d(e){t[10](e)}let m={$$slots:{default:[ou]},$$scope:{ctx:t}};void 0!==t[4]&&(m.open=t[4]),i=new ie({props:m}),G.push((()=>dt(i,"open",d)));const _=[uu,au],g=[];function v(t,e){return t[2]?0:1}function y(e){t[11](e)}u=v(t),c=g[u]=_[u](t);let T={};return void 0!==t[5]&&(T.clear=t[5]),h=new iu({props:T}),G.push((()=>dt(h,"clear",y))),h.$on("pressed-change",t[8]),{c(){e=C("main"),n=C("h1"),n.textContent="Chord Compose",r=S(),mt(i.$$.fragment),o=S(),a=C("section"),c.c(),l=S(),mt(h.$$.fragment),E(n,"class","svelte-1ay49a4"),E(a,"class","svelte-1ay49a4"),E(e,"class","svelte-1ay49a4")},m(t,s){x(t,e,s),w(e,n),w(e,r),_t(i,e,null),w(e,o),w(e,a),g[u].m(a,null),w(e,l),_t(h,e,null),f=!0},p(t,[e]){const n={};8200&e&&(n.$$scope={dirty:e,ctx:t}),!s&&16&e&&(s=!0,n.open=t[4],J((()=>s=!1))),i.$set(n);let r=u;u=v(t),u===r?g[u].p(t,e):(at(),lt(g[r],1,1,(()=>{g[r]=null})),ut(),c=g[u],c?c.p(t,e):(c=g[u]=_[u](t),c.c()),ct(c,1),c.m(a,null));const o={};!p&&32&e&&(p=!0,o.clear=t[5],J((()=>p=!1))),h.$set(o)},i(t){f||(ct(i.$$.fragment,t),ct(c),ct(h.$$.fragment,t),f=!0)},o(t){lt(i.$$.fragment,t),lt(c),lt(h.$$.fragment,t),f=!1},d(t){t&&b(e),gt(i),g[u].d(),gt(h)}}}function pu(t,e,n){let r,i,s=[pe.C,""],o=!1,a=0,u=30,c=!1,l=!1;function h(){n(0,s=_e.generate())}return t.$$.update=()=>{1&t.$$.dirty&&(r=_e.notes(s)),514&t.$$.dirty&&0===u&&(n(1,u=30),n(2,o=!1),n(4,c=!0),clearInterval(i))},[s,u,o,a,c,l,h,function(){n(3,a=0),h(),n(2,o=!0),n(9,i=setInterval((()=>n(1,u--,u)),1e3))},function({detail:t}){Tt.isEqual(Tt.uniq(t.sort()),r.sort())&&(n(5,l=!0),n(3,a++,a),setTimeout(h,500))},i,function(t){c=t,n(4,c),n(1,u),n(9,i)},function(t){l=t,n(5,l)}]}return new class extends wt{constructor(t){super(),yt(this,t,pu,hu,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
