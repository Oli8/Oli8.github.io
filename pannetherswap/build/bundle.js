var app=function(){"use strict";function t(){}const e=t=>t;function r(t,e){for(const r in e)t[r]=e[r];return t}function n(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(n)}function s(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let u;function l(t,e){return u||(u=document.createElement("a")),u.href=e,t===u.href}function c(e,...r){if(null==e)return t;const n=e.subscribe(...r);return n.unsubscribe?()=>n.unsubscribe():n}function h(t,e,r){t.$$.on_destroy.push(c(e,r))}function f(t,e,r,n){if(t){const i=d(t,e,r,n);return t[0](i)}}function d(t,e,n,i){return t[1]&&i?r(n.ctx.slice(),t[1](i(e))):n.ctx}function p(t,e,r,n){if(t[2]&&n){const i=t[2](n(r));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],r=Math.max(e.dirty.length,i.length);for(let n=0;n<r;n+=1)t[n]=e.dirty[n]|i[n];return t}return e.dirty|i}return e.dirty}function m(t,e,r,n,i,o){if(i){const s=d(e,r,n,o);t.p(s,i)}}function g(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let t=0;t<r;t++)e[t]=-1;return e}return-1}function y(t){const e={};for(const r in t)"$"!==r[0]&&(e[r]=t[r]);return e}function v(t,e){const r={};e=new Set(e);for(const n in t)e.has(n)||"$"===n[0]||(r[n]=t[n]);return r}function b(t){const e={};for(const r in t)e[r]=!0;return e}function w(t){return null==t?"":t}const E="undefined"!=typeof window;let _=E?()=>window.performance.now():()=>Date.now(),A=E?t=>requestAnimationFrame(t):t;const x=new Set;function k(t){x.forEach((e=>{e.c(t)||(x.delete(e),e.f())})),0!==x.size&&A(k)}function N(t){let e;return 0===x.size&&A(k),{promise:new Promise((r=>{x.add(e={c:t,f:r})})),abort(){x.delete(e)}}}function M(t,e){t.appendChild(e)}function S(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function P(t){const e=I("style");return function(t,e){M(t.head||t,e)}(S(t),e),e.sheet}function T(t,e,r){t.insertBefore(e,r||null)}function $(t){t.parentNode.removeChild(t)}function R(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function I(t){return document.createElement(t)}function O(t){return document.createTextNode(t)}function B(){return O(" ")}function C(){return O("")}function F(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function L(t,e,r){null==r?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function U(t,e){const r=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)null==e[n]?t.removeAttribute(n):"style"===n?t.style.cssText=e[n]:"__value"===n?t.value=t[n]=e[n]:r[n]&&r[n].set?t[n]=e[n]:L(t,n,e[n])}function j(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function D(t,e){t.value=null==e?"":e}function z(t,e,r,n){null===r?t.style.removeProperty(e):t.style.setProperty(e,r,n?"important":"")}function q(t,e,r){t.classList[r?"add":"remove"](e)}function G(t,e,r=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,r,!1,e),n}class V{constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,e,r=null){this.e||(this.e=I(e.nodeName),this.t=e,this.c(t)),this.i(r)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)T(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach($)}}const H=new Map;let W,J=0;function K(t,e,r,n,i,o,s,a=0){const u=16.666/n;let l="{\n";for(let t=0;t<=1;t+=u){const n=e+(r-e)*o(t);l+=100*t+`%{${s(n,1-n)}}\n`}const c=l+`100% {${s(r,1-r)}}\n}`,h=`__svelte_${function(t){let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return e>>>0}(c)}_${a}`,f=S(t),{stylesheet:d,rules:p}=H.get(f)||function(t,e){const r={stylesheet:P(e),rules:{}};return H.set(t,r),r}(f,t);p[h]||(p[h]=!0,d.insertRule(`@keyframes ${h} ${c}`,d.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${h} ${n}ms linear ${i}ms 1 both`,J+=1,h}function X(t,e){const r=(t.style.animation||"").split(", "),n=r.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=r.length-n.length;i&&(t.style.animation=n.join(", "),J-=i,J||A((()=>{J||(H.forEach((t=>{const{stylesheet:e}=t;let r=e.cssRules.length;for(;r--;)e.deleteRule(r);t.rules={}})),H.clear())})))}function Z(t){W=t}function Y(){if(!W)throw new Error("Function called outside component initialization");return W}function Q(t){Y().$$.on_mount.push(t)}function tt(){const t=Y();return(e,r)=>{const n=t.$$.callbacks[e];if(n){const i=G(e,r);n.slice().forEach((e=>{e.call(t,i)}))}}}function et(t,e){const r=t.$$.callbacks[e.type];r&&r.slice().forEach((t=>t.call(this,e)))}const rt=[],nt=[],it=[],ot=[],st=Promise.resolve();let at=!1;function ut(){at||(at=!0,st.then(pt))}function lt(t){it.push(t)}function ct(t){ot.push(t)}const ht=new Set;let ft,dt=0;function pt(){const t=W;do{for(;dt<rt.length;){const t=rt[dt];dt++,Z(t),mt(t.$$)}for(Z(null),rt.length=0,dt=0;nt.length;)nt.pop()();for(let t=0;t<it.length;t+=1){const e=it[t];ht.has(e)||(ht.add(e),e())}it.length=0}while(rt.length);for(;ot.length;)ot.pop()();at=!1,ht.clear(),Z(t)}function mt(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(lt)}}function gt(){return ft||(ft=Promise.resolve(),ft.then((()=>{ft=null}))),ft}function yt(t,e,r){t.dispatchEvent(G(`${e?"intro":"outro"}${r}`))}const vt=new Set;let bt;function wt(){bt={r:0,c:[],p:bt}}function Et(){bt.r||o(bt.c),bt=bt.p}function _t(t,e){t&&t.i&&(vt.delete(t),t.i(e))}function At(t,e,r,n){if(t&&t.o){if(vt.has(t))return;vt.add(t),bt.c.push((()=>{vt.delete(t),n&&(r&&t.d(1),n())})),t.o(e)}}const xt={duration:0};function kt(t,e){const r={},n={},i={$$scope:1};let o=t.length;for(;o--;){const s=t[o],a=e[o];if(a){for(const t in s)t in a||(n[t]=1);for(const t in a)i[t]||(r[t]=a[t],i[t]=1);t[o]=a}else for(const t in s)i[t]=1}for(const t in n)t in r||(r[t]=void 0);return r}function Nt(t){return"object"==typeof t&&null!==t?t:{}}function Mt(t,e,r){const n=t.$$.props[e];void 0!==n&&(t.$$.bound[n]=r,r(t.$$.ctx[n]))}function St(t){t&&t.c()}function Pt(t,e,r,i){const{fragment:a,on_mount:u,on_destroy:l,after_update:c}=t.$$;a&&a.m(e,r),i||lt((()=>{const e=u.map(n).filter(s);l?l.push(...e):o(e),t.$$.on_mount=[]})),c.forEach(lt)}function Tt(t,e){const r=t.$$;null!==r.fragment&&(o(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function $t(e,r,n,s,a,u,l,c=[-1]){const h=W;Z(e);const f=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(h?h.$$.context:[])),callbacks:i(),dirty:c,skip_bound:!1,root:r.target||h.$$.root};l&&l(f.root);let d=!1;if(f.ctx=n?n(e,r.props||{},((t,r,...n)=>{const i=n.length?n[0]:r;return f.ctx&&a(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),d&&function(t,e){-1===t.$$.dirty[0]&&(rt.push(t),ut(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),r})):[],f.update(),d=!0,o(f.before_update),f.fragment=!!s&&s(f.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);f.fragment&&f.fragment.l(t),t.forEach($)}else f.fragment&&f.fragment.c();r.intro&&_t(e.$$.fragment),Pt(e,r.target,r.anchor,r.customElement),pt()}Z(h)}class Rt{$destroy(){Tt(this,1),this.$destroy=t}$on(t,e){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(e),()=>{const t=r.indexOf(e);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const It=[];function Ot(t,e){return{subscribe:Bt(t,e).subscribe}}function Bt(e,r=t){let n;const i=new Set;function o(t){if(a(e,t)&&(e=t,n)){const t=!It.length;for(const t of i)t[1](),It.push(t,e);if(t){for(let t=0;t<It.length;t+=2)It[t][0](It[t+1]);It.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(s,a=t){const u=[s,a];return i.add(u),1===i.size&&(n=r(o)||t),s(e),()=>{i.delete(u),0===i.size&&(n(),n=null)}}}}function Ct(e,r,n){const i=!Array.isArray(e),a=i?[e]:e,u=r.length<2;return Ot(n,(e=>{let n=!1;const l=[];let h=0,f=t;const d=()=>{if(h)return;f();const n=r(i?l[0]:l,e);u?e(n):f=s(n)?n:t},p=a.map(((t,e)=>c(t,(t=>{l[e]=t,h&=~(1<<e),n&&d()}),(()=>{h|=1<<e}))));return n=!0,d(),function(){o(p),f()}}))}function Ft(t){let e,n,i;const o=[t[2]];var s=t[0];function a(t){let e={};for(let t=0;t<o.length;t+=1)e=r(e,o[t]);return{props:e}}return s&&(e=new s(a()),e.$on("routeEvent",t[7])),{c(){e&&St(e.$$.fragment),n=C()},m(t,r){e&&Pt(e,t,r),T(t,n,r),i=!0},p(t,r){const i=4&r?kt(o,[Nt(t[2])]):{};if(s!==(s=t[0])){if(e){wt();const t=e;At(t.$$.fragment,1,0,(()=>{Tt(t,1)})),Et()}s?(e=new s(a()),e.$on("routeEvent",t[7]),St(e.$$.fragment),_t(e.$$.fragment,1),Pt(e,n.parentNode,n)):e=null}else s&&e.$set(i)},i(t){i||(e&&_t(e.$$.fragment,t),i=!0)},o(t){e&&At(e.$$.fragment,t),i=!1},d(t){t&&$(n),e&&Tt(e,t)}}}function Lt(t){let e,n,i;const o=[{params:t[1]},t[2]];var s=t[0];function a(t){let e={};for(let t=0;t<o.length;t+=1)e=r(e,o[t]);return{props:e}}return s&&(e=new s(a()),e.$on("routeEvent",t[6])),{c(){e&&St(e.$$.fragment),n=C()},m(t,r){e&&Pt(e,t,r),T(t,n,r),i=!0},p(t,r){const i=6&r?kt(o,[2&r&&{params:t[1]},4&r&&Nt(t[2])]):{};if(s!==(s=t[0])){if(e){wt();const t=e;At(t.$$.fragment,1,0,(()=>{Tt(t,1)})),Et()}s?(e=new s(a()),e.$on("routeEvent",t[6]),St(e.$$.fragment),_t(e.$$.fragment,1),Pt(e,n.parentNode,n)):e=null}else s&&e.$set(i)},i(t){i||(e&&_t(e.$$.fragment,t),i=!0)},o(t){e&&At(e.$$.fragment,t),i=!1},d(t){t&&$(n),e&&Tt(e,t)}}}function Ut(t){let e,r,n,i;const o=[Lt,Ft],s=[];function a(t,e){return t[1]?0:1}return e=a(t),r=s[e]=o[e](t),{c(){r.c(),n=C()},m(t,r){s[e].m(t,r),T(t,n,r),i=!0},p(t,[i]){let u=e;e=a(t),e===u?s[e].p(t,i):(wt(),At(s[u],1,1,(()=>{s[u]=null})),Et(),r=s[e],r?r.p(t,i):(r=s[e]=o[e](t),r.c()),_t(r,1),r.m(n.parentNode,n))},i(t){i||(_t(r),i=!0)},o(t){At(r),i=!1},d(t){s[e].d(t),t&&$(n)}}}function jt(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const r=e.indexOf("?");let n="";return r>-1&&(n=e.substr(r+1),e=e.substr(0,r)),{location:e,querystring:n}}const Dt=Ot(null,(function(t){t(jt());const e=()=>{t(jt())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));Ct(Dt,(t=>t.location)),Ct(Dt,(t=>t.querystring));const zt=Bt(void 0);function qt(t,e,r){let{routes:n={}}=e,{prefix:i=""}=e,{restoreScrollState:o=!1}=e;class s{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:r,keys:n}=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,i,o,s=[],a="",u=t.split("/");for(u[0]||u.shift();i=u.shift();)"*"===(r=i[0])?(s.push("wild"),a+="/(.*)"):":"===r?(n=i.indexOf("?",1),o=i.indexOf(".",1),s.push(i.substring(1,~n?n:~o?o:i.length)),a+=~n&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~n?"?":"")+"\\"+i.substring(o))):a+="/"+i;return{keys:s,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.component,this.conditions=e.conditions||[],this.userData=e.userData,this.props=e.props||{}):(this.component=()=>Promise.resolve(e),this.conditions=[],this.props={}),this._pattern=r,this._keys=n}match(t){if(i)if("string"==typeof i){if(!t.startsWith(i))return null;t=t.substr(i.length)||"/"}else if(i instanceof RegExp){const e=t.match(i);if(!e||!e[0])return null;t=t.substr(e[0].length)||"/"}const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const r={};let n=0;for(;n<this._keys.length;){try{r[this._keys[n]]=decodeURIComponent(e[n+1]||"")||null}catch(t){r[this._keys[n]]=null}n++}return r}async checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!await this.conditions[e](t))return!1;return!0}}const a=[];n instanceof Map?n.forEach(((t,e)=>{a.push(new s(e,t))})):Object.keys(n).forEach((t=>{a.push(new s(t,n[t]))}));let u=null,l=null,c={};const h=tt();async function f(t,e){await(ut(),st),h(t,e)}let d=null,p=null;var m;o&&(p=t=>{d=t.state&&t.state.__svelte_spa_router_scrollY?t.state:null},window.addEventListener("popstate",p),m=()=>{d?window.scrollTo(d.__svelte_spa_router_scrollX,d.__svelte_spa_router_scrollY):window.scrollTo(0,0)},Y().$$.after_update.push(m));let g=null,y=null;const v=Dt.subscribe((async t=>{g=t;let e=0;for(;e<a.length;){const n=a[e].match(t.location);if(!n){e++;continue}const i={route:a[e].path,location:t.location,querystring:t.querystring,userData:a[e].userData,params:n&&"object"==typeof n&&Object.keys(n).length?n:null};if(!await a[e].checkConditions(i))return r(0,u=null),y=null,void f("conditionsFailed",i);f("routeLoading",Object.assign({},i));const o=a[e].component;if(y!=o){o.loading?(r(0,u=o.loading),y=o,r(1,l=o.loadingParams),r(2,c={}),f("routeLoaded",Object.assign({},i,{component:u,name:u.name,params:l}))):(r(0,u=null),y=null);const e=await o();if(t!=g)return;r(0,u=e&&e.default||e),y=o}return n&&"object"==typeof n&&Object.keys(n).length?r(1,l=n):r(1,l=null),r(2,c=a[e].props),void f("routeLoaded",Object.assign({},i,{component:u,name:u.name,params:l})).then((()=>{zt.set(l)}))}r(0,u=null),y=null,zt.set(void 0)}));return function(t){Y().$$.on_destroy.push(t)}((()=>{v(),p&&window.removeEventListener("popstate",p)})),t.$$set=t=>{"routes"in t&&r(3,n=t.routes),"prefix"in t&&r(4,i=t.prefix),"restoreScrollState"in t&&r(5,o=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=o?"manual":"auto")},[u,l,c,n,i,o,function(e){et.call(this,t,e)},function(e){et.call(this,t,e)}]}class Gt extends Rt{constructor(t){super(),$t(this,t,qt,Ut,a,{routes:3,prefix:4,restoreScrollState:5})}}function Vt(e){let r;return{c(){r=O("home")},m(t,e){T(t,r,e)},p:t,i:t,o:t,d(t){t&&$(r)}}}const Ht={size:(t,e)=>`${t}-${e}`,block:(t,e)=>`${t}-block`,type:(t,e)=>`${t}-${e}`,outline:(t,e)=>`${t}-${e}-outline`};function Wt(t,e){return Object.entries(e).filter((([t,e])=>e)).map((([e,r])=>Ht[e](t,r))).join(" ")}function Jt({props:t,classes:e,toOmit:r=[]}){return{...(n=t,i=r,Object.fromEntries(Object.entries(n).filter((([t,e])=>!i.includes(t))))),class:e};var n,i}function Kt(t){let e,n,i,o;const s=t[13].default,a=f(s,t,t[12],null);let u=[t[5],{type:t[1]},{disabled:t[0]}],l={};for(let t=0;t<u.length;t+=1)l=r(l,u[t]);return{c(){e=I("button"),a&&a.c(),U(e,l),q(e,"disabled",t[0])},m(r,s){T(r,e,s),a&&a.m(e,null),e.autofocus&&e.focus(),n=!0,i||(o=F(e,"click",t[15]),i=!0)},p(t,r){a&&a.p&&(!n||4096&r)&&m(a,s,t,t[12],n?p(s,t[12],r,null):g(t[12]),null),U(e,l=kt(u,[32&r&&t[5],(!n||2&r)&&{type:t[1]},(!n||1&r)&&{disabled:t[0]}])),q(e,"disabled",t[0])},i(t){n||(_t(a,t),n=!0)},o(t){At(a,t),n=!1},d(t){t&&$(e),a&&a.d(t),i=!1,o()}}}function Xt(t){let e,n,i,o,s,a;const u=t[13].default,l=f(u,t,t[12],null);let c=[t[5],{role:"button"},{href:n=t[3]??"javascript:void(0);"},{target:i=t[4]?"_blank":"_self"}],h={};for(let t=0;t<c.length;t+=1)h=r(h,c[t]);return{c(){e=I("a"),l&&l.c(),U(e,h),q(e,"disabled",t[0])},m(r,n){T(r,e,n),l&&l.m(e,null),o=!0,s||(a=F(e,"click",t[14]),s=!0)},p(t,r){l&&l.p&&(!o||4096&r)&&m(l,u,t,t[12],o?p(u,t[12],r,null):g(t[12]),null),U(e,h=kt(c,[32&r&&t[5],{role:"button"},(!o||8&r&&n!==(n=t[3]??"javascript:void(0);"))&&{href:n},(!o||16&r&&i!==(i=t[4]?"_blank":"_self"))&&{target:i}])),q(e,"disabled",t[0])},i(t){o||(_t(l,t),o=!0)},o(t){At(l,t),o=!1},d(t){t&&$(e),l&&l.d(t),s=!1,a()}}}function Zt(t){let e,r,n,i;const o=[Xt,Kt],s=[];function a(t,e){return t[2]||t[3]?0:1}return e=a(t),r=s[e]=o[e](t),{c(){r.c(),n=C()},m(t,r){s[e].m(t,r),T(t,n,r),i=!0},p(t,[i]){let u=e;e=a(t),e===u?s[e].p(t,i):(wt(),At(s[u],1,1,(()=>{s[u]=null})),Et(),r=s[e],r?r.p(t,i):(r=s[e]=o[e](t),r.c()),_t(r,1),r.m(n.parentNode,n))},i(t){i||(_t(r),i=!0)},o(t){At(r),i=!1},d(t){s[e].d(t),t&&$(n)}}}function Yt(t,e,n){const i=["type","size","block","disabled","outline","nativeType","isLink","href","external"];let o=v(e,i),{$$slots:s={},$$scope:a}=e;var u;let l,c,{type:h=null}=e,{size:f="default"}=e,{block:d=!1}=e,{disabled:p=!1}=e,{outline:m=null}=e,{nativeType:g=null}=e,{isLink:b=!1}=e,{href:w=null}=e,{external:E=!1}=e;return t.$$set=t=>{e=r(r({},e),y(t)),n(16,o=v(e,i)),"type"in t&&n(6,h=t.type),"size"in t&&n(7,f=t.size),"block"in t&&n(8,d=t.block),"disabled"in t&&n(0,p=t.disabled),"outline"in t&&n(9,m=t.outline),"nativeType"in t&&n(1,g=t.nativeType),"isLink"in t&&n(2,b=t.isLink),"href"in t&&n(3,w=t.href),"external"in t&&n(4,E=t.external),"$$scope"in t&&n(12,a=t.$$scope)},t.$$.update=()=>{n(11,c=`paper-btn ${null!==n(10,u=o.class)&&void 0!==u?u:""} ${Wt("btn",{size:f,block:d,type:h,outline:m})}`),n(5,l=Jt({props:o,classes:c}))},[p,g,b,w,E,l,h,f,d,m,u,c,a,s,function(e){et.call(this,t,e)},function(e){et.call(this,t,e)}]}class Qt extends Rt{constructor(t){super(),$t(this,t,Yt,Zt,a,{type:6,size:7,block:8,disabled:0,outline:9,nativeType:1,isLink:2,href:3,external:4})}}function te(e){let n,i,o,s,a,u=[e[1],{class:o=(e[1].class??"")+" btn-close"},{"aria-label":e[0]}],l={};for(let t=0;t<u.length;t+=1)l=r(l,u[t]);return{c(){n=I("button"),i=O("X"),U(n,l),q(n,"svelte-9vtsch",!0)},m(t,r){T(t,n,r),M(n,i),n.autofocus&&n.focus(),s||(a=F(n,"click",e[2]),s=!0)},p(t,[e]){U(n,l=kt(u,[2&e&&t[1],2&e&&o!==(o=(t[1].class??"")+" btn-close")&&{class:o},1&e&&{"aria-label":t[0]}])),q(n,"svelte-9vtsch",!0)},i:t,o:t,d(t){t&&$(n),s=!1,a()}}}function ee(t,e,n){const i=["ariaLabel"];let o=v(e,i),{ariaLabel:s="close"}=e;return t.$$set=t=>{e=r(r({},e),y(t)),n(1,o=v(e,i)),"ariaLabel"in t&&n(0,s=t.ariaLabel)},[s,o,function(e){et.call(this,t,e)}]}class re extends Rt{constructor(t){super(),$t(this,t,ee,te,a,{ariaLabel:0})}}function ne(t){let e,n,i;const o=t[4].default,s=f(o,t,t[3],null);let a=[t[2],{class:n=(t[2].class??"")+" badge "+t[0]}],u={};for(let t=0;t<a.length;t+=1)u=r(u,a[t]);return{c(){e=I("span"),s&&s.c(),U(e,u),q(e,"rounded",t[1]),q(e,"svelte-lxlbcz",!0)},m(t,r){T(t,e,r),s&&s.m(e,null),i=!0},p(t,[r]){s&&s.p&&(!i||8&r)&&m(s,o,t,t[3],i?p(o,t[3],r,null):g(t[3]),null),U(e,u=kt(a,[4&r&&t[2],(!i||5&r&&n!==(n=(t[2].class??"")+" badge "+t[0]))&&{class:n}])),q(e,"rounded",t[1]),q(e,"svelte-lxlbcz",!0)},i(t){i||(_t(s,t),i=!0)},o(t){At(s,t),i=!1},d(t){t&&$(e),s&&s.d(t)}}}function ie(t,e,n){const i=["type","rounded"];let o=v(e,i),{$$slots:s={},$$scope:a}=e,{type:u="primary"}=e,{rounded:l=!1}=e;return t.$$set=t=>{e=r(r({},e),y(t)),n(2,o=v(e,i)),"type"in t&&n(0,u=t.type),"rounded"in t&&n(1,l=t.rounded),"$$scope"in t&&n(3,a=t.$$scope)},[u,l,o,a,s]}class oe extends Rt{constructor(t){super(),$t(this,t,ie,ne,a,{type:0,rounded:1})}}const se=t=>({}),ae=t=>({});function ue(t){let e,r;const n=t[8].brand,i=f(n,t,t[7],ae);return{c(){e=I("div"),i&&i.c(),L(e,"class","nav-brand")},m(t,n){T(t,e,n),i&&i.m(e,null),r=!0},p(t,e){i&&i.p&&(!r||128&e)&&m(i,n,t,t[7],r?p(n,t[7],e,se):g(t[7]),ae)},i(t){r||(_t(i,t),r=!0)},o(t){At(i,t),r=!1},d(t){t&&$(e),i&&i.d(t)}}}function le(t){let e,n,i,o,s,a,u,l,c,h,d=t[6].brand&&ue(t);const y=t[8].default,v=f(y,t,t[7],null);let b=[t[5],{class:u=`${t[5].class??""} paper-navbar`}],w={};for(let t=0;t<b.length;t+=1)w=r(w,b[t]);return{c(){e=I("nav"),d&&d.c(),n=B(),i=I("div"),o=I("button"),o.textContent="☰",s=B(),a=I("div"),v&&v.c(),L(o,"class","svelte-12pm6a"),L(a,"class","collapsible-body svelte-12pm6a"),q(a,"open",t[3]),L(i,"class","collapsible svelte-12pm6a"),U(e,w),q(e,"border",t[0]),q(e,"fixed",t[1]),q(e,"split-nav",t[2]),q(e,"svelte-12pm6a",!0)},m(r,u){T(r,e,u),d&&d.m(e,null),M(e,n),M(e,i),M(i,o),M(i,s),M(i,a),v&&v.m(a,null),l=!0,c||(h=F(o,"click",t[4]),c=!0)},p(t,[r]){t[6].brand?d?(d.p(t,r),64&r&&_t(d,1)):(d=ue(t),d.c(),_t(d,1),d.m(e,n)):d&&(wt(),At(d,1,1,(()=>{d=null})),Et()),v&&v.p&&(!l||128&r)&&m(v,y,t,t[7],l?p(y,t[7],r,null):g(t[7]),null),8&r&&q(a,"open",t[3]),U(e,w=kt(b,[32&r&&t[5],(!l||32&r&&u!==(u=`${t[5].class??""} paper-navbar`))&&{class:u}])),q(e,"border",t[0]),q(e,"fixed",t[1]),q(e,"split-nav",t[2]),q(e,"svelte-12pm6a",!0)},i(t){l||(_t(d),_t(v,t),l=!0)},o(t){At(d),At(v,t),l=!1},d(t){t&&$(e),d&&d.d(),v&&v.d(t),c=!1,h()}}}function ce(t,e,n){const i=["border","fixed","split"];let o=v(e,i),{$$slots:s={},$$scope:a}=e;const u=b(s);let{border:l=!0}=e,{fixed:c=!1}=e,{split:h=!0}=e,f=!1;return t.$$set=t=>{e=r(r({},e),y(t)),n(5,o=v(e,i)),"border"in t&&n(0,l=t.border),"fixed"in t&&n(1,c=t.fixed),"split"in t&&n(2,h=t.split),"$$scope"in t&&n(7,a=t.$$scope)},[l,c,h,f,function(){n(3,f=!f)},o,u,a,s]}class he extends Rt{constructor(t){super(),$t(this,t,ce,le,a,{border:0,fixed:1,split:2})}}const fe=t=>({}),de=t=>({});function pe(t){let e,r;return{c(){e=I("h4"),r=O(t[1]),L(e,"class","modal-title")},m(t,n){T(t,e,n),M(e,r)},p(t,e){2&e&&j(r,t[1])},d(t){t&&$(e)}}}function me(t){let e,r;return{c(){e=I("h5"),r=O(t[2]),L(e,"class","modal-subtitle")},m(t,n){T(t,e,n),M(e,r)},p(t,e){4&e&&j(r,t[2])},d(t){t&&$(e)}}}function ge(t){let e;const r=t[8].footer,n=f(r,t,t[9],de);return{c(){n&&n.c()},m(t,r){n&&n.m(t,r),e=!0},p(t,i){n&&n.p&&(!e||512&i)&&m(n,r,t,t[9],e?p(r,t[9],i,fe):g(t[9]),de)},i(t){e||(_t(n,t),e=!0)},o(t){At(n,t),e=!1},d(t){n&&n.d(t)}}}function ye(t){let e;return{c(){e=O(t[3])},m(t,r){T(t,e,r)},p(t,r){8&r&&j(e,t[3])},d(t){t&&$(e)}}}function ve(t){let e,n,i,o,s,a,u,l,c,h,d,y,v,b,w;i=new re({}),i.$on("click",t[4]);let E=t[1]&&pe(t),_=t[2]&&me(t);const A=t[8].default,x=f(A,t,t[9],null);let k=t[7].footer&&ge(t);d=new Qt({props:{$$slots:{default:[ye]},$$scope:{ctx:t}}}),d.$on("click",t[4]);let N=[t[6],{class:y=(t[6].class??"")+" modal"}],S={};for(let t=0;t<N.length;t+=1)S=r(S,N[t]);return{c(){e=I("div"),n=I("div"),St(i.$$.fragment),o=B(),E&&E.c(),s=B(),_&&_.c(),a=B(),u=I("p"),x&&x.c(),l=B(),c=I("footer"),k&&k.c(),h=B(),St(d.$$.fragment),L(u,"class","modal-text"),L(n,"class","modal-body svelte-1fqj53"),U(e,S),q(e,"active",t[0]),q(e,"svelte-1fqj53",!0)},m(r,f){T(r,e,f),M(e,n),Pt(i,n,null),M(n,o),E&&E.m(n,null),M(n,s),_&&_.m(n,null),M(n,a),M(n,u),x&&x.m(u,null),M(n,l),M(n,c),k&&k.m(c,null),M(c,h),Pt(d,c,null),v=!0,b||(w=F(window,"keydown",t[5]),b=!0)},p(t,[r]){t[1]?E?E.p(t,r):(E=pe(t),E.c(),E.m(n,s)):E&&(E.d(1),E=null),t[2]?_?_.p(t,r):(_=me(t),_.c(),_.m(n,a)):_&&(_.d(1),_=null),x&&x.p&&(!v||512&r)&&m(x,A,t,t[9],v?p(A,t[9],r,null):g(t[9]),null),t[7].footer?k?(k.p(t,r),128&r&&_t(k,1)):(k=ge(t),k.c(),_t(k,1),k.m(c,h)):k&&(wt(),At(k,1,1,(()=>{k=null})),Et());const i={};520&r&&(i.$$scope={dirty:r,ctx:t}),d.$set(i),U(e,S=kt(N,[64&r&&t[6],(!v||64&r&&y!==(y=(t[6].class??"")+" modal"))&&{class:y}])),q(e,"active",t[0]),q(e,"svelte-1fqj53",!0)},i(t){v||(_t(i.$$.fragment,t),_t(x,t),_t(k),_t(d.$$.fragment,t),v=!0)},o(t){At(i.$$.fragment,t),At(x,t),At(k),At(d.$$.fragment,t),v=!1},d(t){t&&$(e),Tt(i),E&&E.d(),_&&_.d(),x&&x.d(t),k&&k.d(),Tt(d),b=!1,w()}}}function be(t,e,n){const i=["active","title","subTitle","closeBtnText"];let o=v(e,i),{$$slots:s={},$$scope:a}=e;const u=b(s);let{active:l=!1}=e,{title:c=""}=e,{subTitle:h=""}=e,{closeBtnText:f="Close"}=e;const d=tt();function p(){n(0,l=!1)}return t.$$set=t=>{e=r(r({},e),y(t)),n(6,o=v(e,i)),"active"in t&&n(0,l=t.active),"title"in t&&n(1,c=t.title),"subTitle"in t&&n(2,h=t.subTitle),"closeBtnText"in t&&n(3,f=t.closeBtnText),"$$scope"in t&&n(9,a=t.$$scope)},t.$$.update=()=>{1&t.$$.dirty&&!1===l&&d("close")},[l,c,h,f,p,function({key:t}){"Escape"===t&&p()},o,u,s,a]}class we extends Rt{constructor(t){super(),$t(this,t,be,ve,a,{active:0,title:1,subTitle:2,closeBtnText:3})}}function Ee(t){let e,n,i,s=[t[6]],a={};for(let t=0;t<s.length;t+=1)a=r(a,s[t]);return{c(){e=I("input"),U(e,a),q(e,"border-danger",!t[5]&&t[0]),q(e,"border-success",t[5]&&t[0]&&t[3])},m(r,o){T(r,e,o),e.autofocus&&e.focus(),D(e,t[0]),n||(i=[F(e,"input",t[22]),F(e,"input",t[7]),F(e,"focus",t[17]),F(e,"blur",t[18]),F(e,"change",t[19])],n=!0)},p(t,r){U(e,a=kt(s,[64&r&&t[6]])),1&r&&e.value!==t[0]&&D(e,t[0]),q(e,"border-danger",!t[5]&&t[0]),q(e,"border-success",t[5]&&t[0]&&t[3])},d(t){t&&$(e),n=!1,o(i)}}}function _e(t){let e,n,i,s,a,u,l=[t[6]],c={};for(let t=0;t<l.length;t+=1)c=r(c,l[t]);return{c(){e=I("label"),n=O(t[1]),i=B(),s=I("input"),U(s,c),q(s,"border-danger",!t[5]&&t[0]),q(s,"border-success",t[5]&&t[0]&&t[3]),L(e,"class","svelte-1g63nco")},m(r,o){T(r,e,o),M(e,n),M(e,i),M(e,s),s.autofocus&&s.focus(),D(s,t[0]),a||(u=[F(s,"input",t[21]),F(s,"input",t[7]),F(s,"focus",t[14]),F(s,"blur",t[15]),F(s,"change",t[16])],a=!0)},p(t,e){2&e&&j(n,t[1]),U(s,c=kt(l,[64&e&&t[6]])),1&e&&s.value!==t[0]&&D(s,t[0]),q(s,"border-danger",!t[5]&&t[0]),q(s,"border-success",t[5]&&t[0]&&t[3])},d(t){t&&$(e),a=!1,o(u)}}}function Ae(t){let e,n,i,s=[t[6]],a={};for(let t=0;t<s.length;t+=1)a=r(a,s[t]);return{c(){e=I("textarea"),U(e,a),q(e,"no-resize",t[4])},m(r,o){T(r,e,o),e.autofocus&&e.focus(),D(e,t[0]),n||(i=[F(e,"input",t[20]),F(e,"input",t[7]),F(e,"focus",t[11]),F(e,"blur",t[12]),F(e,"change",t[13])],n=!0)},p(t,r){U(e,a=kt(s,[64&r&&t[6]])),1&r&&D(e,t[0]),q(e,"no-resize",t[4])},d(t){t&&$(e),n=!1,o(i)}}}function xe(e){let r;function n(t,e){return"textarea"===t[2]?Ae:t[1]?_e:Ee}let i=n(e),o=i(e);return{c(){o.c(),r=C()},m(t,e){o.m(t,e),T(t,r,e)},p(t,[e]){i===(i=n(t))&&o?o.p(t,e):(o.d(1),o=i(t),o&&(o.c(),o.m(r.parentNode,r)))},i:t,o:t,d(t){o.d(t),t&&$(r)}}}function ke(t,e,n){const i=["label","value","block","type","valid","noResize"];let o=v(e,i);var s;let{label:a=""}=e,{value:u=""}=e,{block:l=!1}=e,{type:c="text"}=e,{valid:h=null}=e,{noResize:f=!1}=e;const d=tt();let p,m,g=!0;return t.$$set=t=>{n(25,e=r(r({},e),y(t))),n(24,o=v(e,i)),"label"in t&&n(1,a=t.label),"value"in t&&n(0,u=t.value),"block"in t&&n(8,l=t.block),"type"in t&&n(2,c=t.type),"valid"in t&&n(3,h=t.valid),"noResize"in t&&n(4,f=t.noResize)},t.$$.update=()=>{9&t.$$.dirty&&h&&n(5,g=h(u)),n(10,m=`${null!==n(9,s=o.class)&&void 0!==s?s:""} ${Wt("input",{block:l})}`),n(6,p=Jt({props:e,classes:m,toOmit:["block","value","valid","noResize"]}))},e=y(e),[u,a,c,h,f,g,p,function({target:t}){d("input",t.value)},l,s,m,function(e){et.call(this,t,e)},function(e){et.call(this,t,e)},function(e){et.call(this,t,e)},function(e){et.call(this,t,e)},function(e){et.call(this,t,e)},function(e){et.call(this,t,e)},function(e){et.call(this,t,e)},function(e){et.call(this,t,e)},function(e){et.call(this,t,e)},function(){u=this.value,n(0,u)},function(){u=this.value,n(0,u)},function(){u=this.value,n(0,u)}]}we.open=function(t){const e=new we({target:document.body,props:{active:!0,...t},intro:!0});return e.close=e.$destroy,e};class Ne extends Rt{constructor(t){super(),$t(this,t,ke,xe,a,{label:1,value:0,block:8,type:2,valid:3,noResize:4})}}const Me=t=>({}),Se=t=>({});function Pe(e){let r;return{c(){r=O(e[1])},m(t,e){T(t,r,e)},p(t,e){2&e&&j(r,t[1])},i:t,o:t,d(t){t&&$(r)}}}function Te(t){let e;const r=t[16].default,n=f(r,t,t[15],null);return{c(){n&&n.c()},m(t,r){n&&n.m(t,r),e=!0},p(t,i){n&&n.p&&(!e||32768&i)&&m(n,r,t,t[15],e?p(r,t[15],i,null):g(t[15]),null)},i(t){e||(_t(n,t),e=!0)},o(t){At(n,t),e=!1},d(t){n&&n.d(t)}}}function $e(t){let e,r,n,i;const o=[Ie,Re],s=[];function a(t,e){return t[13].output?0:1}return r=a(t),n=s[r]=o[r](t),{c(){e=I("output"),n.c()},m(t,n){T(t,e,n),s[r].m(e,null),i=!0},p(t,i){let u=r;r=a(t),r===u?s[r].p(t,i):(wt(),At(s[u],1,1,(()=>{s[u]=null})),Et(),n=s[r],n?n.p(t,i):(n=s[r]=o[r](t),n.c()),_t(n,1),n.m(e,null))},i(t){i||(_t(n),i=!0)},o(t){At(n),i=!1},d(t){t&&$(e),s[r].d()}}}function Re(e){let r,n,i,o=e[7]&&Oe();return{c(){r=O(e[9]),n=B(),o&&o.c(),i=C()},m(t,e){T(t,r,e),T(t,n,e),o&&o.m(t,e),T(t,i,e)},p(t,e){512&e&&j(r,t[9]),t[7]?o||(o=Oe(),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},i:t,o:t,d(t){t&&$(r),t&&$(n),o&&o.d(t),t&&$(i)}}}function Ie(t){let e;const r=t[16].output,n=f(r,t,t[15],Se);return{c(){n&&n.c()},m(t,r){n&&n.m(t,r),e=!0},p(t,i){n&&n.p&&(!e||32768&i)&&m(n,r,t,t[15],e?p(r,t[15],i,Me):g(t[15]),Se)},i(t){e||(_t(n,t),e=!0)},o(t){At(n,t),e=!1},d(t){n&&n.d(t)}}}function Oe(t){let e;return{c(){e=O("%")},m(t,r){T(t,e,r)},d(t){t&&$(e)}}}function Be(t){let e,n,i,s,a,u,l,c,h,f;const d=[Te,Pe],p=[];function m(t,e){return t[13].default?0:1}n=m(t),i=p[n]=d[n](t);let g=!t[6]&&$e(t),y=[t[12]],v={};for(let t=0;t<y.length;t+=1)v=r(v,y[t]);return{c(){e=I("label"),i.c(),s=B(),a=I("input"),l=B(),g&&g.c(),L(a,"type","range"),L(a,"class",u=w(t[11])+" svelte-4joq90"),L(a,"min",t[2]),L(a,"max",t[3]),L(a,"step",t[4]),U(e,v),q(e,"block",t[5]),q(e,"disabled",t[8]),q(e,"svelte-4joq90",!0)},m(r,i){T(r,e,i),p[n].m(e,null),M(e,s),M(e,a),t[17](a),D(a,t[0]),M(e,l),g&&g.m(e,null),c=!0,h||(f=[F(a,"change",t[18]),F(a,"input",t[18])],h=!0)},p(t,[r]){let o=n;n=m(t),n===o?p[n].p(t,r):(wt(),At(p[o],1,1,(()=>{p[o]=null})),Et(),i=p[n],i?i.p(t,r):(i=p[n]=d[n](t),i.c()),_t(i,1),i.m(e,s)),(!c||2048&r&&u!==(u=w(t[11])+" svelte-4joq90"))&&L(a,"class",u),(!c||4&r)&&L(a,"min",t[2]),(!c||8&r)&&L(a,"max",t[3]),(!c||16&r)&&L(a,"step",t[4]),1&r&&D(a,t[0]),t[6]?g&&(wt(),At(g,1,1,(()=>{g=null})),Et()):g?(g.p(t,r),64&r&&_t(g,1)):(g=$e(t),g.c(),_t(g,1),g.m(e,null)),U(e,v=kt(y,[4096&r&&t[12]])),q(e,"block",t[5]),q(e,"disabled",t[8]),q(e,"svelte-4joq90",!0)},i(t){c||(_t(i),_t(g),c=!0)},o(t){At(i),At(g),c=!1},d(r){r&&$(e),p[n].d(),t[17](null),g&&g.d(),h=!1,o(f)}}}function Ce(t,e,n){const i=["label","min","max","step","block","hideValue","value","background","percentage","disabled"];let o=v(e,i),{$$slots:s={},$$scope:a}=e;const u=b(s);let l,c,h,{label:f=""}=e,{min:d=0}=e,{max:p=100}=e,{step:m=1}=e,{block:g=!1}=e,{hideValue:w=!1}=e,{value:E=null}=e,{background:_="secondary"}=e,{percentage:A=!1}=e,{disabled:x=!1}=e;return Q((()=>{n(9,c=l.value)})),t.$$set=t=>{e=r(r({},e),y(t)),n(12,o=v(e,i)),"label"in t&&n(1,f=t.label),"min"in t&&n(2,d=t.min),"max"in t&&n(3,p=t.max),"step"in t&&n(4,m=t.step),"block"in t&&n(5,g=t.block),"hideValue"in t&&n(6,w=t.hideValue),"value"in t&&n(0,E=t.value),"background"in t&&n(14,_=t.background),"percentage"in t&&n(7,A=t.percentage),"disabled"in t&&n(8,x=t.disabled),"$$scope"in t&&n(15,a=t.$$scope)},t.$$.update=()=>{16416&t.$$.dirty&&n(11,h=`range-${_} ${Wt("input",{block:g})}`),1&t.$$.dirty&&null!==E&&n(9,c=String(E)),648&t.$$.dirty&&A&&n(9,c=String(Math.round(Number(c)/Number(p)*100)))},[E,f,d,p,m,g,w,A,x,c,l,h,o,u,_,a,s,function(t){nt[t?"unshift":"push"]((()=>{l=t,n(10,l)}))},function(){E=function(t){return""===t?null:+t}(this.value),n(0,E)}]}class Fe extends Rt{constructor(t){super(),$t(this,t,Ce,Be,a,{label:1,min:2,max:3,step:4,block:5,hideValue:6,value:0,background:14,percentage:7,disabled:8})}}function Le(t){let e,n,i;const o=t[2].default,s=f(o,t,t[1],null);let a=[t[0],{class:n=(t[0].class??"")+" form-group"}],u={};for(let t=0;t<a.length;t+=1)u=r(u,a[t]);return{c(){e=I("form"),s&&s.c(),U(e,u)},m(t,r){T(t,e,r),s&&s.m(e,null),i=!0},p(t,[r]){s&&s.p&&(!i||2&r)&&m(s,o,t,t[1],i?p(o,t[1],r,null):g(t[1]),null),U(e,u=kt(a,[1&r&&t[0],(!i||1&r&&n!==(n=(t[0].class??"")+" form-group"))&&{class:n}]))},i(t){i||(_t(s,t),i=!0)},o(t){At(s,t),i=!1},d(t){t&&$(e),s&&s.d(t)}}}function Ue(t,e,n){const i=[];let o=v(e,i),{$$slots:s={},$$scope:a}=e;return t.$$set=t=>{e=r(r({},e),y(t)),n(0,o=v(e,i)),"$$scope"in t&&n(1,a=t.$$scope)},[o,a,s]}class je extends Rt{constructor(t){super(),$t(this,t,Ue,Le,a,{})}}const De=t=>({}),ze=t=>({}),qe=t=>({}),Ge=t=>({}),Ve=t=>({}),He=t=>({}),We=t=>({}),Je=t=>({}),Ke=t=>({}),Xe=t=>({});function Ze(t){let e,r,n,i;const o=[Qe,Ye],s=[];function a(t,e){return t[9].header?0:1}return r=a(t),n=s[r]=o[r](t),{c(){e=I("header"),n.c(),L(e,"class","card-header")},m(t,n){T(t,e,n),s[r].m(e,null),i=!0},p(t,i){let u=r;r=a(t),r===u?s[r].p(t,i):(wt(),At(s[u],1,1,(()=>{s[u]=null})),Et(),n=s[r],n?n.p(t,i):(n=s[r]=o[r](t),n.c()),_t(n,1),n.m(e,null))},i(t){i||(_t(n),i=!0)},o(t){At(n),i=!1},d(t){t&&$(e),s[r].d()}}}function Ye(e){let r;return{c(){r=O(e[5])},m(t,e){T(t,r,e)},p(t,e){32&e&&j(r,t[5])},i:t,o:t,d(t){t&&$(r)}}}function Qe(t){let e;const r=t[11].header,n=f(r,t,t[10],Xe);return{c(){n&&n.c()},m(t,r){n&&n.m(t,r),e=!0},p(t,i){n&&n.p&&(!e||1024&i)&&m(n,r,t,t[10],e?p(r,t[10],i,Ke):g(t[10]),Xe)},i(t){e||(_t(n,t),e=!0)},o(t){At(n,t),e=!1},d(t){n&&n.d(t)}}}function tr(t){let e,r;return{c(){e=I("img"),l(e.src,r=t[2])||L(e,"src",r),L(e,"alt",t[3])},m(t,r){T(t,e,r)},p(t,n){4&n&&!l(e.src,r=t[2])&&L(e,"src",r),8&n&&L(e,"alt",t[3])},d(t){t&&$(e)}}}function er(e){let r;return{c(){r=O(e[0])},m(t,e){T(t,r,e)},p(t,e){1&e&&j(r,t[0])},i:t,o:t,d(t){t&&$(r)}}}function rr(t){let e;const r=t[11].title,n=f(r,t,t[10],Je);return{c(){n&&n.c()},m(t,r){n&&n.m(t,r),e=!0},p(t,i){n&&n.p&&(!e||1024&i)&&m(n,r,t,t[10],e?p(r,t[10],i,We):g(t[10]),Je)},i(t){e||(_t(n,t),e=!0)},o(t){At(n,t),e=!1},d(t){n&&n.d(t)}}}function nr(e){let r;return{c(){r=O(e[1])},m(t,e){T(t,r,e)},p(t,e){2&e&&j(r,t[1])},i:t,o:t,d(t){t&&$(r)}}}function ir(t){let e;const r=t[11].subTitle,n=f(r,t,t[10],He);return{c(){n&&n.c()},m(t,r){n&&n.m(t,r),e=!0},p(t,i){n&&n.p&&(!e||1024&i)&&m(n,r,t,t[10],e?p(r,t[10],i,Ve):g(t[10]),He)},i(t){e||(_t(n,t),e=!0)},o(t){At(n,t),e=!1},d(t){n&&n.d(t)}}}function or(t){let e;const r=t[11].bottom,n=f(r,t,t[10],Ge);return{c(){n&&n.c()},m(t,r){n&&n.m(t,r),e=!0},p(t,i){n&&n.p&&(!e||1024&i)&&m(n,r,t,t[10],e?p(r,t[10],i,qe):g(t[10]),Ge)},i(t){e||(_t(n,t),e=!0)},o(t){At(n,t),e=!1},d(t){n&&n.d(t)}}}function sr(t){let e,r;return{c(){e=I("img"),l(e.src,r=t[2])||L(e,"src",r),L(e,"class","image-bottom"),L(e,"alt",t[3])},m(t,r){T(t,e,r)},p(t,n){4&n&&!l(e.src,r=t[2])&&L(e,"src",r),8&n&&L(e,"alt",t[3])},d(t){t&&$(e)}}}function ar(t){let e,r,n,i;const o=[lr,ur],s=[];function a(t,e){return t[9].footer?0:1}return r=a(t),n=s[r]=o[r](t),{c(){e=I("footer"),n.c(),L(e,"class","card-footer")},m(t,n){T(t,e,n),s[r].m(e,null),i=!0},p(t,i){let u=r;r=a(t),r===u?s[r].p(t,i):(wt(),At(s[u],1,1,(()=>{s[u]=null})),Et(),n=s[r],n?n.p(t,i):(n=s[r]=o[r](t),n.c()),_t(n,1),n.m(e,null))},i(t){i||(_t(n),i=!0)},o(t){At(n),i=!1},d(t){t&&$(e),s[r].d()}}}function ur(e){let r;return{c(){r=O(e[6])},m(t,e){T(t,r,e)},p(t,e){64&e&&j(r,t[6])},i:t,o:t,d(t){t&&$(r)}}}function lr(t){let e;const r=t[11].footer,n=f(r,t,t[10],ze);return{c(){n&&n.c()},m(t,r){n&&n.m(t,r),e=!0},p(t,i){n&&n.p&&(!e||1024&i)&&m(n,r,t,t[10],e?p(r,t[10],i,De):g(t[10]),ze)},i(t){e||(_t(n,t),e=!0)},o(t){At(n,t),e=!1},d(t){n&&n.d(t)}}}function cr(t){let e,n,i,o,s,a,u,l,c,h,d,y,v,b,w,E,_,A,x,k=(t[5]||t[9].header)&&Ze(t),N=t[2]&&"top"===t[4]&&tr(t);const S=[rr,er],P=[];function R(t,e){return t[9].title?0:1}a=R(t),u=P[a]=S[a](t);const O=[ir,nr],C=[];function F(t,e){return t[9].subTitle?0:1}h=F(t),d=C[h]=O[h](t);const j=t[11].default,D=f(j,t,t[10],null);let z=t[9].bottom&&or(t),q=t[2]&&"bottom"===t[4]&&sr(t),G=(t[6]||t[9].footer)&&ar(t),V=[t[8],{class:_=(t[8].class??"")+" card"},{style:A=`width: ${t[7]}`}],H={};for(let t=0;t<V.length;t+=1)H=r(H,V[t]);return{c(){e=I("div"),k&&k.c(),n=B(),N&&N.c(),i=B(),o=I("div"),s=I("h4"),u.c(),l=B(),c=I("h5"),d.c(),y=B(),v=I("p"),D&&D.c(),b=B(),z&&z.c(),w=B(),q&&q.c(),E=B(),G&&G.c(),L(s,"class","card-title"),L(c,"class","card-subtitle"),L(v,"class","card-text"),L(o,"class","card-body"),U(e,H)},m(t,r){T(t,e,r),k&&k.m(e,null),M(e,n),N&&N.m(e,null),M(e,i),M(e,o),M(o,s),P[a].m(s,null),M(o,l),M(o,c),C[h].m(c,null),M(o,y),M(o,v),D&&D.m(v,null),M(o,b),z&&z.m(o,null),M(e,w),q&&q.m(e,null),M(e,E),G&&G.m(e,null),x=!0},p(t,[r]){t[5]||t[9].header?k?(k.p(t,r),544&r&&_t(k,1)):(k=Ze(t),k.c(),_t(k,1),k.m(e,n)):k&&(wt(),At(k,1,1,(()=>{k=null})),Et()),t[2]&&"top"===t[4]?N?N.p(t,r):(N=tr(t),N.c(),N.m(e,i)):N&&(N.d(1),N=null);let l=a;a=R(t),a===l?P[a].p(t,r):(wt(),At(P[l],1,1,(()=>{P[l]=null})),Et(),u=P[a],u?u.p(t,r):(u=P[a]=S[a](t),u.c()),_t(u,1),u.m(s,null));let f=h;h=F(t),h===f?C[h].p(t,r):(wt(),At(C[f],1,1,(()=>{C[f]=null})),Et(),d=C[h],d?d.p(t,r):(d=C[h]=O[h](t),d.c()),_t(d,1),d.m(c,null)),D&&D.p&&(!x||1024&r)&&m(D,j,t,t[10],x?p(j,t[10],r,null):g(t[10]),null),t[9].bottom?z?(z.p(t,r),512&r&&_t(z,1)):(z=or(t),z.c(),_t(z,1),z.m(o,null)):z&&(wt(),At(z,1,1,(()=>{z=null})),Et()),t[2]&&"bottom"===t[4]?q?q.p(t,r):(q=sr(t),q.c(),q.m(e,E)):q&&(q.d(1),q=null),t[6]||t[9].footer?G?(G.p(t,r),576&r&&_t(G,1)):(G=ar(t),G.c(),_t(G,1),G.m(e,null)):G&&(wt(),At(G,1,1,(()=>{G=null})),Et()),U(e,H=kt(V,[256&r&&t[8],(!x||256&r&&_!==(_=(t[8].class??"")+" card"))&&{class:_},(!x||128&r&&A!==(A=`width: ${t[7]}`))&&{style:A}]))},i(t){x||(_t(k),_t(u),_t(d),_t(D,t),_t(z),_t(G),x=!0)},o(t){At(k),At(u),At(d),At(D,t),At(z),At(G),x=!1},d(t){t&&$(e),k&&k.d(),N&&N.d(),P[a].d(),C[h].d(),D&&D.d(t),z&&z.d(),q&&q.d(),G&&G.d()}}}function hr(t,e,n){const i=["title","subTitle","image","imageAlt","imagePlacement","header","footer","width"];let o=v(e,i),{$$slots:s={},$$scope:a}=e;const u=b(s);let{title:l=""}=e,{subTitle:c=""}=e,{image:h=""}=e,{imageAlt:f=""}=e,{imagePlacement:d="top"}=e,{header:p=""}=e,{footer:m=""}=e,{width:g="100%"}=e;return t.$$set=t=>{e=r(r({},e),y(t)),n(8,o=v(e,i)),"title"in t&&n(0,l=t.title),"subTitle"in t&&n(1,c=t.subTitle),"image"in t&&n(2,h=t.image),"imageAlt"in t&&n(3,f=t.imageAlt),"imagePlacement"in t&&n(4,d=t.imagePlacement),"header"in t&&n(5,p=t.header),"footer"in t&&n(6,m=t.footer),"width"in t&&n(7,g=t.width),"$$scope"in t&&n(10,a=t.$$scope)},[l,c,h,f,d,p,m,g,o,u,a,s]}class fr extends Rt{constructor(t){super(),$t(this,t,hr,cr,a,{title:0,subTitle:1,image:2,imageAlt:3,imagePlacement:4,header:5,footer:6,width:7})}}function dr(e){let r,n;return{c(){r=O(e[5]),n=O("%")},m(t,e){T(t,r,e),T(t,n,e)},p(t,e){32&e&&j(r,t[5])},i:t,o:t,d(t){t&&$(r),t&&$(n)}}}function pr(t){let e;const r=t[10].default,n=f(r,t,t[9],null);return{c(){n&&n.c()},m(t,r){n&&n.m(t,r),e=!0},p(t,i){n&&n.p&&(!e||512&i)&&m(n,r,t,t[9],e?p(r,t[9],i,null):g(t[9]),null)},i(t){e||(_t(n,t),e=!0)},o(t){At(n,t),e=!1},d(t){n&&n.d(t)}}}function mr(t){let e,n,i,o,s,a,u;const l=[pr,dr],c=[];function h(t,e){return t[7].default?0:t[1]?1:-1}~(i=h(t))&&(o=c[i]=l[i](t));let f=[t[6],{class:a=`progress ${t[6].class??""}`}],d={};for(let t=0;t<f.length;t+=1)d=r(d,f[t]);return{c(){e=I("div"),n=I("div"),o&&o.c(),L(n,"class",s=w(`bar ${t[0]} w-${t[5]}`)+" svelte-4ztx7u"),q(n,"striped",t[2]),q(n,"infinite",t[3]),U(e,d),q(e,"margin-bottom",t[4]),q(e,"svelte-4ztx7u",!0)},m(t,r){T(t,e,r),M(e,n),~i&&c[i].m(n,null),u=!0},p(t,[r]){let p=i;i=h(t),i===p?~i&&c[i].p(t,r):(o&&(wt(),At(c[p],1,1,(()=>{c[p]=null})),Et()),~i?(o=c[i],o?o.p(t,r):(o=c[i]=l[i](t),o.c()),_t(o,1),o.m(n,null)):o=null),(!u||33&r&&s!==(s=w(`bar ${t[0]} w-${t[5]}`)+" svelte-4ztx7u"))&&L(n,"class",s),37&r&&q(n,"striped",t[2]),41&r&&q(n,"infinite",t[3]),U(e,d=kt(f,[64&r&&t[6],(!u||64&r&&a!==(a=`progress ${t[6].class??""}`))&&{class:a}])),q(e,"margin-bottom",t[4]),q(e,"svelte-4ztx7u",!0)},i(t){u||(_t(o),u=!0)},o(t){At(o),u=!1},d(t){t&&$(e),~i&&c[i].d()}}}function gr(t,e,n){const i=["value","type","showValue","striped","infinite","marginBottom"];let o=v(e,i),{$$slots:s={},$$scope:a}=e;const u=b(s);let l,{value:c=50}=e,{type:h="primary"}=e,{showValue:f=!1}=e,{striped:d=!1}=e,{infinite:p=!1}=e,{marginBottom:m=!0}=e;return t.$$set=t=>{e=r(r({},e),y(t)),n(6,o=v(e,i)),"value"in t&&n(8,c=t.value),"type"in t&&n(0,h=t.type),"showValue"in t&&n(1,f=t.showValue),"striped"in t&&n(2,d=t.striped),"infinite"in t&&n(3,p=t.infinite),"marginBottom"in t&&n(4,m=t.marginBottom),"$$scope"in t&&n(9,a=t.$$scope)},t.$$.update=()=>{256&t.$$.dirty&&n(5,l=Math.max(Math.min(+c,100),0))},[h,f,d,p,m,l,o,u,c,a,s]}class yr extends Rt{constructor(t){super(),$t(this,t,gr,mr,a,{value:8,type:0,showValue:1,striped:2,infinite:3,marginBottom:4})}}function vr(t){const e=t-1;return e*e*e+1}function br(t,{delay:r=0,duration:n=400,easing:i=e}={}){const o=+getComputedStyle(t).opacity;return{delay:r,duration:n,easing:i,css:t=>"opacity: "+t*o}}function wr(t,{delay:e=0,duration:r=400,easing:n=vr,x:i=0,y:o=0,opacity:s=0}={}){const a=getComputedStyle(t),u=+a.opacity,l="none"===a.transform?"":a.transform,c=u*(1-s);return{delay:e,duration:r,easing:n,css:(t,e)=>`\n\t\t\ttransform: ${l} translate(${(1-t)*i}px, ${(1-t)*o}px);\n\t\t\topacity: ${u-c*e}`}}function Er(e){let r,n;return{c(){r=I("div"),L(r,"class",n=_r+" "+e[0]+" svelte-1biuxv2")},m(t,e){T(t,r,e)},p(t,[e]){1&e&&n!==(n=_r+" "+t[0]+" svelte-1biuxv2")&&L(r,"class",n)},i:t,o:t,d(t){t&&$(r)}}}const _r="paper-toast-container";function Ar(t,e,r){let{position:n="top-right"}=e;return t.$$set=t=>{"position"in t&&r(0,n=t.position)},[n]}class xr extends Rt{constructor(t){super(),$t(this,t,Ar,Er,a,{position:0})}}function kr(r){let n,i,a,u,l,c,h,f,d,p=(r[2]||r[3])&&Nr(r);return{c(){n=I("div"),i=new V,a=B(),p&&p.c(),i.a=a,L(n,"class",u=w(r[7])+" svelte-18aojlw"),L(n,"role","alert")},m(t,e){T(t,n,e),i.m(r[0],n),M(n,a),p&&p.m(n,null),r[15](n),h=!0,f||(d=[F(n,"mouseenter",r[8]),F(n,"mouseleave",r[9])],f=!0)},p(t,e){r=t,(!h||1&e)&&i.p(r[0]),r[2]||r[3]?p?(p.p(r,e),12&e&&_t(p,1)):(p=Nr(r),p.c(),_t(p,1),p.m(n,null)):p&&(wt(),At(p,1,1,(()=>{p=null})),Et()),(!h||128&e&&u!==(u=w(r[7])+" svelte-18aojlw"))&&L(n,"class",u)},i(i){h||(_t(p),lt((()=>{c&&c.end(1),l=function(r,n,i){let o,a,u=n(r,i),l=!1,c=0;function h(){o&&X(r,o)}function f(){const{delay:n=0,duration:i=300,easing:s=e,tick:f=t,css:d}=u||xt;d&&(o=K(r,0,1,i,n,s,d,c++)),f(0,1);const p=_()+n,m=p+i;a&&a.abort(),l=!0,lt((()=>yt(r,!0,"start"))),a=N((t=>{if(l){if(t>=m)return f(1,0),yt(r,!0,"end"),h(),l=!1;if(t>=p){const e=s((t-p)/i);f(e,1-e)}}return l}))}let d=!1;return{start(){d||(d=!0,X(r),s(u)?(u=u(),gt().then(f)):f())},invalidate(){d=!1},end(){l&&(h(),l=!1)}}}(n,wr,{y:r[1].includes("top")?-100:100}),l.start()})),h=!0)},o(r){At(p),l&&l.invalidate(),c=function(r,n,i){let a,u=n(r,i),l=!0;const c=bt;function h(){const{delay:n=0,duration:i=300,easing:s=e,tick:h=t,css:f}=u||xt;f&&(a=K(r,1,0,i,n,s,f));const d=_()+n,p=d+i;lt((()=>yt(r,!1,"start"))),N((t=>{if(l){if(t>=p)return h(0,1),yt(r,!1,"end"),--c.r||o(c.c),!1;if(t>=d){const e=s((t-d)/i);h(1-e,e)}}return l}))}return c.r+=1,s(u)?gt().then((()=>{u=u(),h()})):h(),{end(t){t&&u.tick&&u.tick(1,0),l&&(a&&X(r,a),l=!1)}}}(n,br,{duration:Sr}),h=!1},d(t){t&&$(n),p&&p.d(),r[15](null),t&&c&&c.end(),f=!1,o(d)}}}function Nr(t){let e,r;return e=new re({props:{ariaLabel:t[4]}}),e.$on("click",t[10]),{c(){St(e.$$.fragment)},m(t,n){Pt(e,t,n),r=!0},p(t,r){const n={};16&r&&(n.ariaLabel=t[4]),e.$set(n)},i(t){r||(_t(e.$$.fragment,t),r=!0)},o(t){At(e.$$.fragment,t),r=!1},d(t){Tt(e,t)}}}function Mr(t){let e,r,n=t[5]&&kr(t);return{c(){n&&n.c(),e=C()},m(t,i){n&&n.m(t,i),T(t,e,i),r=!0},p(t,[r]){t[5]?n?(n.p(t,r),32&r&&_t(n,1)):(n=kr(t),n.c(),_t(n,1),n.m(e.parentNode,e)):n&&(wt(),At(n,1,1,(()=>{n=null})),Et())},i(t){r||(_t(n),r=!0)},o(t){At(n),r=!1},d(t){n&&n.d(t),t&&$(e)}}}const Sr=300;function Pr(t,e,r){let n,i,o,s,{message:a}=e,{type:u="primary"}=e,{duration:l=2e3}=e,{position:c="top-right"}=e,{pauseOnHover:h=!1}=e,{dismissible:f=!1}=e,{indefinite:d=!1}=e,{closeAriaLabel:p="close"}=e,{onClose:m=null}=e,g=!0;function y(){r(5,g=!1),function(){const t=v();setTimeout((()=>{1===t.children.length&&t.remove()}),Sr)}(),null==m||m()}function v(){return document.querySelector(n)}return Q((()=>{if((v()||(new xr({target:document.body,props:{position:c}}),v())).insertAdjacentElement("afterbegin",o),d||(s=window.setTimeout(y,l)),s)return()=>clearTimeout(s)})),t.$$set=t=>{"message"in t&&r(0,a=t.message),"type"in t&&r(11,u=t.type),"duration"in t&&r(12,l=t.duration),"position"in t&&r(1,c=t.position),"pauseOnHover"in t&&r(13,h=t.pauseOnHover),"dismissible"in t&&r(2,f=t.dismissible),"indefinite"in t&&r(3,d=t.indefinite),"closeAriaLabel"in t&&r(4,p=t.closeAriaLabel),"onClose"in t&&r(14,m=t.onClose)},t.$$.update=()=>{2&t.$$.dirty&&(n=`.${_r}.${c}`),2048&t.$$.dirty&&r(7,i=`alert margin-small shadow ${Wt("alert",{type:u})}`)},[a,c,f,d,p,g,o,i,function(){h&&!d&&clearTimeout(s)},function(){h&&!d&&y()},y,u,l,h,m,function(t){nt[t?"unshift":"push"]((()=>{o=t,r(6,o)}))}]}class Tr extends Rt{constructor(t){super(),$t(this,t,Pr,Mr,a,{message:0,type:11,duration:12,position:1,pauseOnHover:13,dismissible:2,indefinite:3,closeAriaLabel:4,onClose:14})}}function $r(t){return e=>{const r={type:t,message:""};"string"==typeof e?r.message=e:Object.assign(r,e),new Tr({target:document.body,props:r,intro:!0})}}const Rr=$r("secondary"),Ir=$r("success"),Or=$r("warning"),Br=Or,Cr=$r("danger"),Fr=Cr;Object.assign(Tr,{open:function(t){"string"==typeof t&&(t={message:t}),new Tr({target:document.body,props:t,intro:!0})},info:Rr,success:Ir,warning:Or,warn:Br,error:Fr,danger:Cr});var Lr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ur(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})})),e}function jr(t){var e={exports:{}};return t(e,e.exports),e.exports}var Dr=Ur(Object.freeze({__proto__:null,default:{}})),zr=jr((function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:Dr.Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function u(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},i.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=a(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=a(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,l=0,c=r;c<a;c+=n)l=u(t,c,c+n,e),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==s){var h=1;for(l=u(t,c,t.length,e),c=0;c<s;c++)h*=e;this.imuln(h),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var c=u>>>26,h=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;c+=(s=(i=0|t.words[p])*(o=0|e.words[d])+h)/67108864|0,h=67108863&s}r.words[l]=0|h,u=0|c}return 0!==u?r.words[l]=0|u:r.length--,r.strip()}i.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);n=0!==(o=a>>>24-i&16777215)||s!==this.length-1?l[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var f=c[t],d=h[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:l[f-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},i.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===e,l=new t(o),c=this.clone();if(u){for(a=0;!c.isZero();a++)s=c.andln(255),c.iushrn(8),l[a]=s;for(;a<o;a++)l[a]=0}else{for(a=0;a<o-i;a++)l[a]=0;for(a=0;!c.isZero();a++)s=c.andln(255),c.iushrn(8),l[o-a-1]=s}return l},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},i.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},i.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},i.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,l=0,c=0|s[0],h=8191&c,f=c>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],y=8191&g,v=g>>>13,b=0|s[3],w=8191&b,E=b>>>13,_=0|s[4],A=8191&_,x=_>>>13,k=0|s[5],N=8191&k,M=k>>>13,S=0|s[6],P=8191&S,T=S>>>13,$=0|s[7],R=8191&$,I=$>>>13,O=0|s[8],B=8191&O,C=O>>>13,F=0|s[9],L=8191&F,U=F>>>13,j=0|a[0],D=8191&j,z=j>>>13,q=0|a[1],G=8191&q,V=q>>>13,H=0|a[2],W=8191&H,J=H>>>13,K=0|a[3],X=8191&K,Z=K>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ct=0|a[8],ht=8191&ct,ft=ct>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(l+(n=Math.imul(h,D))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(f,D)|0))<<13)|0;l=((o=Math.imul(f,z))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,D),i=(i=Math.imul(p,z))+Math.imul(m,D)|0,o=Math.imul(m,z);var yt=(l+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(f,G)|0))<<13)|0;l=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,D),i=(i=Math.imul(y,z))+Math.imul(v,D)|0,o=Math.imul(v,z),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,V)|0;var vt=(l+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(f,W)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(w,D),i=(i=Math.imul(w,z))+Math.imul(E,D)|0,o=Math.imul(E,z),n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,V)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,J)|0;var bt=(l+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(A,D),i=(i=Math.imul(A,z))+Math.imul(x,D)|0,o=Math.imul(x,z),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(v,W)|0,o=o+Math.imul(v,J)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,Z)|0;var wt=(l+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,Q)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(N,D),i=(i=Math.imul(N,z))+Math.imul(M,D)|0,o=Math.imul(M,z),n=n+Math.imul(A,G)|0,i=(i=i+Math.imul(A,V)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,V)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var Et=(l+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(P,D),i=(i=Math.imul(P,z))+Math.imul(T,D)|0,o=Math.imul(T,z),n=n+Math.imul(N,G)|0,i=(i=i+Math.imul(N,V)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,V)|0,n=n+Math.imul(A,W)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(x,W)|0,o=o+Math.imul(x,J)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(E,X)|0,o=o+Math.imul(E,Z)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var _t=(l+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(R,D),i=(i=Math.imul(R,z))+Math.imul(I,D)|0,o=Math.imul(I,z),n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,V)|0,n=n+Math.imul(N,W)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,J)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,Z)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(v,rt)|0,o=o+Math.imul(v,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var At=(l+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,D),i=(i=Math.imul(B,z))+Math.imul(C,D)|0,o=Math.imul(C,z),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(I,G)|0,o=o+Math.imul(I,V)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(T,W)|0,o=o+Math.imul(T,J)|0,n=n+Math.imul(N,X)|0,i=(i=i+Math.imul(N,Z)|0)+Math.imul(M,X)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,lt)|0;var xt=(l+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(L,D),i=(i=Math.imul(L,z))+Math.imul(U,D)|0,o=Math.imul(U,z),n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,V)|0)+Math.imul(C,G)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,J)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(T,X)|0,o=o+Math.imul(T,Z)|0,n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(v,ut)|0,o=o+Math.imul(v,lt)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ft)|0;var kt=(l+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(L,G),i=(i=Math.imul(L,V))+Math.imul(U,G)|0,o=Math.imul(U,V),n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,n=n+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ht)|0,o=o+Math.imul(v,ft)|0;var Nt=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(L,W),i=(i=Math.imul(L,J))+Math.imul(U,W)|0,o=Math.imul(U,J),n=n+Math.imul(B,X)|0,i=(i=i+Math.imul(B,Z)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(T,rt)|0,o=o+Math.imul(T,nt)|0,n=n+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,lt)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,ft)|0;var Mt=(l+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;l=((o=o+Math.imul(v,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(L,X),i=(i=Math.imul(L,Z))+Math.imul(U,X)|0,o=Math.imul(U,Z),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,n=n+Math.imul(N,ut)|0,i=(i=i+Math.imul(N,lt)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,lt)|0,n=n+Math.imul(A,ht)|0,i=(i=i+Math.imul(A,ft)|0)+Math.imul(x,ht)|0,o=o+Math.imul(x,ft)|0;var St=(l+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(E,pt)|0))<<13)|0;l=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,Q),i=(i=Math.imul(L,tt))+Math.imul(U,Q)|0,o=Math.imul(U,tt),n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,st)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,lt)|0,n=n+Math.imul(N,ht)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,ft)|0;var Pt=(l+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(x,pt)|0))<<13)|0;l=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(L,rt),i=(i=Math.imul(L,nt))+Math.imul(U,rt)|0,o=Math.imul(U,nt),n=n+Math.imul(B,ot)|0,i=(i=i+Math.imul(B,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(I,ut)|0,o=o+Math.imul(I,lt)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(T,ht)|0,o=o+Math.imul(T,ft)|0;var Tt=(l+(n=n+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,mt)|0)+Math.imul(M,pt)|0))<<13)|0;l=((o=o+Math.imul(M,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(L,ot),i=(i=Math.imul(L,st))+Math.imul(U,ot)|0,o=Math.imul(U,st),n=n+Math.imul(B,ut)|0,i=(i=i+Math.imul(B,lt)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,lt)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,ft)|0;var $t=(l+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(T,pt)|0))<<13)|0;l=((o=o+Math.imul(T,mt)|0)+(i>>>13)|0)+($t>>>26)|0,$t&=67108863,n=Math.imul(L,ut),i=(i=Math.imul(L,lt))+Math.imul(U,ut)|0,o=Math.imul(U,lt),n=n+Math.imul(B,ht)|0,i=(i=i+Math.imul(B,ft)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,ft)|0;var Rt=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(I,pt)|0))<<13)|0;l=((o=o+Math.imul(I,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(L,ht),i=(i=Math.imul(L,ft))+Math.imul(U,ht)|0,o=Math.imul(U,ft);var It=(l+(n=n+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,mt)|0)+Math.imul(C,pt)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863;var Ot=(l+(n=Math.imul(L,pt))|0)+((8191&(i=(i=Math.imul(L,mt))+Math.imul(U,pt)|0))<<13)|0;return l=((o=Math.imul(U,mt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=yt,u[2]=vt,u[3]=bt,u[4]=wt,u[5]=Et,u[6]=_t,u[7]=At,u[8]=xt,u[9]=kt,u[10]=Nt,u[11]=Mt,u[12]=St,u[13]=Pt,u[14]=Tt,u[15]=$t,u[16]=Rt,u[17]=It,u[18]=Ot,0!==l&&(u[19]=l,r.length++),r};function p(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(d=f),i.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?d(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var c=o-l,h=(0|t.words[c])*(0|e.words[l]),f=67108863&h;a=67108863&(f=f+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):p(this,t,e),r},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=i.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},m.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var h=u,f=l,d=0;d<s;d++){var p=r[c+d],m=n[c+d],g=r[c+d+s],y=n[c+d+s],v=h*g-f*y;y=h*y+f*g,g=v,r[c+d]=p+g,n[c+d]=m+y,r[c+d+s]=p-g,n[c+d+s]=m-y,d!==a&&(v=u*h-l*f,f=u*f+l*h,h=v)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,n,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),l=new Array(n),c=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,l,n),this.transform(s,o,a,u,n,i),this.transform(l,o,c,h,n,i);for(var d=0;d<n;d++){var p=a[d]*c[d]-u[d]*h[d];u[d]=a[d]*h[d]+u[d]*c[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),p(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var o=r.sqr();n<e.length;n++,o=o.sqr())0!==e[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<n;this.words[e]=u|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=n;if(i-=s,i=Math.max(0,i),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var h=0|this.words[l];this.words[l]=c<<26-o|h>>>o,c=h&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),o=t,s=0|o.words[o.length-1];0!==(r=26-this._countBits(s))&&(o=o.ushln(r),n.iushln(r),s=0|o.words[o.length-1]);var a,u=n.length-o.length;if("mod"!==e){(a=new i(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var c=n.clone()._ishlnsubmul(o,1,u);0===c.negative&&(n=c,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|n.words[o.length+h])+(0|n.words[o.length+h-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(o,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(o,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,s,a},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},i.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new i(1),s=new i(0),a=new i(0),u=new i(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(c),s.isub(h)),o.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a),s.isub(u)):(n.isub(e),a.isub(o),u.isub(s))}return{a:a,b:u,gcd:n.iushln(l)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new i(1),a=new i(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;0==(e.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(e.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var h=0,f=1;0==(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new _(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function A(t){_.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(v,y),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(b,y),n(w,y),n(E,y),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return g[t]=e,e},_.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},_.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},_.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},_.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},_.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},_.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},_.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},_.prototype.isqr=function(t){return this.imul(t,t.clone())},_.prototype.sqr=function(t){return this.mul(t,t)},_.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new i(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,o),f=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var y=this.pow(h,new i(1).iushln(p-g-1));f=f.redMul(y),h=y.redSqr(),d=d.redMul(h),p=g}return f},_.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},_.prototype.pow=function(t,e){if(e.isZero())return new i(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var o=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],c=u-1;c>=0;c--){var h=l>>c&1;o!==r[0]&&(o=this.sqr(o)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===c)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}u=26}return o},_.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},_.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new A(t)},n(A,_),A.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},A.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},A.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,Lr)}));let qr=!1,Gr=!1;const Vr={debug:1,default:2,info:2,warning:3,error:4,off:5};let Hr=Vr.default,Wr=null;const Jr=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Kr,Xr;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Kr||(Kr={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Xr||(Xr={}));const Zr="0123456789abcdef";class Yr{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Vr[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Hr>Vr[r]||console.log.apply(console,e)}debug(...t){this._log(Yr.levels.DEBUG,t)}info(...t){this._log(Yr.levels.INFO,t)}warn(...t){this._log(Yr.levels.WARNING,t)}makeError(t,e,r){if(Gr)return this.makeError("censored error",e,{});e||(e=Yr.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Zr[e[t]>>4],r+=Zr[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case Xr.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case Xr.CALL_EXCEPTION:case Xr.INSUFFICIENT_FUNDS:case Xr.MISSING_NEW:case Xr.NONCE_EXPIRED:case Xr.REPLACEMENT_UNDERPRICED:case Xr.TRANSACTION_REPLACED:case Xr.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Yr.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){Jr&&this.throwError("platform missing String.prototype.normalize",Yr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Jr})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Yr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Yr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Yr.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Yr.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Yr.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Yr.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Yr.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Wr||(Wr=new Yr("logger/5.6.0")),Wr}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Yr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),qr){if(!t)return;this.globalLogger().throwError("error censorship permanent",Yr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Gr=!!t,qr=!!e}static setLogLevel(t){const e=Vr[t.toLowerCase()];null!=e?Hr=e:Yr.globalLogger().warn("invalid log level - "+t)}static from(t){return new Yr(t)}}Yr.errors=Xr,Yr.levels=Kr;const Qr=new Yr("bytes/5.6.1");function tn(t){return!!t.toHexString}function en(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return en(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function rn(t){return ln(t)&&!(t.length%2)||on(t)}function nn(t){return"number"==typeof t&&t==t&&t%1==0}function on(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!nn(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!nn(r)||r<0||r>=256)return!1}return!0}function sn(t,e){if(e||(e={}),"number"==typeof t){Qr.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),en(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),tn(t)&&(t=t.toHexString()),ln(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Qr.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return en(new Uint8Array(n))}return on(t)?en(new Uint8Array(t)):Qr.throwArgumentError("invalid arrayify value","value",t)}function an(t){const e=t.map((t=>sn(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),en(n)}function un(t){let e=sn(t);if(0===e.length)return e;let r=0;for(;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}function ln(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const cn="0123456789abcdef";function hn(t,e){if(e||(e={}),"number"==typeof t){Qr.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=cn[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),tn(t))return t.toHexString();if(ln(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Qr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(on(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=cn[(240&n)>>4]+cn[15&n]}return e}return Qr.throwArgumentError("invalid hexlify value","value",t)}function fn(t){if("string"!=typeof t)t=hn(t);else if(!ln(t)||t.length%2)return null;return(t.length-2)/2}function dn(t,e,r){return"string"!=typeof t?t=hn(t):(!ln(t)||t.length%2)&&Qr.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function pn(t){let e="0x";return t.forEach((t=>{e+=hn(t).substring(2)})),e}function mn(t){const e=function(t){"string"!=typeof t&&(t=hn(t));ln(t)||Qr.throwArgumentError("invalid hex string","value",t);t=t.substring(2);let e=0;for(;e<t.length&&"0"===t[e];)e++;return"0x"+t.substring(e)}(hn(t,{hexPad:"left"}));return"0x"===e?"0x0":e}function gn(t,e){for("string"!=typeof t?t=hn(t):ln(t)||Qr.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Qr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function yn(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(rn(t)){let r=sn(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=hn(r.slice(0,32)),e.s=hn(r.slice(32,64))):65===r.length?(e.r=hn(r.slice(0,32)),e.s=hn(r.slice(32,64)),e.v=r[64]):Qr.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:Qr.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=hn(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=sn(t)).length>e&&Qr.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),en(r)}(sn(e._vs),32);e._vs=hn(r);const n=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=n:e.recoveryParam!==n&&Qr.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const i=hn(r);null==e.s?e.s=i:e.s!==i&&Qr.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?Qr.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&Qr.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&ln(e.r)?e.r=gn(e.r,32):Qr.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&ln(e.s)?e.s=gn(e.s,32):Qr.throwArgumentError("signature missing or invalid s","signature",t);const r=sn(e.s);r[0]>=128&&Qr.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=hn(r);e._vs&&(ln(e._vs)||Qr.throwArgumentError("signature invalid _vs","signature",t),e._vs=gn(e._vs,32)),null==e._vs?e._vs=n:e._vs!==n&&Qr.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const vn="bignumber/5.6.0";var bn=zr.BN;const wn=new Yr(vn),En={},_n=9007199254740991;let An=!1;class xn{constructor(t,e){wn.checkNew(new.target,xn),t!==En&&wn.throwError("cannot call constructor directly; use BigNumber.from",Yr.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Nn(Mn(this).fromTwos(t))}toTwos(t){return Nn(Mn(this).toTwos(t))}abs(){return"-"===this._hex[0]?xn.from(this._hex.substring(1)):this}add(t){return Nn(Mn(this).add(Mn(t)))}sub(t){return Nn(Mn(this).sub(Mn(t)))}div(t){return xn.from(t).isZero()&&Sn("division-by-zero","div"),Nn(Mn(this).div(Mn(t)))}mul(t){return Nn(Mn(this).mul(Mn(t)))}mod(t){const e=Mn(t);return e.isNeg()&&Sn("division-by-zero","mod"),Nn(Mn(this).umod(e))}pow(t){const e=Mn(t);return e.isNeg()&&Sn("negative-power","pow"),Nn(Mn(this).pow(e))}and(t){const e=Mn(t);return(this.isNegative()||e.isNeg())&&Sn("unbound-bitwise-result","and"),Nn(Mn(this).and(e))}or(t){const e=Mn(t);return(this.isNegative()||e.isNeg())&&Sn("unbound-bitwise-result","or"),Nn(Mn(this).or(e))}xor(t){const e=Mn(t);return(this.isNegative()||e.isNeg())&&Sn("unbound-bitwise-result","xor"),Nn(Mn(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&Sn("negative-width","mask"),Nn(Mn(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Sn("negative-width","shl"),Nn(Mn(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Sn("negative-width","shr"),Nn(Mn(this).shrn(t))}eq(t){return Mn(this).eq(Mn(t))}lt(t){return Mn(this).lt(Mn(t))}lte(t){return Mn(this).lte(Mn(t))}gt(t){return Mn(this).gt(Mn(t))}gte(t){return Mn(this).gte(Mn(t))}isNegative(){return"-"===this._hex[0]}isZero(){return Mn(this).isZero()}toNumber(){try{return Mn(this).toNumber()}catch(t){Sn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return wn.throwError("this platform does not support BigInt",Yr.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?An||(An=!0,wn.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?wn.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Yr.errors.UNEXPECTED_ARGUMENT,{}):wn.throwError("BigNumber.toString does not accept parameters",Yr.errors.UNEXPECTED_ARGUMENT,{})),Mn(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof xn)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new xn(En,kn(t)):t.match(/^-?[0-9]+$/)?new xn(En,kn(new bn(t))):wn.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&Sn("underflow","BigNumber.from",t),(t>=_n||t<=-_n)&&Sn("overflow","BigNumber.from",t),xn.from(String(t));const e=t;if("bigint"==typeof e)return xn.from(e.toString());if(on(e))return xn.from(hn(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return xn.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(ln(t)||"-"===t[0]&&ln(t.substring(1))))return xn.from(t)}return wn.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function kn(t){if("string"!=typeof t)return kn(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&wn.throwArgumentError("invalid hex","value",t),"0x00"===(t=kn(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function Nn(t){return xn.from(kn(t))}function Mn(t){const e=xn.from(t).toHexString();return"-"===e[0]?new bn("-"+e.substring(3),16):new bn(e.substring(2),16)}function Sn(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),wn.throwError(t,Yr.errors.NUMERIC_FAULT,n)}const Pn=new Yr(vn),Tn={},$n=xn.from(0),Rn=xn.from(-1);function In(t,e,r,n){const i={fault:e,operation:r};return void 0!==n&&(i.value=n),Pn.throwError(t,Yr.errors.NUMERIC_FAULT,i)}let On="0";for(;On.length<256;)On+=On;function Bn(t){if("number"!=typeof t)try{t=xn.from(t).toNumber()}catch(t){}return"number"==typeof t&&t>=0&&t<=256&&!(t%1)?"1"+On.substring(0,t):Pn.throwArgumentError("invalid decimal size","decimals",t)}function Cn(t,e){null==e&&(e=0);const r=Bn(e),n=(t=xn.from(t)).lt($n);n&&(t=t.mul(Rn));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=t.div(r).toString();return t=1===r.length?o:o+"."+i,n&&(t="-"+t),t}function Fn(t,e){null==e&&(e=0);const r=Bn(e);"string"==typeof t&&t.match(/^-?[0-9.]+$/)||Pn.throwArgumentError("invalid decimal value","value",t);const n="-"===t.substring(0,1);n&&(t=t.substring(1)),"."===t&&Pn.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Pn.throwArgumentError("too many decimal points","value",t);let o=i[0],s=i[1];for(o||(o="0"),s||(s="0");"0"===s[s.length-1];)s=s.substring(0,s.length-1);for(s.length>r.length-1&&In("fractional component exceeds decimals","underflow","parseFixed"),""===s&&(s="0");s.length<r.length-1;)s+="0";const a=xn.from(o),u=xn.from(s);let l=a.mul(r).add(u);return n&&(l=l.mul(Rn)),l}class Ln{constructor(t,e,r,n){t!==Tn&&Pn.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Yr.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=e,this.width=r,this.decimals=n,this.name=(e?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=Bn(n),Object.freeze(this)}static from(t){if(t instanceof Ln)return t;"number"==typeof t&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if("string"==typeof t)if("fixed"===t);else if("ufixed"===t)e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||Pn.throwArgumentError("invalid fixed format","format",t),e="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}else if(t){const i=(e,r,n)=>null==t[e]?n:(typeof t[e]!==r&&Pn.throwArgumentError("invalid fixed format ("+e+" not "+r+")","format."+e,t[e]),t[e]);e=i("signed","boolean",e),r=i("width","number",r),n=i("decimals","number",n)}return r%8&&Pn.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&Pn.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new Ln(Tn,e,r,n)}}class Un{constructor(t,e,r,n){Pn.checkNew(new.target,Un),t!==Tn&&Pn.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Yr.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=e,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&Pn.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const e=Fn(this._value,this.format.decimals),r=Fn(t._value,t.format.decimals);return Un.fromValue(e.add(r),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const e=Fn(this._value,this.format.decimals),r=Fn(t._value,t.format.decimals);return Un.fromValue(e.sub(r),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const e=Fn(this._value,this.format.decimals),r=Fn(t._value,t.format.decimals);return Un.fromValue(e.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const e=Fn(this._value,this.format.decimals),r=Fn(t._value,t.format.decimals);return Un.fromValue(e.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=Un.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return this.isNegative()&&r&&(e=e.subUnsafe(jn.toFormat(e.format))),e}ceiling(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=Un.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return!this.isNegative()&&r&&(e=e.addUnsafe(jn.toFormat(e.format))),e}round(t){null==t&&(t=0);const e=this.toString().split(".");if(1===e.length&&e.push("0"),(t<0||t>80||t%1)&&Pn.throwArgumentError("invalid decimal count","decimals",t),e[1].length<=t)return this;const r=Un.from("1"+On.substring(0,t),this.format),n=Dn.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(t){if(null==t)return this._hex;t%8&&Pn.throwArgumentError("invalid byte width","width",t);return gn(xn.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString(),t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Un.fromString(this._value,t)}static fromValue(t,e,r){return null!=r||null==e||function(t){return null!=t&&(xn.isBigNumber(t)||"number"==typeof t&&t%1==0||"string"==typeof t&&!!t.match(/^-?[0-9]+$/)||ln(t)||"bigint"==typeof t||on(t))}(e)||(r=e,e=null),null==e&&(e=0),null==r&&(r="fixed"),Un.fromString(Cn(t,e),Ln.from(r))}static fromString(t,e){null==e&&(e="fixed");const r=Ln.from(e),n=Fn(t,r.decimals);!r.signed&&n.lt($n)&&In("unsigned value cannot be negative","overflow","value",t);let i=null;r.signed?i=n.toTwos(r.width).toHexString():(i=n.toHexString(),i=gn(i,r.width/8));const o=Cn(n,r.decimals);return new Un(Tn,i,o,r)}static fromBytes(t,e){null==e&&(e="fixed");const r=Ln.from(e);if(sn(t).length>r.width/8)throw new Error("overflow");let n=xn.from(t);r.signed&&(n=n.fromTwos(r.width));const i=n.toTwos((r.signed?0:1)+r.width).toHexString(),o=Cn(n,r.decimals);return new Un(Tn,i,o,r)}static from(t,e){if("string"==typeof t)return Un.fromString(t,e);if(on(t))return Un.fromBytes(t,e);try{return Un.fromValue(t,0,e)}catch(t){if(t.code!==Yr.errors.INVALID_ARGUMENT)throw t}return Pn.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!(!t||!t._isFixedNumber)}}const jn=Un.from(1),Dn=Un.from("0.5");var zn=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const qn=new Yr("properties/5.6.0");function Gn(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Vn(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||"object"!=typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Hn(t){return zn(this,void 0,void 0,(function*(){const e=Object.keys(t).map((e=>{const r=t[e];return Promise.resolve(r).then((t=>({key:e,value:t})))}));return(yield Promise.all(e)).reduce(((t,e)=>(t[e.key]=e.value,t)),{})}))}function Wn(t){const e={};for(const r in t)e[r]=t[r];return e}const Jn={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Kn(t){if(null==t||Jn[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch(t){continue}if(!Kn(n))return!1}return!0}return qn.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function Xn(t){if(Kn(t))return t;if(Array.isArray(t))return Object.freeze(t.map((t=>Zn(t))));if("object"==typeof t){const e={};for(const r in t){const n=t[r];void 0!==n&&Gn(e,r,Zn(n))}return e}return qn.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function Zn(t){return Xn(t)}class Yn{constructor(t){for(const e in t)this[e]=Zn(t[e])}}const Qn="abi/5.6.0",ti=new Yr(Qn),ei={};let ri={calldata:!0,memory:!0,storage:!0},ni={calldata:!0,memory:!0};function ii(t,e){if("bytes"===t||"string"===t){if(ri[e])return!0}else if("address"===t){if("payable"===e)return!0}else if((t.indexOf("[")>=0||"tuple"===t)&&ni[e])return!0;return(ri[e]||"payable"===e)&&ti.throwArgumentError("invalid modifier","name",e),!1}function oi(t,e){for(let r in e)Gn(t,r,e[r])}const si=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),ai=new RegExp(/^(.*)\[([0-9]*)\]$/);class ui{constructor(t,e){t!==ei&&ti.throwError("use fromString",Yr.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),oi(this,e);let r=this.type.match(ai);oi(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:ui.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(t){if(t||(t=si.sighash),si[t]||ti.throwArgumentError("invalid format type","format",t),t===si.json){let e={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(e.indexed=this.indexed),this.components&&(e.components=this.components.map((e=>JSON.parse(e.format(t))))),JSON.stringify(e)}let e="";return"array"===this.baseType?(e+=this.arrayChildren.format(t),e+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(t!==si.sighash&&(e+=this.type),e+="("+this.components.map((e=>e.format(t))).join(t===si.full?", ":",")+")"):e+=this.type,t!==si.sighash&&(!0===this.indexed&&(e+=" indexed"),t===si.full&&this.name&&(e+=" "+this.name)),e}static from(t,e){return"string"==typeof t?ui.fromString(t,e):ui.fromObject(t)}static fromObject(t){return ui.isParamType(t)?t:new ui(ei,{name:t.name||null,type:bi(t.type),indexed:null==t.indexed?null:!!t.indexed,components:t.components?t.components.map(ui.fromObject):null})}static fromString(t,e){return r=function(t,e){let r=t;function n(e){ti.throwArgumentError(`unexpected character at position ${e}`,"param",t)}function i(t){let r={type:"",name:"",parent:t,state:{allowType:!0}};return e&&(r.indexed=!1),r}t=t.replace(/\s/g," ");let o={type:"",name:"",state:{allowType:!0}},s=o;for(let r=0;r<t.length;r++){let o=t[r];switch(o){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||n(r),s.state.allowType=!1,s.type=bi(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(e||n(r),s.indexed=!0,s.name=""),ii(s.type,s.name)&&(s.name=""),s.type=bi(s.type);let t=s;s=s.parent,s||n(r),delete t.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(e||n(r),s.indexed=!0,s.name=""),ii(s.type,s.name)&&(s.name=""),s.type=bi(s.type);let a=i(s.parent);s.parent.components.push(a),delete s.parent,s=a;break;case" ":s.state.allowType&&""!==s.type&&(s.type=bi(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(e||n(r),s.indexed&&n(r),s.indexed=!0,s.name=""):ii(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(r),s.type+=o,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(r),s.type+=o,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=o,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=o,delete s.state.allowArray):s.state.readArray?s.type+=o:n(r)}}return s.parent&&ti.throwArgumentError("unexpected eof","param",t),delete o.state,"indexed"===s.name?(e||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):ii(s.type,s.name)&&(s.name=""),o.type=bi(o.type),o}(t,!!e),ui.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components});var r}static isParamType(t){return!(null==t||!t._isParamType)}}function li(t,e){return function(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let o=t[i];","===o&&0===n?(e.push(r),r=""):(r+=o,"("===o?n++:")"===o&&(n--,-1===n&&ti.throwArgumentError("unbalanced parenthesis","value",t)))}r&&e.push(r);return e}(t).map((t=>ui.fromString(t,e)))}class ci{constructor(t,e){t!==ei&&ti.throwError("use a static from method",Yr.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),oi(this,e),this._isFragment=!0,Object.freeze(this)}static from(t){return ci.isFragment(t)?t:"string"==typeof t?ci.fromString(t):ci.fromObject(t)}static fromObject(t){if(ci.isFragment(t))return t;switch(t.type){case"function":return gi.fromObject(t);case"event":return hi.fromObject(t);case"constructor":return mi.fromObject(t);case"error":return vi.fromObject(t);case"fallback":case"receive":return null}return ti.throwArgumentError("invalid fragment object","value",t)}static fromString(t){return"event"===(t=(t=(t=t.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?hi.fromString(t.substring(5).trim()):"function"===t.split(" ")[0]?gi.fromString(t.substring(8).trim()):"constructor"===t.split("(")[0].trim()?mi.fromString(t.trim()):"error"===t.split(" ")[0]?vi.fromString(t.substring(5).trim()):ti.throwArgumentError("unsupported fragment","value",t)}static isFragment(t){return!(!t||!t._isFragment)}}class hi extends ci{format(t){if(t||(t=si.sighash),si[t]||ti.throwArgumentError("invalid format type","format",t),t===si.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==si.sighash&&(e+="event "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===si.full?", ":",")+") ",t!==si.sighash&&this.anonymous&&(e+="anonymous "),e.trim()}static from(t){return"string"==typeof t?hi.fromString(t):hi.fromObject(t)}static fromObject(t){if(hi.isEventFragment(t))return t;"event"!==t.type&&ti.throwArgumentError("invalid event object","value",t);const e={name:Ei(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(ui.fromObject):[],type:"event"};return new hi(ei,e)}static fromString(t){let e=t.match(_i);e||ti.throwArgumentError("invalid event string","value",t);let r=!1;return e[3].split(" ").forEach((t=>{switch(t.trim()){case"anonymous":r=!0;break;case"":break;default:ti.warn("unknown modifier: "+t)}})),hi.fromObject({name:e[1].trim(),anonymous:r,inputs:li(e[2],!0),type:"event"})}static isEventFragment(t){return t&&t._isFragment&&"event"===t.type}}function fi(t,e){e.gas=null;let r=t.split("@");return 1!==r.length?(r.length>2&&ti.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||ti.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=xn.from(r[1]),r[0]):t}function di(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach((t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}}))}function pi(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return null!=t.stateMutability?(e.stateMutability=t.stateMutability,e.constant="view"===e.stateMutability||"pure"===e.stateMutability,null!=t.constant&&!!t.constant!==e.constant&&ti.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable="payable"===e.stateMutability,null!=t.payable&&!!t.payable!==e.payable&&ti.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):null!=t.payable?(e.payable=!!t.payable,null!=t.constant||e.payable||"constructor"===t.type||ti.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&ti.throwArgumentError("cannot have constant payable function","value",t)):null!=t.constant?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):"constructor"!==t.type&&ti.throwArgumentError("unable to determine stateMutability","value",t),e}class mi extends ci{format(t){if(t||(t=si.sighash),si[t]||ti.throwArgumentError("invalid format type","format",t),t===si.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});t===si.sighash&&ti.throwError("cannot format a constructor for sighash",Yr.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let e="constructor("+this.inputs.map((e=>e.format(t))).join(t===si.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "),e.trim()}static from(t){return"string"==typeof t?mi.fromString(t):mi.fromObject(t)}static fromObject(t){if(mi.isConstructorFragment(t))return t;"constructor"!==t.type&&ti.throwArgumentError("invalid constructor object","value",t);let e=pi(t);e.constant&&ti.throwArgumentError("constructor cannot be constant","value",t);const r={name:null,type:t.type,inputs:t.inputs?t.inputs.map(ui.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?xn.from(t.gas):null};return new mi(ei,r)}static fromString(t){let e={type:"constructor"},r=(t=fi(t,e)).match(_i);return r&&"constructor"===r[1].trim()||ti.throwArgumentError("invalid constructor string","value",t),e.inputs=li(r[2].trim(),!1),di(r[3].trim(),e),mi.fromObject(e)}static isConstructorFragment(t){return t&&t._isFragment&&"constructor"===t.type}}class gi extends mi{format(t){if(t||(t=si.sighash),si[t]||ti.throwArgumentError("invalid format type","format",t),t===si.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t)))),outputs:this.outputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==si.sighash&&(e+="function "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===si.full?", ":",")+") ",t!==si.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "):this.constant&&(e+="view "),this.outputs&&this.outputs.length&&(e+="returns ("+this.outputs.map((e=>e.format(t))).join(", ")+") "),null!=this.gas&&(e+="@"+this.gas.toString()+" ")),e.trim()}static from(t){return"string"==typeof t?gi.fromString(t):gi.fromObject(t)}static fromObject(t){if(gi.isFunctionFragment(t))return t;"function"!==t.type&&ti.throwArgumentError("invalid function object","value",t);let e=pi(t);const r={type:t.type,name:Ei(t.name),constant:e.constant,inputs:t.inputs?t.inputs.map(ui.fromObject):[],outputs:t.outputs?t.outputs.map(ui.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?xn.from(t.gas):null};return new gi(ei,r)}static fromString(t){let e={type:"function"},r=(t=fi(t,e)).split(" returns ");r.length>2&&ti.throwArgumentError("invalid function string","value",t);let n=r[0].match(_i);if(n||ti.throwArgumentError("invalid function signature","value",t),e.name=n[1].trim(),e.name&&Ei(e.name),e.inputs=li(n[2],!1),di(n[3].trim(),e),r.length>1){let n=r[1].match(_i);""==n[1].trim()&&""==n[3].trim()||ti.throwArgumentError("unexpected tokens","value",t),e.outputs=li(n[2],!1)}else e.outputs=[];return gi.fromObject(e)}static isFunctionFragment(t){return t&&t._isFragment&&"function"===t.type}}function yi(t){const e=t.format();return"Error(string)"!==e&&"Panic(uint256)"!==e||ti.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class vi extends ci{format(t){if(t||(t=si.sighash),si[t]||ti.throwArgumentError("invalid format type","format",t),t===si.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==si.sighash&&(e+="error "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===si.full?", ":",")+") ",e.trim()}static from(t){return"string"==typeof t?vi.fromString(t):vi.fromObject(t)}static fromObject(t){if(vi.isErrorFragment(t))return t;"error"!==t.type&&ti.throwArgumentError("invalid error object","value",t);const e={type:t.type,name:Ei(t.name),inputs:t.inputs?t.inputs.map(ui.fromObject):[]};return yi(new vi(ei,e))}static fromString(t){let e={type:"error"},r=t.match(_i);return r||ti.throwArgumentError("invalid error signature","value",t),e.name=r[1].trim(),e.name&&Ei(e.name),e.inputs=li(r[2],!1),yi(vi.fromObject(e))}static isErrorFragment(t){return t&&t._isFragment&&"error"===t.type}}function bi(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const wi=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Ei(t){return t&&t.match(wi)||ti.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const _i=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");const Ai=new Yr(Qn);class xi{constructor(t,e,r,n){this.name=t,this.type=e,this.localName=r,this.dynamic=n}_throwError(t,e){Ai.throwArgumentError(t,this.localName,e)}}class ki{constructor(t){Gn(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}get data(){return pn(this._data)}get length(){return this._dataLength}_writeData(t){return this._data.push(t),this._dataLength+=t.length,t.length}appendWriter(t){return this._writeData(an(t._data))}writeBytes(t){let e=sn(t);const r=e.length%this.wordSize;return r&&(e=an([e,this._padding.slice(r)])),this._writeData(e)}_getValue(t){let e=sn(xn.from(t));return e.length>this.wordSize&&Ai.throwError("value out-of-bounds",Yr.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:e.length}),e.length%this.wordSize&&(e=an([this._padding.slice(e.length%this.wordSize),e])),e}writeValue(t){return this._writeData(this._getValue(t))}writeUpdatableValue(){const t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,e=>{this._data[t]=this._getValue(e)}}}class Ni{constructor(t,e,r,n){Gn(this,"_data",sn(t)),Gn(this,"wordSize",e||32),Gn(this,"_coerceFunc",r),Gn(this,"allowLoose",n),this._offset=0}get data(){return hn(this._data)}get consumed(){return this._offset}static coerce(t,e){let r=t.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(e=e.toNumber()),e}coerce(t,e){return this._coerceFunc?this._coerceFunc(t,e):Ni.coerce(t,e)}_peekBytes(t,e,r){let n=Math.ceil(e/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+e<=this._data.length?n=e:Ai.throwError("data out-of-bounds",Yr.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(t){return new Ni(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(t,e){let r=this._peekBytes(0,t,!!e);return this._offset+=r.length,r.slice(0,t)}readValue(){return xn.from(this.readBytes(this.wordSize))}}
/**
     * [js-sha3]{@link https://github.com/emn178/js-sha3}
     *
     * @version 0.8.0
     * @author Chen, Yi-Cyuan [emn178@gmail.com]
     * @copyright Chen, Yi-Cyuan 2015-2018
     * @license MIT
     */var Mi=jr((function(t){!function(){var e="input is invalid type",r="object"==typeof window,n=r?window:{};n.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&"object"==typeof self;!n.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?n=Lr:i&&(n=self);var o=!n.JS_SHA3_NO_COMMON_JS&&t.exports,s=!n.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,a="0123456789abcdef".split(""),u=[4,1024,262144,67108864],l=[0,8,16,24],c=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],h=[224,256,384,512],f=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};!n.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!s||!n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var m=function(t,e,r){return function(n){return new T(t,e,t).update(n)[r]()}},g=function(t,e,r){return function(n,i){return new T(t,e,i).update(n)[r]()}},y=function(t,e,r){return function(e,n,i,o){return _["cshake"+t].update(e,n,i,o)[r]()}},v=function(t,e,r){return function(e,n,i,o){return _["kmac"+t].update(e,n,i,o)[r]()}},b=function(t,e,r,n){for(var i=0;i<d.length;++i){var o=d[i];t[o]=e(r,n,o)}return t},w=function(t,e){var r=m(t,e,"hex");return r.create=function(){return new T(t,e,t)},r.update=function(t){return r.create().update(t)},b(r,m,t,e)},E=[{name:"keccak",padding:[1,256,65536,16777216],bits:h,createMethod:w},{name:"sha3",padding:[6,1536,393216,100663296],bits:h,createMethod:w},{name:"shake",padding:[31,7936,2031616,520093696],bits:f,createMethod:function(t,e){var r=g(t,e,"hex");return r.create=function(r){return new T(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},b(r,g,t,e)}},{name:"cshake",padding:u,bits:f,createMethod:function(t,e){var r=p[t],n=y(t,0,"hex");return n.create=function(n,i,o){return i||o?new T(t,e,n).bytepad([i,o],r):_["shake"+t].create(n)},n.update=function(t,e,r,i){return n.create(e,r,i).update(t)},b(n,y,t,e)}},{name:"kmac",padding:u,bits:f,createMethod:function(t,e){var r=p[t],n=v(t,0,"hex");return n.create=function(n,i,o){return new $(t,e,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(t,e,r,i){return n.create(t,r,i).update(e)},b(n,v,t,e)}}],_={},A=[],x=0;x<E.length;++x)for(var k=E[x],N=k.bits,M=0;M<N.length;++M){var S=k.name+"_"+N[M];if(A.push(S),_[S]=k.createMethod(N[M],k.padding),"sha3"!==k.name){var P=k.name+N[M];A.push(P),_[P]=_[S]}}function T(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function $(t,e,r){T.call(this,t,e,r)}T.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(s&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||s&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}for(var i,o,a=this.blocks,u=this.byteCount,c=t.length,h=this.blockCount,f=0,d=this.s;f<c;){if(this.reset)for(this.reset=!1,a[0]=this.block,i=1;i<h+1;++i)a[i]=0;if(r)for(i=this.start;f<c&&i<u;++f)a[i>>2]|=t[f]<<l[3&i++];else for(i=this.start;f<c&&i<u;++f)(o=t.charCodeAt(f))<128?a[i>>2]|=o<<l[3&i++]:o<2048?(a[i>>2]|=(192|o>>6)<<l[3&i++],a[i>>2]|=(128|63&o)<<l[3&i++]):o<55296||o>=57344?(a[i>>2]|=(224|o>>12)<<l[3&i++],a[i>>2]|=(128|o>>6&63)<<l[3&i++],a[i>>2]|=(128|63&o)<<l[3&i++]):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++f)),a[i>>2]|=(240|o>>18)<<l[3&i++],a[i>>2]|=(128|o>>12&63)<<l[3&i++],a[i>>2]|=(128|o>>6&63)<<l[3&i++],a[i>>2]|=(128|63&o)<<l[3&i++]);if(this.lastByteIndex=i,i>=u){for(this.start=i-u,this.block=a[h],i=0;i<h;++i)d[i]^=a[i];R(d),this.reset=!0}else this.start=i}return this},T.prototype.encode=function(t,e){var r=255&t,n=1,i=[r];for(r=255&(t>>=8);r>0;)i.unshift(r),r=255&(t>>=8),++n;return e?i.push(n):i.unshift(n),this.update(i),i.length},T.prototype.encodeString=function(t){var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(s&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||s&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}var i=0,o=t.length;if(r)i=o;else for(var a=0;a<t.length;++a){var u=t.charCodeAt(a);u<128?i+=1:u<2048?i+=2:u<55296||u>=57344?i+=3:(u=65536+((1023&u)<<10|1023&t.charCodeAt(++a)),i+=4)}return i+=this.encode(8*i),this.update(t),i},T.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var i=e-r%e,o=[];return o.length=i,this.update(o),this},T.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];R(n)}},T.prototype.toString=T.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,u="";s<n;){for(o=0;o<e&&s<n;++o,++s)t=r[o],u+=a[t>>4&15]+a[15&t]+a[t>>12&15]+a[t>>8&15]+a[t>>20&15]+a[t>>16&15]+a[t>>28&15]+a[t>>24&15];s%e==0&&(R(r),o=0)}return i&&(t=r[o],u+=a[t>>4&15]+a[15&t],i>1&&(u+=a[t>>12&15]+a[t>>8&15]),i>2&&(u+=a[t>>20&15]+a[t>>16&15])),u},T.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var u=new Uint32Array(t);s<n;){for(o=0;o<e&&s<n;++o,++s)u[s]=r[o];s%e==0&&R(r)}return i&&(u[o]=r[o],t=t.slice(0,a)),t},T.prototype.buffer=T.prototype.arrayBuffer,T.prototype.digest=T.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,u=[];a<i;){for(s=0;s<r&&a<i;++s,++a)t=a<<2,e=n[s],u[t]=255&e,u[t+1]=e>>8&255,u[t+2]=e>>16&255,u[t+3]=e>>24&255;a%r==0&&R(n)}return o&&(t=a<<2,e=n[s],u[t]=255&e,o>1&&(u[t+1]=e>>8&255),o>2&&(u[t+2]=e>>16&255)),u},$.prototype=new T,$.prototype.finalize=function(){return this.encode(this.outputBits,!0),T.prototype.finalize.call(this)};var R=function(t){var e,r,n,i,o,s,a,u,l,h,f,d,p,m,g,y,v,b,w,E,_,A,x,k,N,M,S,P,T,$,R,I,O,B,C,F,L,U,j,D,z,q,G,V,H,W,J,K,X,Z,Y,Q,tt,et,rt,nt,it,ot,st,at,ut,lt,ct;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],o=t[1]^t[11]^t[21]^t[31]^t[41],s=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],u=t[4]^t[14]^t[24]^t[34]^t[44],l=t[5]^t[15]^t[25]^t[35]^t[45],h=t[6]^t[16]^t[26]^t[36]^t[46],f=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(s<<1|a>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|s>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(u<<1|l>>>31),r=o^(l<<1|u>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=s^(h<<1|f>>>31),r=a^(f<<1|h>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=u^(d<<1|p>>>31),r=l^(p<<1|d>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=h^(i<<1|o>>>31),r=f^(o<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,m=t[0],g=t[1],W=t[11]<<4|t[10]>>>28,J=t[10]<<4|t[11]>>>28,P=t[20]<<3|t[21]>>>29,T=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ut=t[30]<<9|t[31]>>>23,q=t[40]<<18|t[41]>>>14,G=t[41]<<18|t[40]>>>14,B=t[2]<<1|t[3]>>>31,C=t[3]<<1|t[2]>>>31,y=t[13]<<12|t[12]>>>20,v=t[12]<<12|t[13]>>>20,K=t[22]<<10|t[23]>>>22,X=t[23]<<10|t[22]>>>22,$=t[33]<<13|t[32]>>>19,R=t[32]<<13|t[33]>>>19,lt=t[42]<<2|t[43]>>>30,ct=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,F=t[14]<<6|t[15]>>>26,L=t[15]<<6|t[14]>>>26,b=t[25]<<11|t[24]>>>21,w=t[24]<<11|t[25]>>>21,Z=t[34]<<15|t[35]>>>17,Y=t[35]<<15|t[34]>>>17,I=t[45]<<29|t[44]>>>3,O=t[44]<<29|t[45]>>>3,k=t[6]<<28|t[7]>>>4,N=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,U=t[26]<<25|t[27]>>>7,j=t[27]<<25|t[26]>>>7,E=t[36]<<21|t[37]>>>11,_=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,V=t[8]<<27|t[9]>>>5,H=t[9]<<27|t[8]>>>5,M=t[18]<<20|t[19]>>>12,S=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,st=t[28]<<7|t[29]>>>25,D=t[38]<<8|t[39]>>>24,z=t[39]<<8|t[38]>>>24,A=t[48]<<14|t[49]>>>18,x=t[49]<<14|t[48]>>>18,t[0]=m^~y&b,t[1]=g^~v&w,t[10]=k^~M&P,t[11]=N^~S&T,t[20]=B^~F&U,t[21]=C^~L&j,t[30]=V^~W&K,t[31]=H^~J&X,t[40]=et^~nt&ot,t[41]=rt^~it&st,t[2]=y^~b&E,t[3]=v^~w&_,t[12]=M^~P&$,t[13]=S^~T&R,t[22]=F^~U&D,t[23]=L^~j&z,t[32]=W^~K&Z,t[33]=J^~X&Y,t[42]=nt^~ot&at,t[43]=it^~st&ut,t[4]=b^~E&A,t[5]=w^~_&x,t[14]=P^~$&I,t[15]=T^~R&O,t[24]=U^~D&q,t[25]=j^~z&G,t[34]=K^~Z&Q,t[35]=X^~Y&tt,t[44]=ot^~at&lt,t[45]=st^~ut&ct,t[6]=E^~A&m,t[7]=_^~x&g,t[16]=$^~I&k,t[17]=R^~O&N,t[26]=D^~q&B,t[27]=z^~G&C,t[36]=Z^~Q&V,t[37]=Y^~tt&H,t[46]=at^~lt&et,t[47]=ut^~ct&rt,t[8]=A^~m&y,t[9]=x^~g&v,t[18]=I^~k&M,t[19]=O^~N&S,t[28]=q^~B&F,t[29]=G^~C&L,t[38]=Q^~V&W,t[39]=tt^~H&J,t[48]=lt^~et&nt,t[49]=ct^~rt&it,t[0]^=c[n],t[1]^=c[n+1]};if(o)t.exports=_;else for(x=0;x<A.length;++x)n[A[x]]=_[A[x]]}()})),Si=Mi;function Pi(t){return"0x"+Si.keccak_256(sn(t))}const Ti=new Yr("rlp/5.6.0");function $i(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function Ri(t,e,r){let n=0;for(let i=0;i<r;i++)n=256*n+t[e+i];return n}function Ii(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(Ii(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=$i(e.length);return r.unshift(247+r.length),r.concat(e)}rn(t)||Ti.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(sn(t));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=$i(e.length);return r.unshift(183+r.length),r.concat(e)}function Oi(t){return hn(Ii(t))}function Bi(t,e,r,n){const i=[];for(;r<e+1+n;){const o=Ci(t,r);i.push(o.result),(r+=o.consumed)>e+1+n&&Ti.throwError("child data too short",Yr.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function Ci(t,e){if(0===t.length&&Ti.throwError("data too short",Yr.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&Ti.throwError("data short segment too short",Yr.errors.BUFFER_OVERRUN,{});const n=Ri(t,e+1,r);return e+1+r+n>t.length&&Ti.throwError("data long segment too short",Yr.errors.BUFFER_OVERRUN,{}),Bi(t,e,e+1+r,r+n)}if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&Ti.throwError("data array too short",Yr.errors.BUFFER_OVERRUN,{}),Bi(t,e,e+1,r)}if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&Ti.throwError("data array too short",Yr.errors.BUFFER_OVERRUN,{});const n=Ri(t,e+1,r);e+1+r+n>t.length&&Ti.throwError("data array too short",Yr.errors.BUFFER_OVERRUN,{});return{consumed:1+r+n,result:hn(t.slice(e+1+r,e+1+r+n))}}if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&Ti.throwError("data too short",Yr.errors.BUFFER_OVERRUN,{});return{consumed:1+r,result:hn(t.slice(e+1,e+1+r))}}return{consumed:1,result:hn(t[e])}}function Fi(t){const e=sn(t),r=Ci(e,0);return r.consumed!==e.length&&Ti.throwArgumentError("invalid rlp data","data",t),r.result}const Li=new Yr("address/5.6.0");function Ui(t){ln(t,20)||Li.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const n=sn(Pi(r));for(let t=0;t<40;t+=2)n[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&n[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const ji={};for(let t=0;t<10;t++)ji[String(t)]=String(t);for(let t=0;t<26;t++)ji[String.fromCharCode(65+t)]=String(10+t);const Di=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function zi(t){let e=null;if("string"!=typeof t&&Li.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=Ui(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Li.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>ji[t])).join("");for(;e.length>=Di;){let t=e.substring(0,Di);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&Li.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new bn(r,36).toString(16);e.length<40;)e="0"+e;e=Ui("0x"+e)}else Li.throwArgumentError("invalid address","address",t);var r;return e}function qi(t){let e=null;try{e=zi(t.from)}catch(e){Li.throwArgumentError("missing from address","transaction",t)}return zi(dn(Pi(Oi([e,un(sn(xn.from(t.nonce).toHexString()))])),12))}class Gi extends xi{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){try{e=zi(e)}catch(t){this._throwError(t.message,e)}return t.writeValue(e)}decode(t){return zi(gn(t.readValue().toHexString(),20))}}class Vi extends xi{constructor(t){super(t.name,t.type,void 0,t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}const Hi=new Yr(Qn);function Wi(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let t={};n=e.map((e=>{const n=e.localName;return n||Hi.throwError("cannot encode object for signature with missing names",Yr.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[n]&&Hi.throwError("cannot encode object for signature with duplicate names",Yr.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[n]=!0,r[n]}))}else Hi.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&Hi.throwArgumentError("types/value length mismatch","tuple",r);let i=new ki(t.wordSize),o=new ki(t.wordSize),s=[];e.forEach(((t,e)=>{let r=n[e];if(t.dynamic){let e=o.length;t.encode(o,r);let n=i.writeUpdatableValue();s.push((t=>{n(t+e)}))}else t.encode(i,r)})),s.forEach((t=>{t(i.length)}));let a=t.appendWriter(i);return a+=t.appendWriter(o),a}function Ji(t,e){let r=[],n=t.subReader(0);e.forEach((e=>{let i=null;if(e.dynamic){let r=t.readValue(),o=n.subReader(r.toNumber());try{i=e.decode(o)}catch(t){if(t.code===Yr.errors.BUFFER_OVERRUN)throw t;i=t,i.baseType=e.name,i.name=e.localName,i.type=e.type}}else try{i=e.decode(t)}catch(t){if(t.code===Yr.errors.BUFFER_OVERRUN)throw t;i=t,i.baseType=e.name,i.name=e.localName,i.type=e.type}null!=i&&r.push(i)}));const i=e.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});e.forEach(((t,e)=>{let n=t.localName;if(!n||1!==i[n])return;if("length"===n&&(n="_length"),null!=r[n])return;const o=r[e];o instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw o}}):r[n]=o}));for(let t=0;t<r.length;t++){const e=r[t];e instanceof Error&&Object.defineProperty(r,t,{enumerable:!0,get:()=>{throw e}})}return Object.freeze(r)}class Ki extends xi{constructor(t,e,r){super("array",t.type+"["+(e>=0?e:"")+"]",r,-1===e||t.dynamic),this.coder=t,this.length=e}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let r=0;r<this.length;r++)e.push(t);return e}encode(t,e){Array.isArray(e)||this._throwError("expected array value",e);let r=this.length;-1===r&&(r=e.length,t.writeValue(e.length)),Hi.checkArgumentCount(e.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let t=0;t<e.length;t++)n.push(this.coder);return Wi(t,n,e)}decode(t){let e=this.length;-1===e&&(e=t.readValue().toNumber(),32*e>t._data.length&&Hi.throwError("insufficient data length",Yr.errors.BUFFER_OVERRUN,{length:t._data.length,count:e}));let r=[];for(let t=0;t<e;t++)r.push(new Vi(this.coder));return t.coerce(this.name,Ji(t,r))}}class Xi extends xi{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){return t.writeValue(e?1:0)}decode(t){return t.coerce(this.type,!t.readValue().isZero())}}class Zi extends xi{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=sn(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readValue().toNumber(),!0)}}class Yi extends Zi{constructor(t){super("bytes",t)}decode(t){return t.coerce(this.name,hn(super.decode(t)))}}class Qi extends xi{constructor(t,e){let r="bytes"+String(t);super(r,r,e,!1),this.size=t}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let r=sn(e);return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}decode(t){return t.coerce(this.name,hn(t.readBytes(this.size)))}}class to extends xi{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes([])}decode(t){return t.readBytes(0),t.coerce(this.name,null)}}const eo=xn.from(-1),ro=xn.from(0),no=xn.from(1),io=xn.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class oo extends xi{constructor(t,e,r){const n=(e?"int":"uint")+8*t;super(n,n,r,!1),this.size=t,this.signed=e}defaultValue(){return 0}encode(t,e){let r=xn.from(e),n=io.mask(8*t.wordSize);if(this.signed){let t=n.mask(8*this.size-1);(r.gt(t)||r.lt(t.add(no).mul(eo)))&&this._throwError("value out-of-bounds",e)}else(r.lt(ro)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",e);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*t.wordSize)),t.writeValue(r)}decode(t){let e=t.readValue().mask(8*this.size);return this.signed&&(e=e.fromTwos(8*this.size)),t.coerce(this.name,e)}}const so=new Yr("strings/5.6.0");var ao,uo;function lo(t,e,r,n,i){if(t===uo.BAD_PREFIX||t===uo.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return t===uo.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(ao||(ao={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(uo||(uo={}));const co=Object.freeze({error:function(t,e,r,n,i){return so.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:lo,replace:function(t,e,r,n,i){return t===uo.OVERLONG?(n.push(i),0):(n.push(65533),lo(t,e,r))}});function ho(t,e){null==e&&(e=co.error),t=sn(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7==0){r.push(i);continue}let o=null,s=null;if(192==(224&i))o=1,s=127;else if(224==(240&i))o=2,s=2047;else{if(240!=(248&i)){n+=e(128==(192&i)?uo.UNEXPECTED_CONTINUE:uo.BAD_PREFIX,n-1,t,r);continue}o=3,s=65535}if(n-1+o>=t.length){n+=e(uo.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-o-1)-1;for(let i=0;i<o;i++){let i=t[n];if(128!=(192&i)){n+=e(uo.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=e(uo.OUT_OF_RANGE,n-1-o,t,r,a):a>=55296&&a<=57343?n+=e(uo.UTF16_SURROGATE,n-1-o,t,r,a):a<=s?n+=e(uo.OVERLONG,n-1-o,t,r,a):r.push(a))}return r}function fo(t,e=ao.current){e!=ao.current&&(so.checkNormalize(),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){e++;const i=t.charCodeAt(e);if(e>=t.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&n)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return sn(r)}function po(t){return t.map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}function mo(t,e){return po(ho(t,e))}function go(t,e=ao.current){return ho(fo(t,e))}function yo(t,e){e||(e=function(t){return[parseInt(t,16)]});let r=0,n={};return t.split(",").forEach((t=>{let i=t.split(":");r+=parseInt(i[0],16),n[r]=e(i[1])})),n}function vo(t){let e=0;return t.split(",").map((t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:n,h:e}}))}function bo(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)==0){if(i.e&&-1!==i.e.indexOf(t-r))continue;return i}}return null}const wo=vo("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Eo="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((t=>parseInt(t,16))),_o=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Ao=yo("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),xo=yo("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),ko=yo("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!=0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),No=vo("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Mo(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=go(t);var r;r=e.map((t=>{if(Eo.indexOf(t)>=0)return[];if(t>=65024&&t<=65039)return[];let e=function(t){let e=bo(t,_o);if(e)return[t+e.s];let r=Ao[t];if(r)return r;let n=xo[t];return n?[t+n[0]]:ko[t]||null}(t);return e||[t]})),e=r.reduce(((t,e)=>(e.forEach((e=>{t.push(e)})),t)),[]),e=go(po(e),ao.NFKC),e.forEach((t=>{if(bo(t,No))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),e.forEach((t=>{if(bo(t,wo))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));let n=po(e);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");if(n.length>63)throw new Error("too long");return n}class So extends Zi{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,fo(e))}decode(t){return mo(super.decode(t))}}class Po extends xi{constructor(t,e){let r=!1;const n=[];t.forEach((t=>{t.dynamic&&(r=!0),n.push(t.type)}));super("tuple","tuple("+n.join(",")+")",e,r),this.coders=t}defaultValue(){const t=[];this.coders.forEach((e=>{t.push(e.defaultValue())}));const e=this.coders.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});return this.coders.forEach(((r,n)=>{let i=r.localName;i&&1===e[i]&&("length"===i&&(i="_length"),null==t[i]&&(t[i]=t[n]))})),Object.freeze(t)}encode(t,e){return Wi(t,this.coders,e)}decode(t){return t.coerce(this.name,Ji(t,this.coders))}}const To=new Yr(Qn),$o=new RegExp(/^bytes([0-9]*)$/),Ro=new RegExp(/^(u?int)([0-9]*)$/);class Io{constructor(t){To.checkNew(new.target,Io),Gn(this,"coerceFunc",t||null)}_getCoder(t){switch(t.baseType){case"address":return new Gi(t.name);case"bool":return new Xi(t.name);case"string":return new So(t.name);case"bytes":return new Yi(t.name);case"array":return new Ki(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new Po((t.components||[]).map((t=>this._getCoder(t))),t.name);case"":return new to(t.name)}let e=t.type.match(Ro);if(e){let r=parseInt(e[2]||"256");return(0===r||r>256||r%8!=0)&&To.throwArgumentError("invalid "+e[1]+" bit length","param",t),new oo(r/8,"int"===e[1],t.name)}if(e=t.type.match($o),e){let r=parseInt(e[1]);return(0===r||r>32)&&To.throwArgumentError("invalid bytes length","param",t),new Qi(r,t.name)}return To.throwArgumentError("invalid type","type",t.type)}_getWordSize(){return 32}_getReader(t,e){return new Ni(t,this._getWordSize(),this.coerceFunc,e)}_getWriter(){return new ki(this._getWordSize())}getDefaultValue(t){const e=t.map((t=>this._getCoder(ui.from(t))));return new Po(e,"_").defaultValue()}encode(t,e){t.length!==e.length&&To.throwError("types/values length mismatch",Yr.errors.INVALID_ARGUMENT,{count:{types:t.length,values:e.length},value:{types:t,values:e}});const r=t.map((t=>this._getCoder(ui.from(t)))),n=new Po(r,"_"),i=this._getWriter();return n.encode(i,e),i.data}decode(t,e,r){const n=t.map((t=>this._getCoder(ui.from(t))));return new Po(n,"_").decode(this._getReader(sn(e),r))}}const Oo=new Io;function Bo(t){return Pi(fo(t))}const Co="hash/5.6.0",Fo=new Yr(Co),Lo=new Uint8Array(32);Lo.fill(0);const Uo=new RegExp("^((.*)\\.)?([^.]+)$");function jo(t){"string"!=typeof t&&Fo.throwArgumentError("invalid ENS name; not a string","name",t);let e=t,r=Lo;for(;e.length;){const n=e.match(Uo);null!=n&&""!==n[2]||Fo.throwArgumentError("invalid ENS address; missing component","name",t);r=Pi(an([r,Pi(fo(Mo(n[3])))])),e=n[2]||""}return hn(r)}var Do=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const zo=new Yr(Co),qo=new Uint8Array(32);qo.fill(0);const Go=xn.from(-1),Vo=xn.from(0),Ho=xn.from(1),Wo=xn.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Jo=gn(Ho.toHexString(),32),Ko=gn(Vo.toHexString(),32),Xo={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Zo=["name","version","chainId","verifyingContract","salt"];function Yo(t){return function(e){return"string"!=typeof e&&zo.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Qo={name:Yo("name"),version:Yo("version"),chainId:function(t){try{return xn.from(t).toString()}catch(t){}return zo.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return zi(t).toLowerCase()}catch(t){}return zo.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=sn(t);if(32!==e.length)throw new Error("bad length");return hn(e)}catch(t){}return zo.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function ts(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=""===e[1],n=parseInt(e[2]||"256");(n%8!=0||n>256||e[2]&&e[2]!==String(n))&&zo.throwArgumentError("invalid numeric width","type",t);const i=Wo.mask(r?n-1:n),o=r?i.add(Ho).mul(Go):Vo;return function(e){const r=xn.from(e);return(r.lt(o)||r.gt(i))&&zo.throwArgumentError(`value out-of-bounds for ${t}`,"value",e),gn(r.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(0===r||r>32||e[1]!==String(r))&&zo.throwArgumentError("invalid bytes width","type",t),function(e){return sn(e).length!==r&&zo.throwArgumentError(`invalid length for ${t}`,"value",e),function(t){const e=sn(t),r=e.length%32;return r?pn([e,qo.slice(r)]):hn(e)}(e)}}}switch(t){case"address":return function(t){return gn(zi(t),32)};case"bool":return function(t){return t?Jo:Ko};case"bytes":return function(t){return Pi(t)};case"string":return function(t){return Bo(t)}}return null}function es(t,e){return`${t}(${e.map((({name:t,type:e})=>e+" "+t)).join(",")})`}class rs{constructor(t){Gn(this,"types",Object.freeze(Zn(t))),Gn(this,"_encoderCache",{}),Gn(this,"_types",{});const e={},r={},n={};Object.keys(t).forEach((t=>{e[t]={},r[t]=[],n[t]={}}));for(const n in t){const i={};t[n].forEach((o=>{i[o.name]&&zo.throwArgumentError(`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(n)}`,"types",t),i[o.name]=!0;const s=o.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===n&&zo.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",t);ts(s)||(r[s]||zo.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",t),r[s].push(n),e[n][s]=!0)}))}const i=Object.keys(r).filter((t=>0===r[t].length));0===i.length?zo.throwArgumentError("missing primary type","types",t):i.length>1&&zo.throwArgumentError(`ambiguous primary types or unused types: ${i.map((t=>JSON.stringify(t))).join(", ")}`,"types",t),Gn(this,"primaryType",i[0]),function i(o,s){s[o]&&zo.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",t),s[o]=!0,Object.keys(e[o]).forEach((t=>{r[t]&&(i(t,s),Object.keys(s).forEach((e=>{n[e][t]=!0})))})),delete s[o]}(this.primaryType,{});for(const e in n){const r=Object.keys(n[e]);r.sort(),this._types[e]=es(e,t[e])+r.map((e=>es(e,t[e]))).join("")}}getEncoder(t){let e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}_getEncoder(t){{const e=ts(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],r=this.getEncoder(t),n=parseInt(e[3]);return e=>{n>=0&&e.length!==n&&zo.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);let i=e.map(r);return this._types[t]&&(i=i.map(Pi)),Pi(pn(i))}}const r=this.types[t];if(r){const e=Bo(this._types[t]);return t=>{const n=r.map((({name:e,type:r})=>{const n=this.getEncoder(r)(t[e]);return this._types[r]?Pi(n):n}));return n.unshift(e),pn(n)}}return zo.throwArgumentError(`unknown type: ${t}`,"type",t)}encodeType(t){const e=this._types[t];return e||zo.throwArgumentError(`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return Pi(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(ts(t))return r(t,e);const n=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const t=n[1],i=parseInt(n[3]);return i>=0&&e.length!==i&&zo.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map((e=>this._visit(t,e,r)))}const i=this.types[t];return i?i.reduce(((t,{name:n,type:i})=>(t[n]=this._visit(i,e[n],r),t)),{}):zo.throwArgumentError(`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new rs(t)}static getPrimaryType(t){return rs.from(t).primaryType}static hashStruct(t,e,r){return rs.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){const n=Xo[r];n||zo.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",t),e.push({name:r,type:n})}return e.sort(((t,e)=>Zo.indexOf(t.name)-Zo.indexOf(e.name))),rs.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return pn(["0x1901",rs.hashDomain(t),rs.from(e).hash(r)])}static hash(t,e,r){return Pi(rs.encode(t,e,r))}static resolveNames(t,e,r,n){return Do(this,void 0,void 0,(function*(){t=Wn(t);const i={};t.verifyingContract&&!ln(t.verifyingContract,20)&&(i[t.verifyingContract]="0x");const o=rs.from(e);o.visit(r,((t,e)=>("address"!==t||ln(e,20)||(i[e]="0x"),e)));for(const t in i)i[t]=yield n(t);return t.verifyingContract&&i[t.verifyingContract]&&(t.verifyingContract=i[t.verifyingContract]),r=o.visit(r,((t,e)=>"address"===t&&i[e]?i[e]:e)),{domain:t,value:r}}))}static getPayload(t,e,r){rs.hashDomain(t);const n={},i=[];Zo.forEach((e=>{const r=t[e];null!=r&&(n[e]=Qo[e](r),i.push({name:e,type:Xo[e]}))}));const o=rs.from(e),s=Wn(e);return s.EIP712Domain?zo.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):s.EIP712Domain=i,o.encode(r),{types:s,domain:n,primaryType:o.primaryType,message:o.visit(r,((t,e)=>{if(t.match(/^bytes(\d*)/))return hn(sn(e));if(t.match(/^u?int/))return xn.from(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return"string"!=typeof e&&zo.throwArgumentError("invalid string","value",e),e}return zo.throwArgumentError("unsupported type","type",t)}))}}}const ns=new Yr(Qn);class is extends Yn{}class os extends Yn{}class ss extends Yn{}class as extends Yn{static isIndexed(t){return!(!t||!t._isIndexed)}}const us={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function ls(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class cs{constructor(t){ns.checkNew(new.target,cs);let e=[];e="string"==typeof t?JSON.parse(t):t,Gn(this,"fragments",e.map((t=>ci.from(t))).filter((t=>null!=t))),Gn(this,"_abiCoder",Vn(new.target,"getAbiCoder")()),Gn(this,"functions",{}),Gn(this,"errors",{}),Gn(this,"events",{}),Gn(this,"structs",{}),this.fragments.forEach((t=>{let e=null;switch(t.type){case"constructor":return this.deploy?void ns.warn("duplicate definition - constructor"):void Gn(this,"deploy",t);case"function":e=this.functions;break;case"event":e=this.events;break;case"error":e=this.errors;break;default:return}let r=t.format();e[r]?ns.warn("duplicate definition - "+r):e[r]=t})),this.deploy||Gn(this,"deploy",mi.from({payable:!1,type:"constructor"})),Gn(this,"_isInterface",!0)}format(t){t||(t=si.full),t===si.sighash&&ns.throwArgumentError("interface does not support formatting sighash","format",t);const e=this.fragments.map((e=>e.format(t)));return t===si.json?JSON.stringify(e.map((t=>JSON.parse(t)))):e}static getAbiCoder(){return Oo}static getAddress(t){return zi(t)}static getSighash(t){return dn(Bo(t.format()),0,4)}static getEventTopic(t){return Bo(t.format())}getFunction(t){if(ln(t)){for(const e in this.functions)if(t===this.getSighash(e))return this.functions[e];ns.throwArgumentError("no matching function","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.functions).filter((t=>t.split("(")[0]===e));return 0===r.length?ns.throwArgumentError("no matching function","name",e):r.length>1&&ns.throwArgumentError("multiple matching functions","name",e),this.functions[r[0]]}const e=this.functions[gi.fromString(t).format()];return e||ns.throwArgumentError("no matching function","signature",t),e}getEvent(t){if(ln(t)){const e=t.toLowerCase();for(const t in this.events)if(e===this.getEventTopic(t))return this.events[t];ns.throwArgumentError("no matching event","topichash",e)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.events).filter((t=>t.split("(")[0]===e));return 0===r.length?ns.throwArgumentError("no matching event","name",e):r.length>1&&ns.throwArgumentError("multiple matching events","name",e),this.events[r[0]]}const e=this.events[hi.fromString(t).format()];return e||ns.throwArgumentError("no matching event","signature",t),e}getError(t){if(ln(t)){const e=Vn(this.constructor,"getSighash");for(const r in this.errors){if(t===e(this.errors[r]))return this.errors[r]}ns.throwArgumentError("no matching error","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.errors).filter((t=>t.split("(")[0]===e));return 0===r.length?ns.throwArgumentError("no matching error","name",e):r.length>1&&ns.throwArgumentError("multiple matching errors","name",e),this.errors[r[0]]}const e=this.errors[gi.fromString(t).format()];return e||ns.throwArgumentError("no matching error","signature",t),e}getSighash(t){if("string"==typeof t)try{t=this.getFunction(t)}catch(e){try{t=this.getError(t)}catch(t){throw e}}return Vn(this.constructor,"getSighash")(t)}getEventTopic(t){return"string"==typeof t&&(t=this.getEvent(t)),Vn(this.constructor,"getEventTopic")(t)}_decodeParams(t,e){return this._abiCoder.decode(t,e)}_encodeParams(t,e){return this._abiCoder.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){"string"==typeof t&&(t=this.getError(t));const r=sn(e);return hn(r.slice(0,4))!==this.getSighash(t)&&ns.throwArgumentError(`data signature does not match error ${t.name}.`,"data",hn(r)),this._decodeParams(t.inputs,r.slice(4))}encodeErrorResult(t,e){return"string"==typeof t&&(t=this.getError(t)),hn(an([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionData(t,e){"string"==typeof t&&(t=this.getFunction(t));const r=sn(e);return hn(r.slice(0,4))!==this.getSighash(t)&&ns.throwArgumentError(`data signature does not match function ${t.name}.`,"data",hn(r)),this._decodeParams(t.inputs,r.slice(4))}encodeFunctionData(t,e){return"string"==typeof t&&(t=this.getFunction(t)),hn(an([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionResult(t,e){"string"==typeof t&&(t=this.getFunction(t));let r=sn(e),n=null,i=null,o=null,s=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(t.outputs,r)}catch(t){}break;case 4:{const t=hn(r.slice(0,4)),e=us[t];if(e)i=this._abiCoder.decode(e.inputs,r.slice(4)),o=e.name,s=e.signature,e.reason&&(n=i[0]);else try{const e=this.getError(t);i=this._abiCoder.decode(e.inputs,r.slice(4)),o=e.name,s=e.format()}catch(t){}break}}return ns.throwError("call revert exception",Yr.errors.CALL_EXCEPTION,{method:t.format(),errorArgs:i,errorName:o,errorSignature:s,reason:n})}encodeFunctionResult(t,e){return"string"==typeof t&&(t=this.getFunction(t)),hn(this._abiCoder.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){"string"==typeof t&&(t=this.getEvent(t)),e.length>t.inputs.length&&ns.throwError("too many arguments for "+t.format(),Yr.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:e});let r=[];t.anonymous||r.push(this.getEventTopic(t));const n=(t,e)=>"string"===t.type?Bo(e):"bytes"===t.type?Pi(hn(e)):("address"===t.type&&this._abiCoder.encode(["address"],[e]),gn(hn(e),32));for(e.forEach(((e,i)=>{let o=t.inputs[i];o.indexed?null==e?r.push(null):"array"===o.baseType||"tuple"===o.baseType?ns.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,e):Array.isArray(e)?r.push(e.map((t=>n(o,t)))):r.push(n(o,e)):null!=e&&ns.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,e)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(t,e){"string"==typeof t&&(t=this.getEvent(t));const r=[],n=[],i=[];return t.anonymous||r.push(this.getEventTopic(t)),e.length!==t.inputs.length&&ns.throwArgumentError("event arguments/values mismatch","values",e),t.inputs.forEach(((t,o)=>{const s=e[o];if(t.indexed)if("string"===t.type)r.push(Bo(s));else if("bytes"===t.type)r.push(Pi(s));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([t.type],[s]))}else n.push(t),i.push(s)})),{data:this._abiCoder.encode(n,i),topics:r}}decodeEventLog(t,e,r){if("string"==typeof t&&(t=this.getEvent(t)),null!=r&&!t.anonymous){let e=this.getEventTopic(t);ln(r[0],32)&&r[0].toLowerCase()===e||ns.throwError("fragment/topic mismatch",Yr.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:e,value:r[0]}),r=r.slice(1)}let n=[],i=[],o=[];t.inputs.forEach(((t,e)=>{t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(n.push(ui.fromObject({type:"bytes32",name:t.name})),o.push(!0)):(n.push(t),o.push(!1)):(i.push(t),o.push(!1))}));let s=null!=r?this._abiCoder.decode(n,an(r)):null,a=this._abiCoder.decode(i,e,!0),u=[],l=0,c=0;t.inputs.forEach(((t,e)=>{if(t.indexed)if(null==s)u[e]=new as({_isIndexed:!0,hash:null});else if(o[e])u[e]=new as({_isIndexed:!0,hash:s[c++]});else try{u[e]=s[c++]}catch(t){u[e]=t}else try{u[e]=a[l++]}catch(t){u[e]=t}if(t.name&&null==u[t.name]){const r=u[e];r instanceof Error?Object.defineProperty(u,t.name,{enumerable:!0,get:()=>{throw ls(`property ${JSON.stringify(t.name)}`,r)}}):u[t.name]=r}}));for(let t=0;t<u.length;t++){const e=u[t];e instanceof Error&&Object.defineProperty(u,t,{enumerable:!0,get:()=>{throw ls(`index ${t}`,e)}})}return Object.freeze(u)}parseTransaction(t){let e=this.getFunction(t.data.substring(0,10).toLowerCase());return e?new os({args:this._abiCoder.decode(e.inputs,"0x"+t.data.substring(10)),functionFragment:e,name:e.name,signature:e.format(),sighash:this.getSighash(e),value:xn.from(t.value||"0")}):null}parseLog(t){let e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new is({eventFragment:e,name:e.name,signature:e.format(),topic:this.getEventTopic(e),args:this.decodeEventLog(e,t.data,t.topics)})}parseError(t){const e=hn(t);let r=this.getError(e.substring(0,10).toLowerCase());return r?new ss({args:this._abiCoder.decode(r.inputs,"0x"+e.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(t){return!(!t||!t._isInterface)}}var hs=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const fs=new Yr("abstract-provider/5.6.0");class ds extends Yn{static isForkEvent(t){return!(!t||!t._isForkEvent)}}class ps{constructor(){fs.checkAbstract(new.target,ps),Gn(this,"_isProvider",!0)}getFeeData(){return hs(this,void 0,void 0,(function*(){const{block:t,gasPrice:e}=yield Hn({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((t=>null))});let r=null,n=null;return t&&t.baseFeePerGas&&(n=xn.from("1500000000"),r=t.baseFeePerGas.mul(2).add(n)),{maxFeePerGas:r,maxPriorityFeePerGas:n,gasPrice:e}}))}addListener(t,e){return this.on(t,e)}removeListener(t,e){return this.off(t,e)}static isProvider(t){return!(!t||!t._isProvider)}}var ms=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const gs=new Yr("abstract-signer/5.6.0"),ys=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],vs=[Yr.errors.INSUFFICIENT_FUNDS,Yr.errors.NONCE_EXPIRED,Yr.errors.REPLACEMENT_UNDERPRICED];class bs{constructor(){gs.checkAbstract(new.target,bs),Gn(this,"_isSigner",!0)}getBalance(t){return ms(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)}))}getTransactionCount(t){return ms(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)}))}estimateGas(t){return ms(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const e=yield Hn(this.checkTransaction(t));return yield this.provider.estimateGas(e)}))}call(t,e){return ms(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield Hn(this.checkTransaction(t));return yield this.provider.call(r,e)}))}sendTransaction(t){return ms(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const e=yield this.populateTransaction(t),r=yield this.signTransaction(e);return yield this.provider.sendTransaction(r)}))}getChainId(){return ms(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return ms(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return ms(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(t){return ms(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)}))}checkTransaction(t){for(const e in t)-1===ys.indexOf(e)&&gs.throwArgumentError("invalid transaction key: "+e,"transaction",t);const e=Wn(t);return null==e.from?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then((e=>(e[0].toLowerCase()!==e[1].toLowerCase()&&gs.throwArgumentError("from address mismatch","transaction",t),e[0]))),e}populateTransaction(t){return ms(this,void 0,void 0,(function*(){const e=yield Hn(this.checkTransaction(t));null!=e.to&&(e.to=Promise.resolve(e.to).then((t=>ms(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.resolveName(t);return null==e&&gs.throwArgumentError("provided ENS name resolves to null","tx.to",t),e})))),e.to.catch((t=>{})));const r=null!=e.maxFeePerGas||null!=e.maxPriorityFeePerGas;if(null==e.gasPrice||2!==e.type&&!r?0!==e.type&&1!==e.type||!r||gs.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t):gs.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t),2!==e.type&&null!=e.type||null==e.maxFeePerGas||null==e.maxPriorityFeePerGas)if(0===e.type||1===e.type)null==e.gasPrice&&(e.gasPrice=this.getGasPrice());else{const t=yield this.getFeeData();if(null==e.type)if(null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)if(e.type=2,null!=e.gasPrice){const t=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=t,e.maxPriorityFeePerGas=t}else null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas);else null!=t.gasPrice?(r&&gs.throwError("network does not support EIP-1559",Yr.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==e.gasPrice&&(e.gasPrice=t.gasPrice),e.type=0):gs.throwError("failed to get consistent fee data",Yr.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===e.type&&(null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas))}else e.type=2;return null==e.nonce&&(e.nonce=this.getTransactionCount("pending")),null==e.gasLimit&&(e.gasLimit=this.estimateGas(e).catch((t=>{if(vs.indexOf(t.code)>=0)throw t;return gs.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Yr.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,tx:e})}))),null==e.chainId?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then((e=>(0!==e[1]&&e[0]!==e[1]&&gs.throwArgumentError("chainId address mismatch","transaction",t),e[0]))),yield Hn(e)}))}_checkProvider(t){this.provider||gs.throwError("missing provider",Yr.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!(!t||!t._isSigner)}}class ws extends bs{constructor(t,e){gs.checkNew(new.target,ws),super(),Gn(this,"address",t),Gn(this,"provider",e||null)}getAddress(){return Promise.resolve(this.address)}_fail(t,e){return Promise.resolve().then((()=>{gs.throwError(t,Yr.errors.UNSUPPORTED_OPERATION,{operation:e})}))}signMessage(t){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(t){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(t,e,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(t){return new ws(this.address,t)}}var Es=_s;function _s(t,e){if(!t)throw new Error(e||"Assertion failed")}function As(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function xs(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function ks(t){return 1===t.length?"0"+t:t}function Ns(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}_s.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var Ms={inherits:jr((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),toArray:function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):As(t,i)?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},toHex:function(t){for(var e="",r=0;r<t.length;r++)e+=ks(t[r].toString(16));return e},htonl:xs,toHex32:function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=xs(i)),r+=Ns(i.toString(16))}return r},zero2:ks,zero8:Ns,join32:function(t,e,r,n){var i=r-e;Es(i%4==0);for(var o=new Array(i/4),s=0,a=e;s<o.length;s++,a+=4){var u;u="big"===n?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],o[s]=u>>>0}return o},split32:function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];"big"===e?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},rotr32:function(t,e){return t>>>e|t<<32-e},rotl32:function(t,e){return t<<e|t>>>32-e},sum32:function(t,e){return t+e>>>0},sum32_3:function(t,e,r){return t+e+r>>>0},sum32_4:function(t,e,r,n){return t+e+r+n>>>0},sum32_5:function(t,e,r,n,i){return t+e+r+n+i>>>0},sum64:function(t,e,r,n){var i=t[e],o=n+t[e+1]>>>0,s=(o<n?1:0)+r+i;t[e]=s>>>0,t[e+1]=o},sum64_hi:function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},sum64_lo:function(t,e,r,n){return e+n>>>0},sum64_4_hi:function(t,e,r,n,i,o,s,a){var u=0,l=e;return u+=(l=l+n>>>0)<e?1:0,u+=(l=l+o>>>0)<o?1:0,t+r+i+s+(u+=(l=l+a>>>0)<a?1:0)>>>0},sum64_4_lo:function(t,e,r,n,i,o,s,a){return e+n+o+a>>>0},sum64_5_hi:function(t,e,r,n,i,o,s,a,u,l){var c=0,h=e;return c+=(h=h+n>>>0)<e?1:0,c+=(h=h+o>>>0)<o?1:0,c+=(h=h+a>>>0)<a?1:0,t+r+i+s+u+(c+=(h=h+l>>>0)<l?1:0)>>>0},sum64_5_lo:function(t,e,r,n,i,o,s,a,u,l){return e+n+o+a+l>>>0},rotr64_hi:function(t,e,r){return(e<<32-r|t>>>r)>>>0},rotr64_lo:function(t,e,r){return(t<<32-r|e>>>r)>>>0},shr64_hi:function(t,e,r){return t>>>r},shr64_lo:function(t,e,r){return(t<<32-r|e>>>r)>>>0}};function Ss(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var Ps=Ss;Ss.prototype.update=function(t,e){if(t=Ms.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=Ms.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},Ss.prototype.digest=function(t){return this.update(this._pad()),Es(null===this.pending),this._digest(t)},Ss.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var Ts={BlockHash:Ps},$s=Ms.rotr32;var Rs=function(t,e,r,n){return 0===t?Is(e,r,n):1===t||3===t?Bs(e,r,n):2===t?Os(e,r,n):void 0};function Is(t,e,r){return t&e^~t&r}function Os(t,e,r){return t&e^t&r^e&r}function Bs(t,e,r){return t^e^r}var Cs=function(t){return $s(t,2)^$s(t,13)^$s(t,22)};var Fs=function(t){return $s(t,6)^$s(t,11)^$s(t,25)};var Ls=function(t){return $s(t,7)^$s(t,18)^t>>>3};var Us=function(t){return $s(t,17)^$s(t,19)^t>>>10},js={ft_1:Rs,ch32:Is,maj32:Os,p32:Bs,s0_256:Cs,s1_256:Fs,g0_256:Ls,g1_256:Us},Ds=Ms.rotl32,zs=Ms.sum32,qs=Ms.sum32_5,Gs=js.ft_1,Vs=Ts.BlockHash,Hs=[1518500249,1859775393,2400959708,3395469782];function Ws(){if(!(this instanceof Ws))return new Ws;Vs.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Ms.inherits(Ws,Vs);var Js=Ws;Ws.blockSize=512,Ws.outSize=160,Ws.hmacStrength=80,Ws.padLength=64,Ws.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=Ds(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var l=~~(n/20),c=qs(Ds(i,5),Gs(l,o,s,a),u,r[n],Hs[l]);u=a,a=s,s=Ds(o,30),o=i,i=c}this.h[0]=zs(this.h[0],i),this.h[1]=zs(this.h[1],o),this.h[2]=zs(this.h[2],s),this.h[3]=zs(this.h[3],a),this.h[4]=zs(this.h[4],u)},Ws.prototype._digest=function(t){return"hex"===t?Ms.toHex32(this.h,"big"):Ms.split32(this.h,"big")};var Ks=Ms.sum32,Xs=Ms.sum32_4,Zs=Ms.sum32_5,Ys=js.ch32,Qs=js.maj32,ta=js.s0_256,ea=js.s1_256,ra=js.g0_256,na=js.g1_256,ia=Ts.BlockHash,oa=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function sa(){if(!(this instanceof sa))return new sa;ia.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=oa,this.W=new Array(64)}Ms.inherits(sa,ia);var aa=sa;function ua(){if(!(this instanceof ua))return new ua;aa.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}sa.blockSize=512,sa.outSize=256,sa.hmacStrength=192,sa.padLength=64,sa.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=Xs(na(r[n-2]),r[n-7],ra(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],l=this.h[5],c=this.h[6],h=this.h[7];for(Es(this.k.length===r.length),n=0;n<r.length;n++){var f=Zs(h,ea(u),Ys(u,l,c),this.k[n],r[n]),d=Ks(ta(i),Qs(i,o,s));h=c,c=l,l=u,u=Ks(a,f),a=s,s=o,o=i,i=Ks(f,d)}this.h[0]=Ks(this.h[0],i),this.h[1]=Ks(this.h[1],o),this.h[2]=Ks(this.h[2],s),this.h[3]=Ks(this.h[3],a),this.h[4]=Ks(this.h[4],u),this.h[5]=Ks(this.h[5],l),this.h[6]=Ks(this.h[6],c),this.h[7]=Ks(this.h[7],h)},sa.prototype._digest=function(t){return"hex"===t?Ms.toHex32(this.h,"big"):Ms.split32(this.h,"big")},Ms.inherits(ua,aa);var la=ua;ua.blockSize=512,ua.outSize=224,ua.hmacStrength=192,ua.padLength=64,ua.prototype._digest=function(t){return"hex"===t?Ms.toHex32(this.h.slice(0,7),"big"):Ms.split32(this.h.slice(0,7),"big")};var ca=Ms.rotr64_hi,ha=Ms.rotr64_lo,fa=Ms.shr64_hi,da=Ms.shr64_lo,pa=Ms.sum64,ma=Ms.sum64_hi,ga=Ms.sum64_lo,ya=Ms.sum64_4_hi,va=Ms.sum64_4_lo,ba=Ms.sum64_5_hi,wa=Ms.sum64_5_lo,Ea=Ts.BlockHash,_a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Aa(){if(!(this instanceof Aa))return new Aa;Ea.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=_a,this.W=new Array(160)}Ms.inherits(Aa,Ea);var xa=Aa;function ka(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function Na(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function Ma(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function Sa(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function Pa(t,e){var r=ca(t,e,28)^ca(e,t,2)^ca(e,t,7);return r<0&&(r+=4294967296),r}function Ta(t,e){var r=ha(t,e,28)^ha(e,t,2)^ha(e,t,7);return r<0&&(r+=4294967296),r}function $a(t,e){var r=ca(t,e,14)^ca(t,e,18)^ca(e,t,9);return r<0&&(r+=4294967296),r}function Ra(t,e){var r=ha(t,e,14)^ha(t,e,18)^ha(e,t,9);return r<0&&(r+=4294967296),r}function Ia(t,e){var r=ca(t,e,1)^ca(t,e,8)^fa(t,e,7);return r<0&&(r+=4294967296),r}function Oa(t,e){var r=ha(t,e,1)^ha(t,e,8)^da(t,e,7);return r<0&&(r+=4294967296),r}function Ba(t,e){var r=ca(t,e,19)^ca(e,t,29)^fa(t,e,6);return r<0&&(r+=4294967296),r}function Ca(t,e){var r=ha(t,e,19)^ha(e,t,29)^da(t,e,6);return r<0&&(r+=4294967296),r}function Fa(){if(!(this instanceof Fa))return new Fa;xa.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Aa.blockSize=1024,Aa.outSize=512,Aa.hmacStrength=192,Aa.padLength=128,Aa.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=Ba(r[n-4],r[n-3]),o=Ca(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],u=Ia(r[n-30],r[n-29]),l=Oa(r[n-30],r[n-29]),c=r[n-32],h=r[n-31];r[n]=ya(i,o,s,a,u,l,c,h),r[n+1]=va(i,o,s,a,u,l,c,h)}},Aa.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],u=this.h[5],l=this.h[6],c=this.h[7],h=this.h[8],f=this.h[9],d=this.h[10],p=this.h[11],m=this.h[12],g=this.h[13],y=this.h[14],v=this.h[15];Es(this.k.length===r.length);for(var b=0;b<r.length;b+=2){var w=y,E=v,_=$a(h,f),A=Ra(h,f),x=ka(h,f,d,p,m),k=Na(h,f,d,p,m,g),N=this.k[b],M=this.k[b+1],S=r[b],P=r[b+1],T=ba(w,E,_,A,x,k,N,M,S,P),$=wa(w,E,_,A,x,k,N,M,S,P);w=Pa(n,i),E=Ta(n,i),_=Ma(n,i,o,s,a),A=Sa(n,i,o,s,a,u);var R=ma(w,E,_,A),I=ga(w,E,_,A);y=m,v=g,m=d,g=p,d=h,p=f,h=ma(l,c,T,$),f=ga(c,c,T,$),l=a,c=u,a=o,u=s,o=n,s=i,n=ma(T,$,R,I),i=ga(T,$,R,I)}pa(this.h,0,n,i),pa(this.h,2,o,s),pa(this.h,4,a,u),pa(this.h,6,l,c),pa(this.h,8,h,f),pa(this.h,10,d,p),pa(this.h,12,m,g),pa(this.h,14,y,v)},Aa.prototype._digest=function(t){return"hex"===t?Ms.toHex32(this.h,"big"):Ms.split32(this.h,"big")},Ms.inherits(Fa,xa);var La=Fa;Fa.blockSize=1024,Fa.outSize=384,Fa.hmacStrength=192,Fa.padLength=128,Fa.prototype._digest=function(t){return"hex"===t?Ms.toHex32(this.h.slice(0,12),"big"):Ms.split32(this.h.slice(0,12),"big")};var Ua={sha1:Js,sha224:la,sha256:aa,sha384:La,sha512:xa},ja=Ms.rotl32,Da=Ms.sum32,za=Ms.sum32_3,qa=Ms.sum32_4,Ga=Ts.BlockHash;function Va(){if(!(this instanceof Va))return new Va;Ga.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ms.inherits(Va,Ga);var Ha=Va;function Wa(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function Ja(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Ka(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}Va.blockSize=512,Va.outSize=160,Va.hmacStrength=192,Va.padLength=64,Va.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],s=this.h[4],a=r,u=n,l=i,c=o,h=s,f=0;f<80;f++){var d=Da(ja(qa(r,Wa(f,n,i,o),t[Xa[f]+e],Ja(f)),Ya[f]),s);r=s,s=o,o=ja(i,10),i=n,n=d,d=Da(ja(qa(a,Wa(79-f,u,l,c),t[Za[f]+e],Ka(f)),Qa[f]),h),a=h,h=c,c=ja(l,10),l=u,u=d}d=za(this.h[1],i,c),this.h[1]=za(this.h[2],o,h),this.h[2]=za(this.h[3],s,a),this.h[3]=za(this.h[4],r,u),this.h[4]=za(this.h[0],n,l),this.h[0]=d},Va.prototype._digest=function(t){return"hex"===t?Ms.toHex32(this.h,"little"):Ms.split32(this.h,"little")};var Xa=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Za=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ya=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Qa=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],tu={ripemd160:Ha};function eu(t,e,r){if(!(this instanceof eu))return new eu(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Ms.toArray(e,r))}var ru=eu;eu.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),Es(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},eu.prototype.update=function(t,e){return this.inner.update(t,e),this},eu.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};var nu=jr((function(t,e){var r=e;r.utils=Ms,r.common=Ts,r.sha=Ua,r.ripemd=tu,r.hmac=ru,r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160})),iu=nu;function ou(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},t(r,r.exports),r.exports}var su=au;function au(t,e){if(!t)throw new Error(e||"Assertion failed")}au.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var uu=ou((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),lu=ou((function(t,e){var r=e;r.assert=su,r.toArray=uu.toArray,r.zero2=uu.zero2,r.toHex=uu.toHex,r.encode=uu.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,u=t.andln(3)+i&3,l=e.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),s=0==(1&u)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==l?u:-u,r[0].push(s),a=0==(1&l)?0:3!==(n=e.andln(7)+o&7)&&5!==n||2!==u?l:-l,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new zr(t,"hex","le")}})),cu=lu.getNAF,hu=lu.getJSF,fu=lu.assert;function du(t,e){this.type=t,this.p=new zr(e.p,16),this.red=e.prime?zr.red(e.prime):zr.mont(this.p),this.zero=new zr(0).toRed(this.red),this.one=new zr(1).toRed(this.red),this.two=new zr(2).toRed(this.red),this.n=e.n&&new zr(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var pu=du;function mu(t,e){this.curve=t,this.type=e,this.precomputed=null}du.prototype.point=function(){throw new Error("Not implemented")},du.prototype.validate=function(){throw new Error("Not implemented")},du.prototype._fixedNafMul=function(t,e){fu(t.precomputed);var r=t._getDoubles(),n=cu(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var u=o+r.step-1;u>=o;u--)s=(s<<1)+n[u];a.push(s)}for(var l=this.jpoint(null,null,null),c=this.jpoint(null,null,null),h=i;h>0;h--){for(o=0;o<a.length;o++)(s=a[o])===h?c=c.mixedAdd(r.points[o]):s===-h&&(c=c.mixedAdd(r.points[o].neg()));l=l.add(c)}return l.toP()},du.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=cu(e,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var u=0;a>=0&&0===o[a];a--)u++;if(a>=0&&u++,s=s.dblp(u),a<0)break;var l=o[a];fu(0!==l),s="affine"===t.type?l>0?s.mixedAdd(i[l-1>>1]):s.mixedAdd(i[-l-1>>1].neg()):l>0?s.add(i[l-1>>1]):s.add(i[-l-1>>1].neg())}return"affine"===t.type?s.toP():s},du.prototype._wnafMulAdd=function(t,e,r,n,i){var o,s,a,u=this._wnafT1,l=this._wnafT2,c=this._wnafT3,h=0;for(o=0;o<n;o++){var f=(a=e[o])._getNAFPoints(t);u[o]=f.wnd,l[o]=f.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var m=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(m[1]=e[d].add(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].add(e[p].neg())):(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=hu(r[d],r[p]);for(h=Math.max(y[0].length,h),c[d]=new Array(h),c[p]=new Array(h),s=0;s<h;s++){var v=0|y[0][s],b=0|y[1][s];c[d][s]=g[3*(v+1)+(b+1)],c[p][s]=0,l[d]=m}}else c[d]=cu(r[d],u[d],this._bitLength),c[p]=cu(r[p],u[p],this._bitLength),h=Math.max(c[d].length,h),h=Math.max(c[p].length,h)}var w=this.jpoint(null,null,null),E=this._wnafT4;for(o=h;o>=0;o--){for(var _=0;o>=0;){var A=!0;for(s=0;s<n;s++)E[s]=0|c[s][o],0!==E[s]&&(A=!1);if(!A)break;_++,o--}if(o>=0&&_++,w=w.dblp(_),o<0)break;for(s=0;s<n;s++){var x=E[s];0!==x&&(x>0?a=l[s][x-1>>1]:x<0&&(a=l[s][-x-1>>1].neg()),w="affine"===a.type?w.mixedAdd(a):w.add(a))}}for(o=0;o<n;o++)l[o]=null;return i?w:w.toP()},du.BasePoint=mu,mu.prototype.eq=function(){throw new Error("Not implemented")},mu.prototype.validate=function(){return this.curve.validate(this)},du.prototype.decodePoint=function(t,e){t=lu.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?fu(t[t.length-1]%2==0):7===t[0]&&fu(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},mu.prototype.encodeCompressed=function(t){return this.encode(t,!0)},mu.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},mu.prototype.encode=function(t,e){return lu.encode(this._encode(e),t)},mu.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},mu.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},mu.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},mu.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},mu.prototype._getBeta=function(){return null},mu.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var gu=ou((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),yu=lu.assert;function vu(t){pu.call(this,"short",t),this.a=new zr(t.a,16).toRed(this.red),this.b=new zr(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}gu(vu,pu);var bu=vu;function wu(t,e,r,n){pu.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new zr(e,16),this.y=new zr(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Eu(t,e,r,n){pu.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new zr(0)):(this.x=new zr(e,16),this.y=new zr(r,16),this.z=new zr(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}vu.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new zr(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new zr(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],yu(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new zr(t.a,16),b:new zr(t.b,16)}})):this._getEndoBasis(r)}}},vu.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:zr.mont(t),r=new zr(2).toRed(e).redInvm(),n=r.redNeg(),i=new zr(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},vu.prototype._getEndoBasis=function(t){for(var e,r,n,i,o,s,a,u,l,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=t,f=this.n.clone(),d=new zr(1),p=new zr(0),m=new zr(0),g=new zr(1),y=0;0!==h.cmpn(0);){var v=f.div(h);u=f.sub(v.mul(h)),l=m.sub(v.mul(d));var b=g.sub(v.mul(p));if(!n&&u.cmp(c)<0)e=a.neg(),r=d,n=u.neg(),i=l;else if(n&&2==++y)break;a=u,f=h,h=u,m=d,d=l,g=p,p=b}o=u.neg(),s=l;var w=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(w)>=0&&(o=e,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},vu.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),l=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:u.add(l).neg()}},vu.prototype.pointFromX=function(t,e){(t=new zr(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},vu.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},vu.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),c=0;c<2*o;c++)n[c]=null,i[c]=null;return l},gu(wu,pu.BasePoint),vu.prototype.point=function(t,e,r){return new wu(this,t,e,r)},vu.prototype.pointFromJSON=function(t,e){return wu.fromJSON(this,t,e)},wu.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},wu.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},wu.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},wu.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},wu.prototype.isInfinity=function(){return this.inf},wu.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},wu.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},wu.prototype.getX=function(){return this.x.fromRed()},wu.prototype.getY=function(){return this.y.fromRed()},wu.prototype.mul=function(t){return t=new zr(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},wu.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},wu.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},wu.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},wu.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},wu.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},gu(Eu,pu.BasePoint),vu.prototype.jpoint=function(t,e,r){return new Eu(this,t,e,r)},Eu.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},Eu.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Eu.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),c=l.redMul(a),h=n.redMul(l),f=u.redSqr().redIAdd(c).redISub(h).redISub(h),d=u.redMul(h.redISub(f)).redISub(o.redMul(c)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(f,d,p)},Eu.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),c=r.redMul(u),h=a.redSqr().redIAdd(l).redISub(c).redISub(c),f=a.redMul(c.redISub(h)).redISub(i.redMul(l)),d=this.z.redMul(s);return this.curve.jpoint(h,f,d)},Eu.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),l=s.redAdd(s);for(e=0;e<t;e++){var c=o.redSqr(),h=l.redSqr(),f=h.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(u)),p=o.redMul(h),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),y=d.redMul(g);y=y.redIAdd(y).redISub(f);var v=l.redMul(a);e+1<t&&(u=u.redMul(f)),o=m,a=v,l=y}return this.curve.jpoint(o,l.redMul(i),a)},Eu.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Eu.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=u,e=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(c).redISub(f);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),m=p.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},Eu.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);t=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var g=h.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},Eu.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),l=(u=u.redIAdd(u)).redMul(s),c=a.redSqr().redISub(l.redAdd(l)),h=l.redISub(c),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(h).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},Eu.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),c=e.redMul(l);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(a).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(l.redMul(u.redISub(l)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,f,d)},Eu.prototype.mul=function(t,e){return t=new zr(t,e),this.curve._wnafMul(this,t)},Eu.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},Eu.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Eu.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Eu.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var _u=ou((function(t,e){var r=e;r.base=pu,r.short=bu,r.mont=null,r.edwards=null})),Au=ou((function(t,e){var r,n=e,i=lu.assert;function o(t){"short"===t.type?this.curve=new _u.short(t):"edwards"===t.type?this.curve=new _u.edwards(t):this.curve=new _u.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new o(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:iu.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:iu.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:iu.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:iu.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:iu.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:iu.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:iu.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(t){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:iu.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function xu(t){if(!(this instanceof xu))return new xu(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=uu.toArray(t.entropy,t.entropyEnc||"hex"),r=uu.toArray(t.nonce,t.nonceEnc||"hex"),n=uu.toArray(t.pers,t.persEnc||"hex");su(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var ku=xu;xu.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},xu.prototype._hmac=function(){return new iu.hmac(this.hash,this.K)},xu.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},xu.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=uu.toArray(t,e),r=uu.toArray(r,n),su(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},xu.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=uu.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(r),this._reseed++,uu.encode(o,e)};var Nu=lu.assert;function Mu(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Su=Mu;Mu.fromPublic=function(t,e,r){return e instanceof Mu?e:new Mu(t,{pub:e,pubEnc:r})},Mu.fromPrivate=function(t,e,r){return e instanceof Mu?e:new Mu(t,{priv:e,privEnc:r})},Mu.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Mu.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},Mu.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},Mu.prototype._importPrivate=function(t,e){this.priv=new zr(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},Mu.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?Nu(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Nu(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},Mu.prototype.derive=function(t){return t.validate()||Nu(t.validate(),"public point not validated"),t.mul(this.priv).getX()},Mu.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},Mu.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},Mu.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Pu=lu.assert;function Tu(t,e){if(t instanceof Tu)return t;this._importDER(t,e)||(Pu(t.r&&t.s,"Signature without r or s"),this.r=new zr(t.r,16),this.s=new zr(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var $u=Tu;function Ru(){this.place=0}function Iu(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function Ou(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function Bu(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}Tu.prototype._importDER=function(t,e){t=lu.toArray(t,e);var r=new Ru;if(48!==t[r.place++])return!1;var n=Iu(t,r);if(!1===n)return!1;if(n+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var i=Iu(t,r);if(!1===i)return!1;var o=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var s=Iu(t,r);if(!1===s)return!1;if(t.length!==s+r.place)return!1;var a=t.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new zr(o),this.s=new zr(a),this.recoveryParam=null,!0},Tu.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=Ou(e),r=Ou(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];Bu(n,e.length),(n=n.concat(e)).push(2),Bu(n,r.length);var i=n.concat(r),o=[48];return Bu(o,i.length),o=o.concat(i),lu.encode(o,t)};var Cu=function(){throw new Error("unsupported")},Fu=lu.assert;function Lu(t){if(!(this instanceof Lu))return new Lu(t);"string"==typeof t&&(Fu(Object.prototype.hasOwnProperty.call(Au,t),"Unknown curve "+t),t=Au[t]),t instanceof Au.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Uu=Lu;Lu.prototype.keyPair=function(t){return new Su(this,t)},Lu.prototype.keyFromPrivate=function(t,e){return Su.fromPrivate(this,t,e)},Lu.prototype.keyFromPublic=function(t,e){return Su.fromPublic(this,t,e)},Lu.prototype.genKeyPair=function(t){t||(t={});for(var e=new ku({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Cu(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new zr(2));;){var i=new zr(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Lu.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Lu.prototype.sign=function(t,e,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new zr(t,16));for(var i=this.n.byteLength(),o=e.getPrivate().toArray("be",i),s=t.toArray("be",i),a=new ku({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new zr(1)),l=0;;l++){var c=n.k?n.k(l):new zr(a.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(u)>=0)){var h=this.g.mul(c);if(!h.isInfinity()){var f=h.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(h.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new $u({r:d,s:p,recoveryParam:m})}}}}}},Lu.prototype.verify=function(t,e,r,n){t=this._truncateToN(new zr(t,16)),r=this.keyFromPublic(r,n);var i=(e=new $u(e,"hex")).r,o=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),u=a.mul(t).umod(this.n),l=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},Lu.prototype.recoverPubKey=function(t,e,r,n){Fu((3&r)===r,"The recovery param is more than two bits"),e=new $u(e,n);var i=this.n,o=new zr(t),s=e.r,a=e.s,u=1&r,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");s=l?this.curve.pointFromX(s.add(this.curve.n),u):this.curve.pointFromX(s,u);var c=e.r.invm(i),h=i.sub(o).mul(c).umod(i),f=a.mul(c).umod(i);return this.g.mulAdd(h,s,f)},Lu.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new $u(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var ju=ou((function(t,e){var r=e;r.version="6.5.4",r.utils=lu,r.rand=function(){throw new Error("unsupported")},r.curve=_u,r.curves=Au,r.ec=Uu,r.eddsa=null})).ec;const Du=new Yr("signing-key/5.6.0");let zu=null;function qu(){return zu||(zu=new ju("secp256k1")),zu}class Gu{constructor(t){Gn(this,"curve","secp256k1"),Gn(this,"privateKey",hn(t));const e=qu().keyFromPrivate(sn(this.privateKey));Gn(this,"publicKey","0x"+e.getPublic(!1,"hex")),Gn(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),Gn(this,"_isSigningKey",!0)}_addPoint(t){const e=qu().keyFromPublic(sn(this.publicKey)),r=qu().keyFromPublic(sn(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=qu().keyFromPrivate(sn(this.privateKey)),r=sn(t);32!==r.length&&Du.throwArgumentError("bad digest length","digest",t);const n=e.sign(r,{canonical:!0});return yn({recoveryParam:n.recoveryParam,r:gn("0x"+n.r.toString(16),32),s:gn("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const e=qu().keyFromPrivate(sn(this.privateKey)),r=qu().keyFromPublic(sn(Vu(t)));return gn("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function Vu(t,e){const r=sn(t);if(32===r.length){const t=new Gu(r);return e?"0x"+qu().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?hn(r):"0x"+qu().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+qu().keyFromPublic(r).getPublic(!0,"hex"):hn(r):Du.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Hu=new Yr("transactions/5.6.0");var Wu;function Ju(t){return"0x"===t?null:zi(t)}function Ku(t){return"0x"===t?ro:xn.from(t)}function Xu(t,e){return function(t){return zi(dn(Pi(dn(Vu(t),1)),12))}(function(t,e){const r=yn(e),n={r:sn(r.r),s:sn(r.s)};return"0x"+qu().recoverPubKey(sn(t),n,r.recoveryParam).encode("hex",!1)}(sn(t),e))}function Zu(t,e){const r=un(xn.from(t).toHexString());return r.length>32&&Hu.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function Yu(t,e){return{address:zi(t),storageKeys:(e||[]).map(((e,r)=>(32!==fn(e)&&Hu.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,e),e.toLowerCase())))}}function Qu(t){if(Array.isArray(t))return t.map(((t,e)=>Array.isArray(t)?(t.length>2&&Hu.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${e}]`,t),Yu(t[0],t[1])):Yu(t.address,t.storageKeys)));const e=Object.keys(t).map((e=>{const r=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return Yu(e,Object.keys(r).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}function tl(t){return Qu(t).map((t=>[t.address,t.storageKeys]))}function el(t,e){if(null!=t.gasPrice){const e=xn.from(t.gasPrice),r=xn.from(t.maxFeePerGas||0);e.eq(r)||Hu.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:e,maxFeePerGas:r})}const r=[Zu(t.chainId||0,"chainId"),Zu(t.nonce||0,"nonce"),Zu(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Zu(t.maxFeePerGas||0,"maxFeePerGas"),Zu(t.gasLimit||0,"gasLimit"),null!=t.to?zi(t.to):"0x",Zu(t.value||0,"value"),t.data||"0x",tl(t.accessList||[])];if(e){const t=yn(e);r.push(Zu(t.recoveryParam,"recoveryParam")),r.push(un(t.r)),r.push(un(t.s))}return pn(["0x02",Oi(r)])}function rl(t,e){const r=[Zu(t.chainId||0,"chainId"),Zu(t.nonce||0,"nonce"),Zu(t.gasPrice||0,"gasPrice"),Zu(t.gasLimit||0,"gasLimit"),null!=t.to?zi(t.to):"0x",Zu(t.value||0,"value"),t.data||"0x",tl(t.accessList||[])];if(e){const t=yn(e);r.push(Zu(t.recoveryParam,"recoveryParam")),r.push(un(t.r)),r.push(un(t.s))}return pn(["0x01",Oi(r)])}function nl(t,e,r){try{const r=Ku(e[0]).toNumber();if(0!==r&&1!==r)throw new Error("bad recid");t.v=r}catch(t){Hu.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=gn(e[1],32),t.s=gn(e[2],32);try{const e=Pi(r(t));t.from=Xu(e,{r:t.r,s:t.s,recoveryParam:t.v})}catch(t){console.log(t)}}function il(t){const e=sn(t);if(e[0]>127)return function(t){const e=Fi(t);9!==e.length&&6!==e.length&&Hu.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Ku(e[0]).toNumber(),gasPrice:Ku(e[1]),gasLimit:Ku(e[2]),to:Ju(e[3]),value:Ku(e[4]),data:e[5],chainId:0};if(6===e.length)return r;try{r.v=xn.from(e[6]).toNumber()}catch(t){return console.log(t),r}if(r.r=gn(e[7],32),r.s=gn(e[8],32),xn.from(r.r).isZero()&&xn.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);0!==r.chainId&&(i.push(hn(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);const o=Pi(Oi(i));try{r.from=Xu(o,{r:hn(r.r),s:hn(r.s),recoveryParam:n})}catch(t){console.log(t)}r.hash=Pi(t)}return r.type=null,r}(e);switch(e[0]){case 1:return function(t){const e=Fi(t.slice(1));8!==e.length&&11!==e.length&&Hu.throwArgumentError("invalid component count for transaction type: 1","payload",hn(t));const r={type:1,chainId:Ku(e[0]).toNumber(),nonce:Ku(e[1]).toNumber(),gasPrice:Ku(e[2]),gasLimit:Ku(e[3]),to:Ju(e[4]),value:Ku(e[5]),data:e[6],accessList:Qu(e[7])};return 8===e.length||(r.hash=Pi(t),nl(r,e.slice(8),rl)),r}(e);case 2:return function(t){const e=Fi(t.slice(1));9!==e.length&&12!==e.length&&Hu.throwArgumentError("invalid component count for transaction type: 2","payload",hn(t));const r=Ku(e[2]),n=Ku(e[3]),i={type:2,chainId:Ku(e[0]).toNumber(),nonce:Ku(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Ku(e[4]),to:Ju(e[5]),value:Ku(e[6]),data:e[7],accessList:Qu(e[8])};return 9===e.length||(i.hash=Pi(t),nl(i,e.slice(9),el)),i}(e)}return Hu.throwError(`unsupported transaction type: ${e[0]}`,Yr.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(Wu||(Wu={}));var ol=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const sl=new Yr("contracts/5.6.0");function al(t,e){return ol(this,void 0,void 0,(function*(){const r=yield e;"string"!=typeof r&&sl.throwArgumentError("invalid address or ENS name","name",r);try{return zi(r)}catch(t){}t||sl.throwError("a provider or signer is needed to resolve ENS names",Yr.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return null==n&&sl.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n}))}function ul(t,e,r){return ol(this,void 0,void 0,(function*(){return Array.isArray(r)?yield Promise.all(r.map(((r,n)=>ul(t,Array.isArray(e)?e[n]:e[r.name],r)))):"address"===r.type?yield al(t,e):"tuple"===r.type?yield ul(t,e,r.components):"array"===r.baseType?Array.isArray(e)?yield Promise.all(e.map((e=>ul(t,e,r.arrayChildren)))):Promise.reject(sl.makeError("invalid value for array",Yr.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e}))}function ll(t,e,r){return ol(this,void 0,void 0,(function*(){let n={};r.length===e.inputs.length+1&&"object"==typeof r[r.length-1]&&(n=Wn(r.pop())),sl.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=Hn({override:al(t.signer,n.from),signer:t.signer.getAddress()}).then((t=>ol(this,void 0,void 0,(function*(){return zi(t.signer)!==t.override&&sl.throwError("Contract with a Signer cannot override from",Yr.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),t.override})))):n.from=t.signer.getAddress():n.from&&(n.from=al(t.provider,n.from));const i=yield Hn({args:ul(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:Hn(n)||{}}),o=t.interface.encodeFunctionData(e,i.args),s={data:o,to:i.address},a=i.overrides;if(null!=a.nonce&&(s.nonce=xn.from(a.nonce).toNumber()),null!=a.gasLimit&&(s.gasLimit=xn.from(a.gasLimit)),null!=a.gasPrice&&(s.gasPrice=xn.from(a.gasPrice)),null!=a.maxFeePerGas&&(s.maxFeePerGas=xn.from(a.maxFeePerGas)),null!=a.maxPriorityFeePerGas&&(s.maxPriorityFeePerGas=xn.from(a.maxPriorityFeePerGas)),null!=a.from&&(s.from=a.from),null!=a.type&&(s.type=a.type),null!=a.accessList&&(s.accessList=Qu(a.accessList)),null==s.gasLimit&&null!=e.gas){let t=21e3;const r=sn(o);for(let e=0;e<r.length;e++)t+=4,r[e]&&(t+=64);s.gasLimit=xn.from(e.gas).add(t)}if(a.value){const t=xn.from(a.value);t.isZero()||e.payable||sl.throwError("non-payable method cannot override value",Yr.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=t}a.customData&&(s.customData=Wn(a.customData)),a.ccipReadEnabled&&(s.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const u=Object.keys(n).filter((t=>null!=n[t]));return u.length&&sl.throwError(`cannot override ${u.map((t=>JSON.stringify(t))).join(",")}`,Yr.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:u}),s}))}function cl(t,e,r){const n=t.signer||t.provider;return function(...i){return ol(this,void 0,void 0,(function*(){let o;if(i.length===e.inputs.length+1&&"object"==typeof i[i.length-1]){const t=Wn(i.pop());null!=t.blockTag&&(o=yield t.blockTag),delete t.blockTag,i.push(t)}null!=t.deployTransaction&&(yield t._deployed(o));const s=yield ll(t,e,i),a=yield n.call(s,o);try{let n=t.interface.decodeFunctionResult(e,a);return r&&1===e.outputs.length&&(n=n[0]),n}catch(e){throw e.code===Yr.errors.CALL_EXCEPTION&&(e.address=t.address,e.args=i,e.transaction=s),e}}))}}function hl(t,e){return function(...r){return ol(this,void 0,void 0,(function*(){t.signer||sl.throwError("sending a transaction requires a signer",Yr.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=t.deployTransaction&&(yield t._deployed());const n=yield ll(t,e,r),i=yield t.signer.sendTransaction(n);return function(t,e){const r=e.wait.bind(e);e.wait=e=>r(e).then((e=>(e.events=e.logs.map((r=>{let n=Zn(r),i=null;try{i=t.interface.parseLog(r)}catch(t){}return i&&(n.args=i.args,n.decode=(e,r)=>t.interface.decodeEventLog(i.eventFragment,e,r),n.event=i.name,n.eventSignature=i.signature),n.removeListener=()=>t.provider,n.getBlock=()=>t.provider.getBlock(e.blockHash),n.getTransaction=()=>t.provider.getTransaction(e.transactionHash),n.getTransactionReceipt=()=>Promise.resolve(e),n})),e)))}(t,i),i}))}}function fl(t,e,r){return e.constant?cl(t,e,r):hl(t,e)}function dl(t){return!t.address||null!=t.topics&&0!==t.topics.length?(t.address||"*")+"@"+(t.topics?t.topics.map((t=>Array.isArray(t)?t.join("|"):t)).join(":"):""):"*"}class pl{constructor(t,e){Gn(this,"tag",t),Gn(this,"filter",e),this._listeners=[]}addListener(t,e){this._listeners.push({listener:t,once:e})}removeListener(t){let e=!1;this._listeners=this._listeners.filter((r=>!(!e&&r.listener===t)||(e=!0,!1)))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map((t=>t.listener))}listenerCount(){return this._listeners.length}run(t){const e=this.listenerCount();return this._listeners=this._listeners.filter((e=>{const r=t.slice();return setTimeout((()=>{e.listener.apply(this,r)}),0),!e.once})),e}prepareEvent(t){}getEmit(t){return[t]}}class ml extends pl{constructor(){super("error",null)}}class gl extends pl{constructor(t,e,r,n){const i={address:t};let o=e.getEventTopic(r);n?(o!==n[0]&&sl.throwArgumentError("topic mismatch","topics",n),i.topics=n.slice()):i.topics=[o],super(dl(i),i),Gn(this,"address",t),Gn(this,"interface",e),Gn(this,"fragment",r)}prepareEvent(t){super.prepareEvent(t),t.event=this.fragment.name,t.eventSignature=this.fragment.format(),t.decode=(t,e)=>this.interface.decodeEventLog(this.fragment,t,e);try{t.args=this.interface.decodeEventLog(this.fragment,t.data,t.topics)}catch(e){t.args=null,t.decodeError=e}}getEmit(t){const e=function(t){const e=[],r=function(t,n){if(Array.isArray(n))for(let i in n){const o=t.slice();o.push(i);try{r(o,n[i])}catch(t){e.push({path:o,error:t})}}};return r([],t),e}(t.args);if(e.length)throw e[0].error;const r=(t.args||[]).slice();return r.push(t),r}}class yl extends pl{constructor(t,e){super("*",{address:t}),Gn(this,"address",t),Gn(this,"interface",e)}prepareEvent(t){super.prepareEvent(t);try{const e=this.interface.parseLog(t);t.event=e.name,t.eventSignature=e.signature,t.decode=(t,r)=>this.interface.decodeEventLog(e.eventFragment,t,r),t.args=e.args}catch(t){}}}class vl extends class{constructor(t,e,r){sl.checkNew(new.target,vl),Gn(this,"interface",Vn(new.target,"getInterface")(e)),null==r?(Gn(this,"provider",null),Gn(this,"signer",null)):bs.isSigner(r)?(Gn(this,"provider",r.provider||null),Gn(this,"signer",r)):ps.isProvider(r)?(Gn(this,"provider",r),Gn(this,"signer",null)):sl.throwArgumentError("invalid signer or provider","signerOrProvider",r),Gn(this,"callStatic",{}),Gn(this,"estimateGas",{}),Gn(this,"functions",{}),Gn(this,"populateTransaction",{}),Gn(this,"filters",{});{const t={};Object.keys(this.interface.events).forEach((e=>{const r=this.interface.events[e];Gn(this.filters,e,((...t)=>({address:this.address,topics:this.interface.encodeFilterTopics(r,t)}))),t[r.name]||(t[r.name]=[]),t[r.name].push(e)})),Object.keys(t).forEach((e=>{const r=t[e];1===r.length?Gn(this.filters,e,this.filters[r[0]]):sl.warn(`Duplicate definition of ${e} (${r.join(", ")})`)}))}if(Gn(this,"_runningEvents",{}),Gn(this,"_wrappedEmits",{}),null==t&&sl.throwArgumentError("invalid contract address or ENS name","addressOrName",t),Gn(this,"address",t),this.provider)Gn(this,"resolvedAddress",al(this.provider,t));else try{Gn(this,"resolvedAddress",Promise.resolve(zi(t)))}catch(t){sl.throwError("provider is required to use ENS name as contract address",Yr.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((t=>{}));const n={},i={};Object.keys(this.interface.functions).forEach((t=>{const e=this.interface.functions[t];if(i[t])sl.warn(`Duplicate ABI entry for ${JSON.stringify(t)}`);else{i[t]=!0;{const r=e.name;n[`%${r}`]||(n[`%${r}`]=[]),n[`%${r}`].push(t)}null==this[t]&&Gn(this,t,fl(this,e,!0)),null==this.functions[t]&&Gn(this.functions,t,fl(this,e,!1)),null==this.callStatic[t]&&Gn(this.callStatic,t,cl(this,e,!0)),null==this.populateTransaction[t]&&Gn(this.populateTransaction,t,function(t,e){return function(...r){return ll(t,e,r)}}(this,e)),null==this.estimateGas[t]&&Gn(this.estimateGas,t,function(t,e){const r=t.signer||t.provider;return function(...n){return ol(this,void 0,void 0,(function*(){r||sl.throwError("estimate require a provider or signer",Yr.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield ll(t,e,n);return yield r.estimateGas(i)}))}}(this,e))}})),Object.keys(n).forEach((t=>{const e=n[t];if(e.length>1)return;t=t.substring(1);const r=e[0];try{null==this[t]&&Gn(this,t,this[r])}catch(t){}null==this.functions[t]&&Gn(this.functions,t,this.functions[r]),null==this.callStatic[t]&&Gn(this.callStatic,t,this.callStatic[r]),null==this.populateTransaction[t]&&Gn(this.populateTransaction,t,this.populateTransaction[r]),null==this.estimateGas[t]&&Gn(this.estimateGas,t,this.estimateGas[r])}))}static getContractAddress(t){return qi(t)}static getInterface(t){return cs.isInterface(t)?t:new cs(t)}deployed(){return this._deployed()}_deployed(t){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((()=>this)):this._deployedPromise=this.provider.getCode(this.address,t).then((t=>("0x"===t&&sl.throwError("contract not deployed",Yr.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this)))),this._deployedPromise}fallback(t){this.signer||sl.throwError("sending a transactions require a signer",Yr.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const e=Wn(t||{});return["from","to"].forEach((function(t){null!=e[t]&&sl.throwError("cannot override "+t,Yr.errors.UNSUPPORTED_OPERATION,{operation:t})})),e.to=this.resolvedAddress,this.deployed().then((()=>this.signer.sendTransaction(e)))}connect(t){"string"==typeof t&&(t=new ws(t,this.provider));const e=new this.constructor(this.address,this.interface,t);return this.deployTransaction&&Gn(e,"deployTransaction",this.deployTransaction),e}attach(t){return new this.constructor(t,this.interface,this.signer||this.provider)}static isIndexed(t){return as.isIndexed(t)}_normalizeRunningEvent(t){return this._runningEvents[t.tag]?this._runningEvents[t.tag]:t}_getRunningEvent(t){if("string"==typeof t){if("error"===t)return this._normalizeRunningEvent(new ml);if("event"===t)return this._normalizeRunningEvent(new pl("event",null));if("*"===t)return this._normalizeRunningEvent(new yl(this.address,this.interface));const e=this.interface.getEvent(t);return this._normalizeRunningEvent(new gl(this.address,this.interface,e))}if(t.topics&&t.topics.length>0){try{const e=t.topics[0];if("string"!=typeof e)throw new Error("invalid topic");const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new gl(this.address,this.interface,r,t.topics))}catch(t){}const e={address:this.address,topics:t.topics};return this._normalizeRunningEvent(new pl(dl(e),e))}return this._normalizeRunningEvent(new yl(this.address,this.interface))}_checkRunningEvents(t){if(0===t.listenerCount()){delete this._runningEvents[t.tag];const e=this._wrappedEmits[t.tag];e&&t.filter&&(this.provider.off(t.filter,e),delete this._wrappedEmits[t.tag])}}_wrapEvent(t,e,r){const n=Zn(e);return n.removeListener=()=>{r&&(t.removeListener(r),this._checkRunningEvents(t))},n.getBlock=()=>this.provider.getBlock(e.blockHash),n.getTransaction=()=>this.provider.getTransaction(e.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(e.transactionHash),t.prepareEvent(n),n}_addEventListener(t,e,r){if(this.provider||sl.throwError("events require a provider or a signer with a provider",Yr.errors.UNSUPPORTED_OPERATION,{operation:"once"}),t.addListener(e,r),this._runningEvents[t.tag]=t,!this._wrappedEmits[t.tag]){const r=r=>{let n=this._wrapEvent(t,r,e);if(null==n.decodeError)try{const e=t.getEmit(n);this.emit(t.filter,...e)}catch(t){n.decodeError=t.error}null!=t.filter&&this.emit("event",n),null!=n.decodeError&&this.emit("error",n.decodeError,n)};this._wrappedEmits[t.tag]=r,null!=t.filter&&this.provider.on(t.filter,r)}}queryFilter(t,e,r){const n=this._getRunningEvent(t),i=Wn(n.filter);return"string"==typeof e&&ln(e,32)?(null!=r&&sl.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),i.blockHash=e):(i.fromBlock=null!=e?e:0,i.toBlock=null!=r?r:"latest"),this.provider.getLogs(i).then((t=>t.map((t=>this._wrapEvent(n,t,null)))))}on(t,e){return this._addEventListener(this._getRunningEvent(t),e,!1),this}once(t,e){return this._addEventListener(this._getRunningEvent(t),e,!0),this}emit(t,...e){if(!this.provider)return!1;const r=this._getRunningEvent(t),n=r.run(e)>0;return this._checkRunningEvents(r),n}listenerCount(t){return this.provider?null==t?Object.keys(this._runningEvents).reduce(((t,e)=>t+this._runningEvents[e].listenerCount()),0):this._getRunningEvent(t).listenerCount():0}listeners(t){if(!this.provider)return[];if(null==t){const t=[];for(let e in this._runningEvents)this._runningEvents[e].listeners().forEach((e=>{t.push(e)}));return t}return this._getRunningEvent(t).listeners()}removeAllListeners(t){if(!this.provider)return this;if(null==t){for(const t in this._runningEvents){const e=this._runningEvents[t];e.removeAllListeners(),this._checkRunningEvents(e)}return this}const e=this._getRunningEvent(t);return e.removeAllListeners(),this._checkRunningEvents(e),this}off(t,e){if(!this.provider)return this;const r=this._getRunningEvent(t);return r.removeListener(e),this._checkRunningEvents(r),this}removeListener(t,e){return this.off(t,e)}}{}class bl{constructor(t){Gn(this,"alphabet",t),Gn(this,"base",t.length),Gn(this,"_alphabetMap",{}),Gn(this,"_leader",t.charAt(0));for(let e=0;e<t.length;e++)this._alphabetMap[t.charAt(e)]=e}encode(t){let e=sn(t);if(0===e.length)return"";let r=[0];for(let t=0;t<e.length;++t){let n=e[t];for(let t=0;t<r.length;++t)n+=r[t]<<8,r[t]=n%this.base,n=n/this.base|0;for(;n>0;)r.push(n%this.base),n=n/this.base|0}let n="";for(let t=0;0===e[t]&&t<e.length-1;++t)n+=this._leader;for(let t=r.length-1;t>=0;--t)n+=this.alphabet[r[t]];return n}decode(t){if("string"!=typeof t)throw new TypeError("Expected String");let e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(let r=0;r<t.length;r++){let n=this._alphabetMap[t[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let t=0;t<e.length;++t)i+=e[t]*this.base,e[t]=255&i,i>>=8;for(;i>0;)e.push(255&i),i>>=8}for(let r=0;t[r]===this._leader&&r<t.length-1;++r)e.push(0);return sn(new Uint8Array(e.reverse()))}}new bl("abcdefghijklmnopqrstuvwxyz234567");const wl=new bl("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function El(t){return"0x"+iu.sha256().update(sn(t)).digest("hex")}new Yr("sha2/5.6.0");const _l=new Yr("networks/5.6.1");function Al(t){const e=function(e,r){null==r&&(r={});const n=[];if(e.InfuraProvider&&"-"!==r.infura)try{n.push(new e.InfuraProvider(t,r.infura))}catch(t){}if(e.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new e.EtherscanProvider(t,r.etherscan))}catch(t){}if(e.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new e.AlchemyProvider(t,r.alchemy))}catch(t){}if(e.PocketProvider&&"-"!==r.pocket){const r=["goerli","ropsten","rinkeby"];try{const i=new e.PocketProvider(t);i.network&&-1===r.indexOf(i.network.name)&&n.push(i)}catch(t){}}if(e.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new e.CloudflareProvider(t))}catch(t){}if(e.AnkrProvider&&"-"!==r.ankr)try{n.push(new e.AnkrProvider(t,r.ankr))}catch(t){}if(0===n.length)return null;if(e.FallbackProvider){let i=1;return null!=r.quorum?i=r.quorum:"homestead"===t&&(i=2),new e.FallbackProvider(n,i)}return n[0]};return e.renetwork=function(t){return Al(t)},e}function xl(t,e){const r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return r.renetwork=function(e){return xl(t,e)},r}const kl={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Al("homestead")},Nl={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Al("ropsten")},Ml={chainId:63,name:"classicMordor",_defaultProvider:xl("https://www.ethercluster.com/mordor","classicMordor")},Sl={unspecified:{chainId:0,name:"unspecified"},homestead:kl,mainnet:kl,morden:{chainId:2,name:"morden"},ropsten:Nl,testnet:Nl,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Al("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Al("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Al("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:xl("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Ml,classicTestnet:Ml,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:xl("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic"},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism"},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Pl(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return sn(e)}function Tl(t){t=sn(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}var $l=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};function Rl(t,e){return $l(this,void 0,void 0,(function*(){null==e&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};!0!==e.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client");const n=yield fetch(t,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach(((t,e)=>{o[e.toLowerCase()]=t})):n.headers.keys().forEach((t=>{o[t.toLowerCase()]=n.headers.get(t)})),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:sn(new Uint8Array(i))}}))}var Il=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Ol=new Yr("web/5.6.0");function Bl(t){return new Promise((e=>{setTimeout(e,t)}))}function Cl(t,e){if(null==t)return null;if("string"==typeof t)return t;if(rn(t)){if(e&&("text"===e.split("/")[0]||"application/json"===e.split(";")[0].trim()))try{return mo(t)}catch(t){}return hn(t)}return t}function Fl(t,e,r){let n=null;if(null!=e){n=fo(e);const r="string"==typeof t?{url:t}:Wn(t);if(r.headers){0!==Object.keys(r.headers).filter((t=>"content-type"===t.toLowerCase())).length||(r.headers=Wn(r.headers),r.headers["content-type"]="application/json")}else r.headers={"content-type":"application/json"};t=r}return function(t,e,r){const n="object"==typeof t&&null!=t.throttleLimit?t.throttleLimit:12;Ol.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);const i="object"==typeof t?t.throttleCallback:null,o="object"==typeof t&&"number"==typeof t.throttleSlotInterval?t.throttleSlotInterval:100;Ol.assertArgument(o>0&&o%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s="object"==typeof t&&!!t.errorPassThrough,a={};let u=null;const l={method:"GET"};let c=!1,h=12e4;if("string"==typeof t)u=t;else if("object"==typeof t){if(null!=t&&null!=t.url||Ol.throwArgumentError("missing URL","connection.url",t),u=t.url,"number"==typeof t.timeout&&t.timeout>0&&(h=t.timeout),t.headers)for(const e in t.headers)a[e.toLowerCase()]={key:e,value:String(t.headers[e])},["if-none-match","if-modified-since"].indexOf(e.toLowerCase())>=0&&(c=!0);if(l.allowGzip=!!t.allowGzip,null!=t.user&&null!=t.password){"https:"!==u.substring(0,6)&&!0!==t.allowInsecureAuthentication&&Ol.throwError("basic authentication requires a secure https url",Yr.errors.INVALID_ARGUMENT,{argument:"url",url:u,user:t.user,password:"[REDACTED]"});const e=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+Tl(fo(e))}}null!=t.skipFetchSetup&&(l.skipFetchSetup=!!t.skipFetchSetup)}const f=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),d=u?u.match(f):null;if(d)try{const t={statusCode:200,statusMessage:"OK",headers:{"content-type":d[1]},body:Pl(d[2])};let e=t.body;return r&&(e=r(t.body,t)),Promise.resolve(e)}catch(t){Ol.throwError("processing response error",Yr.errors.SERVER_ERROR,{body:Cl(d[1],d[2]),error:t,requestBody:null,requestMethod:"GET",url:u})}e&&(l.method="POST",l.body=e,null==a["content-type"]&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==a["content-length"]&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const p={};Object.keys(a).forEach((t=>{const e=a[t];p[e.key]=e.value})),l.headers=p;const m=function(){let t=null;return{promise:new Promise((function(e,r){h&&(t=setTimeout((()=>{null!=t&&(t=null,r(Ol.makeError("timeout",Yr.errors.TIMEOUT,{requestBody:Cl(l.body,p["content-type"]),requestMethod:l.method,timeout:h,url:u})))}),h))})),cancel:function(){null!=t&&(clearTimeout(t),t=null)}}}(),g=function(){return Il(this,void 0,void 0,(function*(){for(let t=0;t<n;t++){let e=null;try{if(e=yield Rl(u,l),t<n)if(301===e.statusCode||302===e.statusCode){const t=e.headers.location||"";if("GET"===l.method&&t.match(/^https:/)){u=e.headers.location;continue}}else if(429===e.statusCode){let r=!0;if(i&&(r=yield i(t,u)),r){let r=0;const n=e.headers["retry-after"];r="string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):o*parseInt(String(Math.random()*Math.pow(2,t))),yield Bl(r);continue}}}catch(t){e=t.response,null==e&&(m.cancel(),Ol.throwError("missing response",Yr.errors.SERVER_ERROR,{requestBody:Cl(l.body,p["content-type"]),requestMethod:l.method,serverError:t,url:u}))}let a=e.body;if(c&&304===e.statusCode?a=null:!s&&(e.statusCode<200||e.statusCode>=300)&&(m.cancel(),Ol.throwError("bad response",Yr.errors.SERVER_ERROR,{status:e.statusCode,headers:e.headers,body:Cl(a,e.headers?e.headers["content-type"]:null),requestBody:Cl(l.body,p["content-type"]),requestMethod:l.method,url:u})),r)try{const t=yield r(a,e);return m.cancel(),t}catch(r){if(r.throttleRetry&&t<n){let e=!0;if(i&&(e=yield i(t,u)),e){const e=o*parseInt(String(Math.random()*Math.pow(2,t)));yield Bl(e);continue}}m.cancel(),Ol.throwError("processing response error",Yr.errors.SERVER_ERROR,{body:Cl(a,e.headers?e.headers["content-type"]:null),error:r,requestBody:Cl(l.body,p["content-type"]),requestMethod:l.method,url:u})}return m.cancel(),a}return Ol.throwError("failed response",Yr.errors.SERVER_ERROR,{requestBody:Cl(l.body,p["content-type"]),requestMethod:l.method,url:u})}))}();return Promise.race([m.promise,g])}(t,n,((t,e)=>{let n=null;if(null!=t)try{n=JSON.parse(mo(t))}catch(e){Ol.throwError("invalid JSON",Yr.errors.SERVER_ERROR,{body:t,error:e})}return r&&(n=r(n,e)),n}))}function Ll(t,e){return e||(e={}),null==(e=Wn(e)).floor&&(e.floor=0),null==e.ceiling&&(e.ceiling=1e4),null==e.interval&&(e.interval=250),new Promise((function(r,n){let i=null,o=!1;const s=()=>!o&&(o=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout((()=>{s()&&n(new Error("timeout"))}),e.timeout));const a=e.retryLimit;let u=0;!function i(){return t().then((function(t){if(void 0!==t)s()&&r(t);else if(e.oncePoll)e.oncePoll.once("poll",i);else if(e.onceBlock)e.onceBlock.once("block",i);else if(!o){if(u++,u>a)return void(s()&&n(new Error("retry limit reached")));let t=e.interval*parseInt(String(Math.random()*Math.pow(2,u)));t<e.floor&&(t=e.floor),t>e.ceiling&&(t=e.ceiling),setTimeout(i,t)}return null}),(function(t){s()&&n(t)}))}()}))}for(var Ul="qpzry9x8gf2tvdw0s3jn54khce6mua7l",jl={},Dl=0;Dl<Ul.length;Dl++){var zl=Ul.charAt(Dl);if(void 0!==jl[zl])throw new TypeError(zl+" is ambiguous");jl[zl]=Dl}function ql(t){var e=t>>25;return(33554431&t)<<5^996825010&-(e>>0&1)^642813549&-(e>>1&1)^513874426&-(e>>2&1)^1027748829&-(e>>3&1)^705979059&-(e>>4&1)}function Gl(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=ql(e)^n>>5}for(e=ql(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=ql(e)^31&i}return e}function Vl(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;var i=(t=r).lastIndexOf("1");if(-1===i)return"No separator character for "+t;if(0===i)return"Missing prefix for "+t;var o=t.slice(0,i),s=t.slice(i+1);if(s.length<6)return"Data too short";var a=Gl(o);if("string"==typeof a)return a;for(var u=[],l=0;l<s.length;++l){var c=s.charAt(l),h=jl[c];if(void 0===h)return"Unknown character "+c;a=ql(a)^h,l+6>=s.length||u.push(h)}return 1!==a?"Invalid checksum for "+t:{prefix:o,words:u}}function Hl(t,e,r,n){for(var i=0,o=0,s=(1<<r)-1,a=[],u=0;u<t.length;++u)for(i=i<<e|t[u],o+=e;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=e)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}var Wl={decodeUnsafe:function(){var t=Vl.apply(null,arguments);if("object"==typeof t)return t},decode:function(t){var e=Vl.apply(null,arguments);if("object"==typeof e)return e;throw new Error(e)},encode:function(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");var n=Gl(t=t.toLowerCase());if("string"==typeof n)throw new Error(n);for(var i=t+"1",o=0;o<e.length;++o){var s=e[o];if(s>>5!=0)throw new Error("Non 5-bit word");n=ql(n)^s,i+=Ul.charAt(s)}for(o=0;o<6;++o)n=ql(n);for(n^=1,o=0;o<6;++o){i+=Ul.charAt(n>>5*(5-o)&31)}return i},toWordsUnsafe:function(t){var e=Hl(t,8,5,!0);if(Array.isArray(e))return e},toWords:function(t){var e=Hl(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)},fromWordsUnsafe:function(t){var e=Hl(t,5,8,!1);if(Array.isArray(e))return e},fromWords:function(t){var e=Hl(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}};const Jl="providers/5.6.2",Kl=new Yr(Jl);class Xl{constructor(){Kl.checkNew(new.target,Xl),this.formats=this.getDefaultFormats()}getDefaultFormats(){const t={},e=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),o=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),u=this.type.bind(this);return t.transaction={hash:o,type:u,accessList:Xl.allowNull(this.accessList.bind(this),null),blockHash:Xl.allowNull(o,null),blockNumber:Xl.allowNull(a,null),transactionIndex:Xl.allowNull(a,null),confirmations:Xl.allowNull(a,null),from:e,gasPrice:Xl.allowNull(r),maxPriorityFeePerGas:Xl.allowNull(r),maxFeePerGas:Xl.allowNull(r),gasLimit:r,to:Xl.allowNull(e,null),value:r,nonce:a,data:i,r:Xl.allowNull(this.uint256),s:Xl.allowNull(this.uint256),v:Xl.allowNull(a),creates:Xl.allowNull(e,null),raw:Xl.allowNull(i)},t.transactionRequest={from:Xl.allowNull(e),nonce:Xl.allowNull(a),gasLimit:Xl.allowNull(r),gasPrice:Xl.allowNull(r),maxPriorityFeePerGas:Xl.allowNull(r),maxFeePerGas:Xl.allowNull(r),to:Xl.allowNull(e),value:Xl.allowNull(r),data:Xl.allowNull((t=>this.data(t,!0))),type:Xl.allowNull(a),accessList:Xl.allowNull(this.accessList.bind(this),null)},t.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:o,address:e,topics:Xl.arrayOf(o),data:i,logIndex:a,blockHash:o},t.receipt={to:Xl.allowNull(this.address,null),from:Xl.allowNull(this.address,null),contractAddress:Xl.allowNull(e,null),transactionIndex:a,root:Xl.allowNull(s),gasUsed:r,logsBloom:Xl.allowNull(i),blockHash:o,transactionHash:o,logs:Xl.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:Xl.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:Xl.allowNull(r),status:Xl.allowNull(a),type:u},t.block={hash:Xl.allowNull(o),parentHash:o,number:a,timestamp:a,nonce:Xl.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:Xl.allowNull(e),extraData:i,transactions:Xl.allowNull(Xl.arrayOf(o)),baseFeePerGas:Xl.allowNull(r)},t.blockWithTransactions=Wn(t.block),t.blockWithTransactions.transactions=Xl.allowNull(Xl.arrayOf(this.transactionResponse.bind(this))),t.filter={fromBlock:Xl.allowNull(n,void 0),toBlock:Xl.allowNull(n,void 0),blockHash:Xl.allowNull(o,void 0),address:Xl.allowNull(e,void 0),topics:Xl.allowNull(this.topics.bind(this),void 0)},t.filterLog={blockNumber:Xl.allowNull(a),blockHash:Xl.allowNull(o),transactionIndex:a,removed:Xl.allowNull(this.boolean.bind(this)),address:e,data:Xl.allowFalsish(i,"0x"),topics:Xl.arrayOf(o),transactionHash:o,logIndex:a},t}accessList(t){return Qu(t||[])}number(t){return"0x"===t?0:xn.from(t).toNumber()}type(t){return"0x"===t||null==t?0:xn.from(t).toNumber()}bigNumber(t){return xn.from(t)}boolean(t){if("boolean"==typeof t)return t;if("string"==typeof t){if("true"===(t=t.toLowerCase()))return!0;if("false"===t)return!1}throw new Error("invalid boolean - "+t)}hex(t,e){return"string"==typeof t&&(e||"0x"===t.substring(0,2)||(t="0x"+t),ln(t))?t.toLowerCase():Kl.throwArgumentError("invalid hash","value",t)}data(t,e){const r=this.hex(t,e);if(r.length%2!=0)throw new Error("invalid data; odd-length - "+t);return r}address(t){return zi(t)}callAddress(t){if(!ln(t,32))return null;const e=zi(dn(t,12));return"0x0000000000000000000000000000000000000000"===e?null:e}contractAddress(t){return qi(t)}blockTag(t){if(null==t)return"latest";if("earliest"===t)return"0x0";if("latest"===t||"pending"===t)return t;if("number"==typeof t||ln(t))return mn(t);throw new Error("invalid blockTag")}hash(t,e){const r=this.hex(t,e);return 32!==fn(r)?Kl.throwArgumentError("invalid hash","value",t):r}difficulty(t){if(null==t)return null;const e=xn.from(t);try{return e.toNumber()}catch(t){}return null}uint256(t){if(!ln(t))throw new Error("invalid uint256");return gn(t,32)}_block(t,e){null!=t.author&&null==t.miner&&(t.miner=t.author);const r=null!=t._difficulty?t._difficulty:t.difficulty,n=Xl.check(e,t);return n._difficulty=null==r?null:xn.from(r),n}block(t){return this._block(t,this.formats.block)}blockWithTransactions(t){return this._block(t,this.formats.blockWithTransactions)}transactionRequest(t){return Xl.check(this.formats.transactionRequest,t)}transactionResponse(t){null!=t.gas&&null==t.gasLimit&&(t.gasLimit=t.gas),t.to&&xn.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),null!=t.input&&null==t.data&&(t.data=t.input),null==t.to&&null==t.creates&&(t.creates=this.contractAddress(t)),1!==t.type&&2!==t.type||null!=t.accessList||(t.accessList=[]);const e=Xl.check(this.formats.transaction,t);if(null!=t.chainId){let r=t.chainId;ln(r)&&(r=xn.from(r).toNumber()),e.chainId=r}else{let r=t.networkId;null==r&&null==e.v&&(r=t.chainId),ln(r)&&(r=xn.from(r).toNumber()),"number"!=typeof r&&null!=e.v&&(r=(e.v-35)/2,r<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),e.chainId=r}return e.blockHash&&"x"===e.blockHash.replace(/0/g,"")&&(e.blockHash=null),e}transaction(t){return il(t)}receiptLog(t){return Xl.check(this.formats.receiptLog,t)}receipt(t){const e=Xl.check(this.formats.receipt,t);if(null!=e.root)if(e.root.length<=4){const t=xn.from(e.root).toNumber();0===t||1===t?(null!=e.status&&e.status!==t&&Kl.throwArgumentError("alt-root-status/status mismatch","value",{root:e.root,status:e.status}),e.status=t,delete e.root):Kl.throwArgumentError("invalid alt-root-status","value.root",e.root)}else 66!==e.root.length&&Kl.throwArgumentError("invalid root hash","value.root",e.root);return null!=e.status&&(e.byzantium=!0),e}topics(t){return Array.isArray(t)?t.map((t=>this.topics(t))):null!=t?this.hash(t,!0):null}filter(t){return Xl.check(this.formats.filter,t)}filterLog(t){return Xl.check(this.formats.filterLog,t)}static check(t,e){const r={};for(const n in t)try{const i=t[n](e[n]);void 0!==i&&(r[n]=i)}catch(t){throw t.checkKey=n,t.checkValue=e[n],t}return r}static allowNull(t,e){return function(r){return null==r?e:t(r)}}static allowFalsish(t,e){return function(r){return r?t(r):e}}static arrayOf(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");const r=[];return e.forEach((function(e){r.push(t(e))})),r}}}var Zl=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Yl=new Yr(Jl);function Ql(t){return null==t?"null":(32!==fn(t)&&Yl.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function tc(t){for(t=t.slice();t.length>0&&null==t[t.length-1];)t.pop();return t.map((t=>{if(Array.isArray(t)){const e={};t.forEach((t=>{e[Ql(t)]=!0}));const r=Object.keys(e);return r.sort(),r.join("|")}return Ql(t)})).join("&")}function ec(t){if("string"==typeof t){if(32===fn(t=t.toLowerCase()))return"tx:"+t;if(-1===t.indexOf(":"))return t}else{if(Array.isArray(t))return"filter:*:"+tc(t);if(ds.isForkEvent(t))throw Yl.warn("not implemented"),new Error("not implemented");if(t&&"object"==typeof t)return"filter:"+(t.address||"*")+":"+tc(t.topics||[])}throw new Error("invalid event - "+t)}function rc(){return(new Date).getTime()}function nc(t){return new Promise((e=>{setTimeout(e,t)}))}const ic=["block","network","pending","poll"];class oc{constructor(t,e,r){Gn(this,"tag",t),Gn(this,"listener",e),Gn(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const t=this.tag.split(":");return"tx"!==t[0]?null:t[1]}get filter(){const t=this.tag.split(":");if("filter"!==t[0])return null;const e=t[1],r=function(t){return""===t?[]:t.split(/&/g).map((t=>{if(""===t)return[];const e=t.split("|").map((t=>"null"===t?null:t));return 1===e.length?e[0]:e}))}(t[2]),n={};return r.length>0&&(n.topics=r),e&&"*"!==e&&(n.address=e),n}pollable(){return this.tag.indexOf(":")>=0||ic.indexOf(this.tag)>=0}}const sc={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function ac(t){return gn(xn.from(t).toHexString(),32)}function uc(t){return wl.encode(an([t,dn(El(El(t)),0,4)]))}const lc=new RegExp("^(ipfs)://(.*)$","i"),cc=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),lc,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function hc(t,e){try{return mo(fc(t,e))}catch(t){}return null}function fc(t,e){if("0x"===t)return null;const r=xn.from(dn(t,e,e+32)).toNumber(),n=xn.from(dn(t,r,r+32)).toNumber();return dn(t,r+32,r+32+n)}function dc(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Yl.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function pc(t){const e=sn(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function mc(t){if(t.length%32==0)return t;const e=new Uint8Array(32*Math.ceil(t.length/32));return e.set(t),e}function gc(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=sn(t[n]);e[n]=pc(r),e.push(pc(i.length)),e.push(mc(i)),r+=32+32*Math.ceil(i.length/32)}return pn(e)}class yc{constructor(t,e,r,n){Gn(this,"provider",t),Gn(this,"name",r),Gn(this,"address",t.formatter.address(e)),Gn(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then((t=>xn.from(t).eq(1))).catch((t=>{if(t.code===Yr.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,t}))),this._supportsEip2544}_fetch(t,e){return Zl(this,void 0,void 0,(function*(){const r={to:this.address,ccipReadEnabled:!0,data:pn([t,jo(this.name),e||"0x"])};let n=!1;var i;(yield this.supportsWildcard())&&(n=!0,r.data=pn(["0x9061b923",gc([(i=this.name,hn(an(i.split(".").map((t=>{const e=fo("_"+Mo(t));return e[0]=e.length-1,e}))))+"00"),r.data])]));try{let t=yield this.provider.call(r);return sn(t).length%32==4&&Yl.throwError("resolver threw error",Yr.errors.CALL_EXCEPTION,{transaction:r,data:t}),n&&(t=fc(t,0)),t}catch(t){if(t.code===Yr.errors.CALL_EXCEPTION)return null;throw t}}))}_fetchBytes(t,e){return Zl(this,void 0,void 0,(function*(){const r=yield this._fetch(t,e);return null!=r?fc(r,0):null}))}_getAddress(t,e){const r=sc[String(t)];if(null==r&&Yl.throwError(`unsupported coin type: ${t}`,Yr.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`}),"eth"===r.ilk)return this.provider.formatter.address(e);const n=sn(e);if(null!=r.p2pkh){const t=e.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return uc(an([[r.p2pkh],"0x"+t[2]]))}}if(null!=r.p2sh){const t=e.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return uc(an([[r.p2sh],"0x"+t[2]]))}}if(null!=r.prefix){const t=n[1];let e=n[0];if(0===e?20!==t&&32!==t&&(e=-1):e=-1,e>=0&&n.length===2+t&&t>=1&&t<=75){const t=Wl.toWords(n.slice(2));return t.unshift(e),Wl.encode(r.prefix,t)}}return null}getAddress(t){return Zl(this,void 0,void 0,(function*(){if(null==t&&(t=60),60===t)try{const t=yield this._fetch("0x3b3b57de");return"0x"===t||"0x0000000000000000000000000000000000000000000000000000000000000000"===t?null:this.provider.formatter.callAddress(t)}catch(t){if(t.code===Yr.errors.CALL_EXCEPTION)return null;throw t}const e=yield this._fetchBytes("0xf1cb7e06",ac(t));if(null==e||"0x"===e)return null;const r=this._getAddress(t,e);return null==r&&Yl.throwError("invalid or unsupported coin data",Yr.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`,coinType:t,data:e}),r}))}getAvatar(){return Zl(this,void 0,void 0,(function*(){const t=[{type:"name",content:this.name}];try{const e=yield this.getText("avatar");if(null==e)return null;for(let r=0;r<cc.length;r++){const n=e.match(cc[r]);if(null==n)continue;const i=n[1].toLowerCase();switch(i){case"https":return t.push({type:"url",content:e}),{linkage:t,url:e};case"data":return t.push({type:"data",content:e}),{linkage:t,url:e};case"ipfs":return t.push({type:"ipfs",content:e}),{linkage:t,url:dc(e)};case"erc721":case"erc1155":{const r="erc721"===i?"0xc87b56dd":"0x0e89341c";t.push({type:i,content:e});const o=this._resolvedAddress||(yield this.getAddress()),s=(n[2]||"").split("/");if(2!==s.length)return null;const a=yield this.provider.formatter.address(s[0]),u=gn(xn.from(s[1]).toHexString(),32);if("erc721"===i){const e=this.provider.formatter.callAddress(yield this.provider.call({to:a,data:pn(["0x6352211e",u])}));if(o!==e)return null;t.push({type:"owner",content:e})}else if("erc1155"===i){const e=xn.from(yield this.provider.call({to:a,data:pn(["0x00fdd58e",gn(o,32),u])}));if(e.isZero())return null;t.push({type:"balance",content:e.toString()})}const l={to:this.provider.formatter.address(s[0]),data:pn([r,u])};let c=hc(yield this.provider.call(l),0);if(null==c)return null;t.push({type:"metadata-url-base",content:c}),"erc1155"===i&&(c=c.replace("{id}",u.substring(2)),t.push({type:"metadata-url-expanded",content:c})),c.match(/^ipfs:/i)&&(c=dc(c)),t.push({type:"metadata-url",content:c});const h=yield Fl(c);if(!h)return null;t.push({type:"metadata",content:JSON.stringify(h)});let f=h.image;if("string"!=typeof f)return null;if(f.match(/^(https:\/\/|data:)/i));else{if(null==f.match(lc))return null;t.push({type:"url-ipfs",content:f}),f=dc(f)}return t.push({type:"url",content:f}),{linkage:t,url:f}}}}}catch(t){}return null}))}getContentHash(){return Zl(this,void 0,void 0,(function*(){const t=yield this._fetchBytes("0xbc1c58d1");if(null==t||"0x"===t)return null;const e=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const t=parseInt(e[3],16);if(e[4].length===2*t)return"ipfs://"+wl.encode("0x"+e[1])}const r=t.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const t=parseInt(r[3],16);if(r[4].length===2*t)return"ipns://"+wl.encode("0x"+r[1])}const n=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);return n&&64===n[1].length?"bzz://"+n[1]:Yl.throwError("invalid or unsupported content hash data",Yr.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t})}))}getText(t){return Zl(this,void 0,void 0,(function*(){let e=fo(t);e=an([ac(64),ac(e.length),e]),e.length%32!=0&&(e=an([e,gn("0x",32-t.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",hn(e));return null==r||"0x"===r?null:mo(r)}))}}let vc=null,bc=1;class wc extends ps{constructor(t){if(Yl.checkNew(new.target,ps),super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Gn(this,"anyNetwork","any"===t),this.anyNetwork&&(t=this.detectNetwork()),t instanceof Promise)this._networkPromise=t,t.catch((t=>{})),this._ready().catch((t=>{}));else{const e=Vn(new.target,"getNetwork")(t);e?(Gn(this,"_network",e),this.emit("network",e,null)):Yl.throwArgumentError("invalid network","network",t)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Zl(this,void 0,void 0,(function*(){if(null==this._network){let t=null;if(this._networkPromise)try{t=yield this._networkPromise}catch(t){}null==t&&(t=yield this.detectNetwork()),t||Yl.throwError("no network detected",Yr.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=t:Gn(this,"_network",t),this.emit("network",t,null))}return this._network}))}get ready(){return Ll((()=>this._ready().then((t=>t),(t=>{if(t.code!==Yr.errors.NETWORK_ERROR||"noNetwork"!==t.event)throw t}))))}static getFormatter(){return null==vc&&(vc=new Xl),vc}static getNetwork(t){return function(t){if(null==t)return null;if("number"==typeof t){for(const e in Sl){const r=Sl[e];if(r.chainId===t)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:t,name:"unknown"}}if("string"==typeof t){const e=Sl[t];return null==e?null:{name:e.name,chainId:e.chainId,ensAddress:e.ensAddress,_defaultProvider:e._defaultProvider||null}}const e=Sl[t.name];if(!e)return"number"!=typeof t.chainId&&_l.throwArgumentError("invalid network chainId","network",t),t;0!==t.chainId&&t.chainId!==e.chainId&&_l.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;var n;return null==r&&e._defaultProvider&&(r=(n=e._defaultProvider)&&"function"==typeof n.renetwork?e._defaultProvider.renetwork(t):e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}(null==t?"homestead":t)}ccipReadFetch(t,e,r){return Zl(this,void 0,void 0,(function*(){if(this.disableCcipRead||0===r.length)return null;const n=t.to.toLowerCase(),i=e.toLowerCase(),o=[];for(let t=0;t<r.length;t++){const e=r[t],s=e.replace("{sender}",n).replace("{data}",i),a=e.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:n}),u=yield Fl({url:s,errorPassThrough:!0},a,((t,e)=>(t.status=e.statusCode,t)));if(u.data)return u.data;const l=u.message||"unknown error";if(u.status>=400&&u.status<500)return Yl.throwError(`response not found during CCIP fetch: ${l}`,Yr.errors.SERVER_ERROR,{url:e,errorMessage:l});o.push(l)}return Yl.throwError(`error encountered during CCIP fetch: ${o.map((t=>JSON.stringify(t))).join(", ")}`,Yr.errors.SERVER_ERROR,{urls:r,errorMessages:o})}))}_getInternalBlockNumber(t){return Zl(this,void 0,void 0,(function*(){if(yield this._ready(),t>0)for(;this._internalBlockNumber;){const e=this._internalBlockNumber;try{const r=yield e;if(rc()-r.respTime<=t)return r.blockNumber;break}catch(t){if(this._internalBlockNumber===e)break}}const e=rc(),r=Hn({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((t=>null),(t=>t))}).then((({blockNumber:t,networkError:n})=>{if(n)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),n;const i=rc();return(t=xn.from(t).toNumber())<this._maxInternalBlockNumber&&(t=this._maxInternalBlockNumber),this._maxInternalBlockNumber=t,this._setFastBlockNumber(t),{blockNumber:t,reqTime:e,respTime:i}}));return this._internalBlockNumber=r,r.catch((t=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)})),(yield r).blockNumber}))}poll(){return Zl(this,void 0,void 0,(function*(){const t=bc++,e=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(t){return void this.emit("error",t)}if(this._setFastBlockNumber(r),this.emit("poll",t,r),r!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)Yl.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",Yl.makeError("network block skew detected",Yr.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let t=this._emitted.block+1;t<=r;t++)this.emit("block",t);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach((t=>{if("block"===t)return;const e=this._emitted[t];"pending"!==e&&r-e>12&&delete this._emitted[t]}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach((t=>{switch(t.type){case"tx":{const r=t.hash;let n=this.getTransactionReceipt(r).then((t=>t&&null!=t.blockNumber?(this._emitted["t:"+r]=t.blockNumber,this.emit(r,t),null):null)).catch((t=>{this.emit("error",t)}));e.push(n);break}case"filter":if(!t._inflight){t._inflight=!0;const n=t.filter;n.fromBlock=t._lastBlockNumber+1,n.toBlock=r,n.toBlock-this._maxFilterBlockRange>n.fromBlock&&(n.fromBlock=n.toBlock-this._maxFilterBlockRange);const i=this.getLogs(n).then((e=>{t._inflight=!1,0!==e.length&&e.forEach((e=>{e.blockNumber>t._lastBlockNumber&&(t._lastBlockNumber=e.blockNumber),this._emitted["b:"+e.blockHash]=e.blockNumber,this._emitted["t:"+e.transactionHash]=e.blockNumber,this.emit(n,e)}))})).catch((e=>{this.emit("error",e),t._inflight=!1}));e.push(i)}}})),this._lastBlockNumber=r,Promise.all(e).then((()=>{this.emit("didPoll",t)})).catch((t=>{this.emit("error",t)}))}else this.emit("didPoll",t)}))}resetEventsBlock(t){this._lastBlockNumber=t-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Zl(this,void 0,void 0,(function*(){return Yl.throwError("provider does not support network detection",Yr.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return Zl(this,void 0,void 0,(function*(){const t=yield this._ready(),e=yield this.detectNetwork();if(t.chainId!==e.chainId){if(this.anyNetwork)return this._network=e,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",e,t),yield nc(0),this._network;const r=Yl.makeError("underlying network changed",Yr.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:e});throw this.emit("error",r),r}return t}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then((t=>{this._setFastBlockNumber(t)}),(t=>{})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(t){t&&!this._poller?(this._poller=setInterval((()=>{this.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((()=>{this.poll(),this._bootstrapPoll=setTimeout((()=>{this._poller||this.poll(),this._bootstrapPoll=null}),this.pollingInterval)}),0))):!t&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(t){if("number"!=typeof t||t<=0||parseInt(String(t))!=t)throw new Error("invalid polling interval");this._pollingInterval=t,this._poller&&(clearInterval(this._poller),this._poller=setInterval((()=>{this.poll()}),this._pollingInterval))}_getFastBlockNumber(){const t=rc();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then((t=>((null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber)))),this._fastBlockNumberPromise}_setFastBlockNumber(t){null!=this._fastBlockNumber&&t<this._fastBlockNumber||(this._fastQueryDate=rc(),(null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t,this._fastBlockNumberPromise=Promise.resolve(t)))}waitForTransaction(t,e,r){return Zl(this,void 0,void 0,(function*(){return this._waitForTransaction(t,null==e?1:e,r||0,null)}))}_waitForTransaction(t,e,r,n){return Zl(this,void 0,void 0,(function*(){const i=yield this.getTransactionReceipt(t);return(i?i.confirmations:0)>=e?i:new Promise(((i,o)=>{const s=[];let a=!1;const u=function(){return!!a||(a=!0,s.forEach((t=>{t()})),!1)},l=t=>{t.confirmations<e||u()||i(t)};if(this.on(t,l),s.push((()=>{this.removeListener(t,l)})),n){let r=n.startBlock,i=null;const l=s=>Zl(this,void 0,void 0,(function*(){a||(yield nc(1e3),this.getTransactionCount(n.from).then((c=>Zl(this,void 0,void 0,(function*(){if(!a){if(c<=n.nonce)r=s;else{{const e=yield this.getTransaction(t);if(e&&null!=e.blockNumber)return}for(null==i&&(i=r-3,i<n.startBlock&&(i=n.startBlock));i<=s;){if(a)return;const r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){const s=r.transactions[i];if(s.hash===t)return;if(s.from===n.from&&s.nonce===n.nonce){if(a)return;const r=yield this.waitForTransaction(s.hash,e);if(u())return;let i="replaced";return s.data===n.data&&s.to===n.to&&s.value.eq(n.value)?i="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(i="cancelled"),void o(Yl.makeError("transaction was replaced",Yr.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(s),hash:t,receipt:r}))}}i++}}a||this.once("block",l)}}))),(t=>{a||this.once("block",l)})))}));if(a)return;this.once("block",l),s.push((()=>{this.removeListener("block",l)}))}if("number"==typeof r&&r>0){const t=setTimeout((()=>{u()||o(Yl.makeError("timeout exceeded",Yr.errors.TIMEOUT,{timeout:r}))}),r);t.unref&&t.unref(),s.push((()=>{clearTimeout(t)}))}}))}))}getBlockNumber(){return Zl(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return Zl(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield this.perform("getGasPrice",{});try{return xn.from(t)}catch(e){return Yl.throwError("bad result from backend",Yr.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:e})}}))}getBalance(t,e){return Zl(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Hn({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getBalance",r);try{return xn.from(n)}catch(t){return Yl.throwError("bad result from backend",Yr.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:t})}}))}getTransactionCount(t,e){return Zl(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Hn({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getTransactionCount",r);try{return xn.from(n).toNumber()}catch(t){return Yl.throwError("bad result from backend",Yr.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:t})}}))}getCode(t,e){return Zl(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Hn({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getCode",r);try{return hn(n)}catch(t){return Yl.throwError("bad result from backend",Yr.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:t})}}))}getStorageAt(t,e,r){return Zl(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield Hn({address:this._getAddress(t),blockTag:this._getBlockTag(r),position:Promise.resolve(e).then((t=>mn(t)))}),i=yield this.perform("getStorageAt",n);try{return hn(i)}catch(t){return Yl.throwError("bad result from backend",Yr.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:t})}}))}_wrapTransaction(t,e,r){if(null!=e&&32!==fn(e))throw new Error("invalid response - sendTransaction");const n=t;return null!=e&&t.hash!==e&&Yl.throwError("Transaction hash mismatch from Provider.sendTransaction.",Yr.errors.UNKNOWN_ERROR,{expectedHash:t.hash,returnedHash:e}),n.wait=(e,n)=>Zl(this,void 0,void 0,(function*(){let i;null==e&&(e=1),null==n&&(n=0),0!==e&&null!=r&&(i={data:t.data,from:t.from,nonce:t.nonce,to:t.to,value:t.value,startBlock:r});const o=yield this._waitForTransaction(t.hash,e,n,i);return null==o&&0===e?null:(this._emitted["t:"+t.hash]=o.blockNumber,0===o.status&&Yl.throwError("transaction failed",Yr.errors.CALL_EXCEPTION,{transactionHash:t.hash,transaction:t,receipt:o}),o)})),n}sendTransaction(t){return Zl(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Promise.resolve(t).then((t=>hn(t))),r=this.formatter.transaction(t);null==r.confirmations&&(r.confirmations=0);const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const t=yield this.perform("sendTransaction",{signedTransaction:e});return this._wrapTransaction(r,t,n)}catch(t){throw t.transaction=r,t.transactionHash=r.hash,t}}))}_getTransactionRequest(t){return Zl(this,void 0,void 0,(function*(){const e=yield t,r={};return["from","to"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?this._getAddress(t):null)))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?xn.from(t):null)))})),["type"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>null!=t?t:null)))})),e.accessList&&(r.accessList=this.formatter.accessList(e.accessList)),["data"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?hn(t):null)))})),this.formatter.transactionRequest(yield Hn(r))}))}_getFilter(t){return Zl(this,void 0,void 0,(function*(){t=yield t;const e={};return null!=t.address&&(e.address=this._getAddress(t.address)),["blockHash","topics"].forEach((r=>{null!=t[r]&&(e[r]=t[r])})),["fromBlock","toBlock"].forEach((r=>{null!=t[r]&&(e[r]=this._getBlockTag(t[r]))})),this.formatter.filter(yield Hn(e))}))}_call(t,e,r){return Zl(this,void 0,void 0,(function*(){r>=10&&Yl.throwError("CCIP read exceeded maximum redirections",Yr.errors.SERVER_ERROR,{redirects:r,transaction:t});const n=t.to,i=yield this.perform("call",{transaction:t,blockTag:e});if(r>=0&&"latest"===e&&null!=n&&"0x556f1830"===i.substring(0,10)&&fn(i)%32==4)try{const o=dn(i,4),s=dn(o,0,32);xn.from(s).eq(n)||Yl.throwError("CCIP Read sender did not match",Yr.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const a=[],u=xn.from(dn(o,32,64)).toNumber(),l=xn.from(dn(o,u,u+32)).toNumber(),c=dn(o,u+32);for(let e=0;e<l;e++){const r=hc(c,32*e);null==r&&Yl.throwError("CCIP Read contained corrupt URL string",Yr.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i}),a.push(r)}const h=fc(o,64);xn.from(dn(o,100,128)).isZero()||Yl.throwError("CCIP Read callback selector included junk",Yr.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const f=dn(o,96,100),d=fc(o,128),p=yield this.ccipReadFetch(t,h,a);null==p&&Yl.throwError("CCIP Read disabled or provided no URLs",Yr.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const m={to:n,data:pn([f,gc([p,d])])};return this._call(m,e,r+1)}catch(t){if(t.code===Yr.errors.SERVER_ERROR)throw t}try{return hn(i)}catch(r){return Yl.throwError("bad result from backend",Yr.errors.SERVER_ERROR,{method:"call",params:{transaction:t,blockTag:e},result:i,error:r})}}))}call(t,e){return Zl(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Hn({transaction:this._getTransactionRequest(t),blockTag:this._getBlockTag(e),ccipReadEnabled:Promise.resolve(t.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)}))}estimateGas(t){return Zl(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Hn({transaction:this._getTransactionRequest(t)}),r=yield this.perform("estimateGas",e);try{return xn.from(r)}catch(t){return Yl.throwError("bad result from backend",Yr.errors.SERVER_ERROR,{method:"estimateGas",params:e,result:r,error:t})}}))}_getAddress(t){return Zl(this,void 0,void 0,(function*(){"string"!=typeof(t=yield t)&&Yl.throwArgumentError("invalid address or ENS name","name",t);const e=yield this.resolveName(t);return null==e&&Yl.throwError("ENS name not configured",Yr.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(t)})`}),e}))}_getBlock(t,e){return Zl(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;let r=-128;const n={includeTransactions:!!e};if(ln(t,32))n.blockHash=t;else try{n.blockTag=yield this._getBlockTag(t),ln(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(e){Yl.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",t)}return Ll((()=>Zl(this,void 0,void 0,(function*(){const t=yield this.perform("getBlock",n);if(null==t)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(e){let e=null;for(let r=0;r<t.transactions.length;r++){const n=t.transactions[r];if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){null==e&&(e=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let t=e-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}}const r=this.formatter.blockWithTransactions(t);return r.transactions=r.transactions.map((t=>this._wrapTransaction(t))),r}return this.formatter.block(t)}))),{oncePoll:this})}))}getBlock(t){return this._getBlock(t,!1)}getBlockWithTransactions(t){return this._getBlock(t,!0)}getTransaction(t){return Zl(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return Ll((()=>Zl(this,void 0,void 0,(function*(){const r=yield this.perform("getTransaction",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;const n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return this._wrapTransaction(n)}))),{oncePoll:this})}))}getTransactionReceipt(t){return Zl(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return Ll((()=>Zl(this,void 0,void 0,(function*(){const r=yield this.perform("getTransactionReceipt",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;if(null==r.blockHash)return;const n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return n}))),{oncePoll:this})}))}getLogs(t){return Zl(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Hn({filter:this._getFilter(t)}),r=yield this.perform("getLogs",e);return r.forEach((t=>{null==t.removed&&(t.removed=!1)})),Xl.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)}))}getEtherPrice(){return Zl(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(t){return Zl(this,void 0,void 0,(function*(){if("number"==typeof(t=yield t)&&t<0){t%1&&Yl.throwArgumentError("invalid BlockTag","blockTag",t);let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return e+=t,e<0&&(e=0),this.formatter.blockTag(e)}return this.formatter.blockTag(t)}))}getResolver(t){return Zl(this,void 0,void 0,(function*(){let e=t;for(;;){if(""===e||"."===e)return null;if("eth"!==t&&"eth"===e)return null;const r=yield this._getResolver(e,"getResolver");if(null!=r){const n=new yc(this,r,t);return e===t||(yield n.supportsWildcard())?n:null}e=e.split(".").slice(1).join(".")}}))}_getResolver(t,e){return Zl(this,void 0,void 0,(function*(){null==e&&(e="ENS");const r=yield this.getNetwork();r.ensAddress||Yl.throwError("network does not support ENS",Yr.errors.UNSUPPORTED_OPERATION,{operation:e,network:r.name});try{const e=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+jo(t).substring(2)});return this.formatter.callAddress(e)}catch(t){}return null}))}resolveName(t){return Zl(this,void 0,void 0,(function*(){t=yield t;try{return Promise.resolve(this.formatter.address(t))}catch(e){if(ln(t))throw e}"string"!=typeof t&&Yl.throwArgumentError("invalid ENS name","name",t);const e=yield this.getResolver(t);return e?yield e.getAddress():null}))}lookupAddress(t){return Zl(this,void 0,void 0,(function*(){t=yield t;const e=(t=this.formatter.address(t)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(e,"lookupAddress");if(null==r)return null;const n=hc(yield this.call({to:r,data:"0x691f3431"+jo(e).substring(2)}),0);return(yield this.resolveName(n))!=t?null:n}))}getAvatar(t){return Zl(this,void 0,void 0,(function*(){let e=null;if(ln(t)){const r=this.formatter.address(t).substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"getAvatar");if(!n)return null;e=new yc(this,n,r);try{const t=yield e.getAvatar();if(t)return t.url}catch(t){if(t.code!==Yr.errors.CALL_EXCEPTION)throw t}try{const t=hc(yield this.call({to:n,data:"0x691f3431"+jo(r).substring(2)}),0);e=yield this.getResolver(t)}catch(t){if(t.code!==Yr.errors.CALL_EXCEPTION)throw t;return null}}else if(e=yield this.getResolver(t),!e)return null;const r=yield e.getAvatar();return null==r?null:r.url}))}perform(t,e){return Yl.throwError(t+" not implemented",Yr.errors.NOT_IMPLEMENTED,{operation:t})}_startEvent(t){this.polling=this._events.filter((t=>t.pollable())).length>0}_stopEvent(t){this.polling=this._events.filter((t=>t.pollable())).length>0}_addEventListener(t,e,r){const n=new oc(ec(t),e,r);return this._events.push(n),this._startEvent(n),this}on(t,e){return this._addEventListener(t,e,!1)}once(t,e){return this._addEventListener(t,e,!0)}emit(t,...e){let r=!1,n=[],i=ec(t);return this._events=this._events.filter((t=>t.tag!==i||(setTimeout((()=>{t.listener.apply(this,e)}),0),r=!0,!t.once||(n.push(t),!1)))),n.forEach((t=>{this._stopEvent(t)})),r}listenerCount(t){if(!t)return this._events.length;let e=ec(t);return this._events.filter((t=>t.tag===e)).length}listeners(t){if(null==t)return this._events.map((t=>t.listener));let e=ec(t);return this._events.filter((t=>t.tag===e)).map((t=>t.listener))}off(t,e){if(null==e)return this.removeAllListeners(t);const r=[];let n=!1,i=ec(t);return this._events=this._events.filter((t=>t.tag!==i||t.listener!=e||(!!n||(n=!0,r.push(t),!1)))),r.forEach((t=>{this._stopEvent(t)})),this}removeAllListeners(t){let e=[];if(null==t)e=this._events,this._events=[];else{const r=ec(t);this._events=this._events.filter((t=>t.tag!==r||(e.push(t),!1)))}return e.forEach((t=>{this._stopEvent(t)})),this}}var Ec=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const _c=new Yr(Jl),Ac=["call","estimateGas"];function xc(t){if(null==t)return null;if("string"==typeof t.message&&t.message.match("reverted")&&ln(t.data))return{message:t.message,data:t.data};if("object"==typeof t){for(const e in t){const r=xc(t[e]);if(r)return r}return null}if("string"==typeof t)try{return xc(JSON.parse(t))}catch(t){}return null}function kc(t,e,r){if("call"===t){const t=xc(e);if(t)return t.data;_c.throwError("missing revert data in call exception",Yr.errors.CALL_EXCEPTION,{error:e,data:"0x"})}let n=e.message;e.code===Yr.errors.SERVER_ERROR&&e.error&&"string"==typeof e.error.message?n=e.error.message:"string"==typeof e.body?n=e.body:"string"==typeof e.responseText&&(n=e.responseText),n=(n||"").toLowerCase();const i=r.transaction||r.signedTransaction;throw n.match(/insufficient funds|base fee exceeds gas limit/)&&_c.throwError("insufficient funds for intrinsic transaction cost",Yr.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:i}),n.match(/nonce too low/)&&_c.throwError("nonce has already been used",Yr.errors.NONCE_EXPIRED,{error:e,method:t,transaction:i}),n.match(/replacement transaction underpriced/)&&_c.throwError("replacement fee too low",Yr.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:i}),n.match(/only replay-protected/)&&_c.throwError("legacy pre-eip-155 transactions not supported",Yr.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:i}),Ac.indexOf(t)>=0&&n.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&_c.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Yr.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:i}),e}function Nc(t){return new Promise((function(e){setTimeout(e,t)}))}function Mc(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Sc(t){return t?t.toLowerCase():t}const Pc={};class Tc extends bs{constructor(t,e,r){if(_c.checkNew(new.target,Tc),super(),t!==Pc)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Gn(this,"provider",e),null==r&&(r=0),"string"==typeof r?(Gn(this,"_address",this.provider.formatter.address(r)),Gn(this,"_index",null)):"number"==typeof r?(Gn(this,"_index",r),Gn(this,"_address",null)):_c.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(t){return _c.throwError("cannot alter JSON-RPC Signer connection",Yr.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new $c(Pc,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((t=>(t.length<=this._index&&_c.throwError("unknown account #"+this._index,Yr.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(t[this._index]))))}sendUncheckedTransaction(t){t=Wn(t);const e=this.getAddress().then((t=>(t&&(t=t.toLowerCase()),t)));if(null==t.gasLimit){const r=Wn(t);r.from=e,t.gasLimit=this.provider.estimateGas(r)}return null!=t.to&&(t.to=Promise.resolve(t.to).then((t=>Ec(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.provider.resolveName(t);return null==e&&_c.throwArgumentError("provided ENS name resolves to null","tx.to",t),e}))))),Hn({tx:Hn(t),sender:e}).then((({tx:e,sender:r})=>{null!=e.from?e.from.toLowerCase()!==r&&_c.throwArgumentError("from address mismatch","transaction",t):e.from=r;const n=this.provider.constructor.hexlifyTransaction(e,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then((t=>t),(t=>kc("sendTransaction",t,n)))}))}signTransaction(t){return _c.throwError("signing transactions is unsupported",Yr.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(t){return Ec(this,void 0,void 0,(function*(){const e=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(t);try{return yield Ll((()=>Ec(this,void 0,void 0,(function*(){const t=yield this.provider.getTransaction(r);if(null!==t)return this.provider._wrapTransaction(t,r,e)}))),{oncePoll:this.provider})}catch(t){throw t.transactionHash=r,t}}))}signMessage(t){return Ec(this,void 0,void 0,(function*(){const e="string"==typeof t?fo(t):t,r=yield this.getAddress();return yield this.provider.send("personal_sign",[hn(e),r.toLowerCase()])}))}_legacySignMessage(t){return Ec(this,void 0,void 0,(function*(){const e="string"==typeof t?fo(t):t,r=yield this.getAddress();return yield this.provider.send("eth_sign",[r.toLowerCase(),hn(e)])}))}_signTypedData(t,e,r){return Ec(this,void 0,void 0,(function*(){const n=yield rs.resolveNames(t,e,r,(t=>this.provider.resolveName(t))),i=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(rs.getPayload(n.domain,e,n.value))])}))}unlock(t){return Ec(this,void 0,void 0,(function*(){const e=this.provider,r=yield this.getAddress();return e.send("personal_unlockAccount",[r.toLowerCase(),t,null])}))}}class $c extends Tc{sendTransaction(t){return this.sendUncheckedTransaction(t).then((t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:e=>this.provider.waitForTransaction(t,e)})))}}const Rc={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Ic extends wc{constructor(t,e){_c.checkNew(new.target,Ic);let r=e;null==r&&(r=new Promise(((t,e)=>{setTimeout((()=>{this.detectNetwork().then((e=>{t(e)}),(t=>{e(t)}))}),0)}))),super(r),t||(t=Vn(this.constructor,"defaultUrl")()),Gn(this,"connection","string"==typeof t?Object.freeze({url:t}):Object.freeze(Wn(t))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((()=>{this._cache.detectNetwork=null}),0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Ec(this,void 0,void 0,(function*(){yield Nc(0);let t=null;try{t=yield this.send("eth_chainId",[])}catch(e){try{t=yield this.send("net_version",[])}catch(t){}}if(null!=t){const e=Vn(this.constructor,"getNetwork");try{return e(xn.from(t).toNumber())}catch(e){return _c.throwError("could not detect network",Yr.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:e})}}return _c.throwError("could not detect network",Yr.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(t){return new Tc(Pc,this,t)}getUncheckedSigner(t){return this.getSigner(t).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((t=>t.map((t=>this.formatter.address(t)))))}send(t,e){const r={method:t,params:e,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Zn(r),provider:this});const n=["eth_chainId","eth_blockNumber"].indexOf(t)>=0;if(n&&this._cache[t])return this._cache[t];const i=Fl(this.connection,JSON.stringify(r),Mc).then((t=>(this.emit("debug",{action:"response",request:r,response:t,provider:this}),t)),(t=>{throw this.emit("debug",{action:"response",error:t,request:r,provider:this}),t}));return n&&(this._cache[t]=i,setTimeout((()=>{this._cache[t]=null}),0)),i}prepareRequest(t,e){switch(t){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Sc(e.address),e.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Sc(e.address),e.blockTag]];case"getCode":return["eth_getCode",[Sc(e.address),e.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Sc(e.address),e.position,e.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[e.signedTransaction]];case"getBlock":return e.blockTag?["eth_getBlockByNumber",[e.blockTag,!!e.includeTransactions]]:e.blockHash?["eth_getBlockByHash",[e.blockHash,!!e.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[e.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[e.transactionHash]];case"call":return["eth_call",[Vn(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0}),e.blockTag]];case"estimateGas":return["eth_estimateGas",[Vn(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0})]];case"getLogs":return e.filter&&null!=e.filter.address&&(e.filter.address=Sc(e.filter.address)),["eth_getLogs",[e.filter]]}return null}perform(t,e){return Ec(this,void 0,void 0,(function*(){if("call"===t||"estimateGas"===t){const t=e.transaction;if(t&&null!=t.type&&xn.from(t.type).isZero()&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((e=Wn(e)).transaction=Wn(t),delete e.transaction.type)}}const r=this.prepareRequest(t,e);null==r&&_c.throwError(t+" not implemented",Yr.errors.NOT_IMPLEMENTED,{operation:t});try{return yield this.send(r[0],r[1])}catch(r){return kc(t,r,e)}}))}_startEvent(t){"pending"===t.tag&&this._startPending(),super._startEvent(t)}_startPending(){if(null!=this._pendingFilter)return;const t=this,e=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=e,e.then((function(r){return function n(){t.send("eth_getFilterChanges",[r]).then((function(r){if(t._pendingFilter!=e)return null;let n=Promise.resolve();return r.forEach((function(e){t._emitted["t:"+e.toLowerCase()]="pending",n=n.then((function(){return t.getTransaction(e).then((function(e){return t.emit("pending",e),null}))}))})),n.then((function(){return Nc(1e3)}))})).then((function(){if(t._pendingFilter==e)return setTimeout((function(){n()}),0),null;t.send("eth_uninstallFilter",[r])})).catch((t=>{}))}(),r})).catch((t=>{}))}_stopEvent(t){"pending"===t.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(t)}static hexlifyTransaction(t,e){const r=Wn(Rc);if(e)for(const t in e)e[t]&&(r[t]=!0);var n,i;i=r,(n=t)&&"object"==typeof n||qn.throwArgumentError("invalid object","object",n),Object.keys(n).forEach((t=>{i[t]||qn.throwArgumentError("invalid object key - "+t,"transaction:"+t,n)}));const o={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(e){if(null==t[e])return;const r=mn(t[e]);"gasLimit"===e&&(e="gas"),o[e]=r})),["from","to","data"].forEach((function(e){null!=t[e]&&(o[e]=hn(t[e]))})),t.accessList&&(o.accessList=Qu(t.accessList)),o}}const Oc=new Yr(Jl);let Bc=1;function Cc(t,e){const r="Web3LegacyFetcher";return function(t,n){const i={method:t,params:n,id:Bc++,jsonrpc:"2.0"};return new Promise(((t,n)=>{this.emit("debug",{action:"request",fetcher:r,request:Zn(i),provider:this}),e(i,((e,o)=>{if(e)return this.emit("debug",{action:"response",fetcher:r,error:e,request:i,provider:this}),n(e);if(this.emit("debug",{action:"response",fetcher:r,request:i,response:o,provider:this}),o.error){const t=new Error(o.error.message);return t.code=o.error.code,t.data=o.error.data,n(t)}t(o.result)}))}))}}class Fc extends Ic{constructor(t,e){Oc.checkNew(new.target,Fc),null==t&&Oc.throwArgumentError("missing provider","provider",t);let r=null,n=null,i=null;"function"==typeof t?(r="unknown:",n=t):(r=t.host||t.path||"",!r&&t.isMetaMask&&(r="metamask"),i=t,t.request?(""===r&&(r="eip-1193:"),n=function(t){return function(e,r){null==r&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Zn(n),provider:this}),t.request(n).then((t=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:t,provider:this}),t)),(t=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:t,provider:this}),t}))}}(t)):t.sendAsync?n=Cc(0,t.sendAsync.bind(t)):t.send?n=Cc(0,t.send.bind(t)):Oc.throwArgumentError("unsupported provider","provider",t),r||(r="unknown:")),super(r,e),Gn(this,"jsonRpcFetchFunc",n),Gn(this,"provider",i)}send(t,e){return this.jsonRpcFetchFunc(t,e)}}const Lc=new Yr("units/5.6.0"),Uc=["wei","kwei","mwei","gwei","szabo","finney","ether"];function jc(t){return function(t,e){if("string"==typeof e){const t=Uc.indexOf(e);-1!==t&&(e=3*t)}return Cn(t,null!=e?e:18)}(t,18)}function Dc(t){return function(t,e){if("string"!=typeof t&&Lc.throwArgumentError("value must be a string","value",t),"string"==typeof e){const t=Uc.indexOf(e);-1!==t&&(e=3*t)}return Fn(t,null!=e?e:18)}(t,18)}new Yr("ethers/5.6.2");const zc=[{inputs:[{internalType:"contract PantherToken",name:"_panther",type:"address"},{internalType:"uint256",name:"_startBlock",type:"uint256"},{internalType:"uint256",name:"_pantherPerBlock",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"pid",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"pid",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EmergencyWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!1,internalType:"uint256",name:"previousAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newAmount",type:"uint256"}],name:"EmissionRateUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"referrer",type:"address"},{indexed:!1,internalType:"uint256",name:"commissionAmount",type:"uint256"}],name:"ReferralCommissionPaid",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"pid",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountLockedUp",type:"uint256"}],name:"RewardLockedUp",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"pid",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"BONUS_MULTIPLIER",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAXIMUM_HARVEST_INTERVAL",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAXIMUM_REFERRAL_COMMISSION_RATE",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_allocPoint",type:"uint256"},{internalType:"contract IBEP20",name:"_lpToken",type:"address"},{internalType:"uint16",name:"_depositFeeBP",type:"uint16"},{internalType:"uint256",name:"_harvestInterval",type:"uint256"},{internalType:"bool",name:"_withUpdate",type:"bool"}],name:"add",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"},{internalType:"address",name:"_user",type:"address"}],name:"canHarvest",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_referrer",type:"address"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"devAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"}],name:"emergencyWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"feeAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_from",type:"uint256"},{internalType:"uint256",name:"_to",type:"uint256"}],name:"getMultiplier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"massUpdatePools",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"panther",outputs:[{internalType:"contract PantherToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pantherPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pantherReferral",outputs:[{internalType:"contract IPantherReferral",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"},{internalType:"address",name:"_user",type:"address"}],name:"pendingPanther",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"poolInfo",outputs:[{internalType:"contract IBEP20",name:"lpToken",type:"address"},{internalType:"uint256",name:"allocPoint",type:"uint256"},{internalType:"uint256",name:"lastRewardBlock",type:"uint256"},{internalType:"uint256",name:"accPantherPerShare",type:"uint256"},{internalType:"uint16",name:"depositFeeBP",type:"uint16"},{internalType:"uint256",name:"harvestInterval",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"referralCommissionRate",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"},{internalType:"uint256",name:"_allocPoint",type:"uint256"},{internalType:"uint16",name:"_depositFeeBP",type:"uint16"},{internalType:"uint256",name:"_harvestInterval",type:"uint256"},{internalType:"bool",name:"_withUpdate",type:"bool"}],name:"set",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_devAddress",type:"address"}],name:"setDevAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_feeAddress",type:"address"}],name:"setFeeAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IPantherReferral",name:"_pantherReferral",type:"address"}],name:"setPantherReferral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"_referralCommissionRate",type:"uint16"}],name:"setReferralCommissionRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"startBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalAllocPoint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalLockedUpRewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_pantherPerBlock",type:"uint256"}],name:"updateEmissionRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"}],name:"updatePool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"userInfo",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"rewardDebt",type:"uint256"},{internalType:"uint256",name:"rewardLockedUp",type:"uint256"},{internalType:"uint256",name:"nextHarvestUntil",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],qc="0x058451C62B96c594aD984370eDA8B6FD7197bbd4",Gc=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],type:"function"}],Vc=new Ic("https://rpc.ankr.com/bsc"),Hc=new vl(qc,zc,Vc);let Wc,Jc,Kc;const Xc="0xc8af4B1C97c0141a08F96301d0e1A49D5423DD26";async function Zc(t){try{return Qc((await Wc.getBalance(t)).toHexString())}catch(t){return 0}}function Yc(t){return Dc(String(t)).toHexString()}function Qc(t){return Number(jc(t))}async function th(t){const{lpToken:e}=await async function(t){return Hc.poolInfo(t)}(t);return e}async function eh(t,e){const r=await th(t),n=await async function(t,e){return new vl(t,Gc,Vc).balanceOf(e)}(r,e);return Qc(n)}async function rh(t,e){const{amount:r}=await Hc.userInfo(t,e);return r}async function nh(t,e){return Qc(await rh(t,e))}async function ih(t,e){return Qc(await Hc.pendingPanther(t,e))}async function oh(t){return Jc.deposit(t,0,Xc)}async function sh(t,e){return Jc.deposit(t,Yc(e),Xc)}async function ah(t,e){return Jc.withdraw(t,Yc(e))}async function uh(t,e){const r=rh(t,e);return Jc.withdraw(t,r)}window.ethereum&&(Wc=new Fc(window.ethereum,"any"),Kc=Wc.getSigner(),Jc=new vl(qc,zc,Wc).connect(Kc));const lh=Bt(null),ch=Bt(null),hh=Bt(null),fh=Bt(!0),dh=Bt(!1),ph=Bt(!1),mh=Bt(null),gh=Bt(""),yh=Ct(lh,(t=>!!t)),vh=Ct(hh,(t=>56===t)),bh=Ct([lh,hh],(([t,e])=>56===e&&!!t));async function wh(t,e,r=[],n){dh.set(!0),gh.set(t);const[i,o]=await async function(t,e=[]){try{return[await t.apply(null,e),!0]}catch(t){return[Eh(t),!1]}}(e,r);return new Promise(((t,e)=>{if(!o){dh.set(!1);const{code:t}=i;if(e(t),4001===t)return;return Tr.danger({message:`Une erreur est survenue. ${i}`,indefinite:!0})}const r=i.hash;mh.set(r),ph.set(!0),Wc.once(r,(async e=>{Tr.success("Transaction confirmée !"),ph.set(!1),dh.set(!1),t(e),await(null==n?void 0:n())}))}))}function Eh(t){const{code:e,message:r,data:n}=t;if("INSUFFICIENT_FUNDS"===e)return"Fonds insuffisants.";if(n.message)return n.message;if("number"==typeof e)return t;try{return JSON.parse(r.substring(r.indexOf("{"),r.indexOf("}}}")+3))}catch(e){return t}}function _h(t){let e,r,n,i,o,s,a,u=t[1].toFixed(4)+"";function l(e){t[8](e)}let c={max:t[1],step:1e-18,block:!0};return void 0!==t[3]&&(c.value=t[3]),o=new Fe({props:c}),nt.push((()=>Mt(o,"value",l))),{c(){e=I("p"),r=O("Balance: "),n=O(u),i=B(),St(o.$$.fragment)},m(t,s){T(t,e,s),M(e,r),M(e,n),T(t,i,s),Pt(o,t,s),a=!0},p(t,e){(!a||2&e)&&u!==(u=t[1].toFixed(4)+"")&&j(n,u);const r={};2&e&&(r.max=t[1]),!s&&8&e&&(s=!0,r.value=t[3],ct((()=>s=!1))),o.$set(r)},i(t){a||(_t(o.$$.fragment,t),a=!0)},o(t){At(o.$$.fragment,t),a=!1},d(t){t&&$(e),t&&$(i),Tt(o,t)}}}function Ah(t){let e,r;return e=new je({props:{$$slots:{default:[_h]},$$scope:{ctx:t}}}),{c(){St(e.$$.fragment)},m(t,n){Pt(e,t,n),r=!0},p(t,r){const n={};1034&r&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){r||(_t(e.$$.fragment,t),r=!0)},o(t){At(e.$$.fragment,t),r=!1},d(t){Tt(e,t)}}}function xh(t){let e;return{c(){e=O("Max")},m(t,r){T(t,e,r)},d(t){t&&$(e)}}}function kh(t){let e;return{c(){e=O(t[2])},m(t,r){T(t,e,r)},p(t,r){4&r&&j(e,t[2])},d(t){t&&$(e)}}}function Nh(t){let e,r,n,i;return e=new Qt({props:{type:"warning",$$slots:{default:[xh]},$$scope:{ctx:t}}}),e.$on("click",t[7]),n=new Qt({props:{$$slots:{default:[kh]},$$scope:{ctx:t}}}),n.$on("click",t[4]),{c(){St(e.$$.fragment),r=B(),St(n.$$.fragment)},m(t,o){Pt(e,t,o),T(t,r,o),Pt(n,t,o),i=!0},p(t,r){const i={};1024&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i);const o={};1028&r&&(o.$$scope={dirty:r,ctx:t}),n.$set(o)},i(t){i||(_t(e.$$.fragment,t),_t(n.$$.fragment,t),i=!0)},o(t){At(e.$$.fragment,t),At(n.$$.fragment,t),i=!1},d(t){Tt(e,t),t&&$(r),Tt(n,t)}}}function Mh(t){let e,r;return e=new we({props:{active:t[0],title:t[2],$$slots:{footer:[Nh],default:[Ah]},$$scope:{ctx:t}}}),e.$on("close",t[5]),{c(){St(e.$$.fragment)},m(t,n){Pt(e,t,n),r=!0},p(t,[r]){const n={};1&r&&(n.active=t[0]),4&r&&(n.title=t[2]),1038&r&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){r||(_t(e.$$.fragment,t),r=!0)},o(t){At(e.$$.fragment,t),r=!1},d(t){Tt(e,t)}}}function Sh(t,e,r){let{active:n=!1}=e,{pid:i}=e,{balance:o}=e,{action:s}=e;const a=tt();let u=0;return t.$$set=t=>{"active"in t&&r(0,n=t.active),"pid"in t&&r(6,i=t.pid),"balance"in t&&r(1,o=t.balance),"action"in t&&r(2,s=t.action)},[n,o,s,u,async function(){await wh(s,"Withdraw"===s?ah:sh,[i,u])},function(){r(3,u=0),a("close")},i,()=>r(3,u=o),function(t){u=t,r(3,u)}]}(async()=>{window.ethereum?(window.ethereum.on("accountsChanged",(async([t])=>{lh.set(t),ch.set(await Zc(t))})),Wc.on("block",(t=>{lh.subscribe((async t=>{t&&ch.set(await Zc(t))}))})),Wc.on("network",((t,e)=>{e&&window.location.reload()})),lh.set(await async function(){try{return await Kc.getAddress()}catch(t){return null}}()),hh.set(await async function(){try{const{chainId:t}=await Wc.getNetwork();return t}catch(t){return null}}())):fh.set(!1)})();class Ph extends Rt{constructor(t){super(),$t(this,t,Sh,Mh,a,{active:0,pid:6,balance:1,action:2})}}function Th(e){let r,n;return r=new yr({props:{infinite:!0,striped:!0,type:"secondary"}}),{c(){St(r.$$.fragment)},m(t,e){Pt(r,t,e),n=!0},p:t,i(t){n||(_t(r.$$.fragment,t),n=!0)},o(t){At(r.$$.fragment,t),n=!1},d(t){Tt(r,t)}}}Ph.open=function(t){const e=new Ph({target:document.body,props:Object.assign({active:!0},t),intro:!0});return e.close=e.$destroy,e};class $h extends Rt{constructor(t){super(),$t(this,t,null,Th,a,{})}}var Rh=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}},Ih=Object.prototype.toString;function Oh(t){return Array.isArray(t)}function Bh(t){return void 0===t}function Ch(t){return"[object ArrayBuffer]"===Ih.call(t)}function Fh(t){return null!==t&&"object"==typeof t}function Lh(t){if("[object Object]"!==Ih.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function Uh(t){return"[object Function]"===Ih.call(t)}function jh(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),Oh(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}var Dh={isArray:Oh,isArrayBuffer:Ch,isBuffer:function(t){return null!==t&&!Bh(t)&&null!==t.constructor&&!Bh(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"[object FormData]"===Ih.call(t)},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&Ch(t.buffer)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:Fh,isPlainObject:Lh,isUndefined:Bh,isDate:function(t){return"[object Date]"===Ih.call(t)},isFile:function(t){return"[object File]"===Ih.call(t)},isBlob:function(t){return"[object Blob]"===Ih.call(t)},isFunction:Uh,isStream:function(t){return Fh(t)&&Uh(t.pipe)},isURLSearchParams:function(t){return"[object URLSearchParams]"===Ih.call(t)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:jh,merge:function t(){var e={};function r(r,n){Lh(e[n])&&Lh(r)?e[n]=t(e[n],r):Lh(r)?e[n]=t({},r):Oh(r)?e[n]=r.slice():e[n]=r}for(var n=0,i=arguments.length;n<i;n++)jh(arguments[n],r);return e},extend:function(t,e,r){return jh(e,(function(e,n){t[n]=r&&"function"==typeof e?Rh(e,r):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}};function zh(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var qh=function(t,e,r){if(!e)return t;var n;if(r)n=r(e);else if(Dh.isURLSearchParams(e))n=e.toString();else{var i=[];Dh.forEach(e,(function(t,e){null!=t&&(Dh.isArray(t)?e+="[]":t=[t],Dh.forEach(t,(function(t){Dh.isDate(t)?t=t.toISOString():Dh.isObject(t)&&(t=JSON.stringify(t)),i.push(zh(e)+"="+zh(t))})))})),n=i.join("&")}if(n){var o=t.indexOf("#");-1!==o&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+n}return t};function Gh(){this.handlers=[]}Gh.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},Gh.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},Gh.prototype.forEach=function(t){Dh.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var Vh=Gh,Hh=function(t,e){Dh.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))},Wh=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},Jh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Kh=function(t,e,r,n,i){var o=new Error(t);return Wh(o,e,r,n,i)},Xh=Dh.isStandardBrowserEnv()?{write:function(t,e,r,n,i,o){var s=[];s.push(t+"="+encodeURIComponent(e)),Dh.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),Dh.isString(n)&&s.push("path="+n),Dh.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Zh=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Yh=Dh.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=n(window.location.href),function(e){var r=Dh.isString(e)?n(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0};function Qh(t){this.message=t}Qh.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Qh.prototype.__CANCEL__=!0;var tf=Qh,ef=function(t){return new Promise((function(e,r){var n,i=t.data,o=t.headers,s=t.responseType;function a(){t.cancelToken&&t.cancelToken.unsubscribe(n),t.signal&&t.signal.removeEventListener("abort",n)}Dh.isFormData(i)&&delete o["Content-Type"];var u=new XMLHttpRequest;if(t.auth){var l=t.auth.username||"",c=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.Authorization="Basic "+btoa(l+":"+c)}var h,f,d=(h=t.baseURL,f=t.url,h&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(f)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(h,f):f);function p(){if(u){var n="getAllResponseHeaders"in u?function(t){var e,r,n,i={};return t?(Dh.forEach(t.split("\n"),(function(t){if(n=t.indexOf(":"),e=Dh.trim(t.substr(0,n)).toLowerCase(),r=Dh.trim(t.substr(n+1)),e){if(i[e]&&Zh.indexOf(e)>=0)return;i[e]="set-cookie"===e?(i[e]?i[e]:[]).concat([r]):i[e]?i[e]+", "+r:r}})),i):i}(u.getAllResponseHeaders()):null;!function(t,e,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(Kh("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}((function(t){e(t),a()}),(function(t){r(t),a()}),{data:s&&"text"!==s&&"json"!==s?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:n,config:t,request:u}),u=null}}if(u.open(t.method.toUpperCase(),qh(d,t.params,t.paramsSerializer),!0),u.timeout=t.timeout,"onloadend"in u?u.onloadend=p:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(p)},u.onabort=function(){u&&(r(Kh("Request aborted",t,"ECONNABORTED",u)),u=null)},u.onerror=function(){r(Kh("Network Error",t,null,u)),u=null},u.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",n=t.transitional||Jh;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(Kh(e,t,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",u)),u=null},Dh.isStandardBrowserEnv()){var m=(t.withCredentials||Yh(d))&&t.xsrfCookieName?Xh.read(t.xsrfCookieName):void 0;m&&(o[t.xsrfHeaderName]=m)}"setRequestHeader"in u&&Dh.forEach(o,(function(t,e){void 0===i&&"content-type"===e.toLowerCase()?delete o[e]:u.setRequestHeader(e,t)})),Dh.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),s&&"json"!==s&&(u.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&u.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(n=function(t){u&&(r(!t||t&&t.type?new tf("canceled"):t),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(n),t.signal&&(t.signal.aborted?n():t.signal.addEventListener("abort",n))),i||(i=null),u.send(i)}))},rf={"Content-Type":"application/x-www-form-urlencoded"};function nf(t,e){!Dh.isUndefined(t)&&Dh.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var of,sf={transitional:Jh,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(of=ef),of),transformRequest:[function(t,e){return Hh(e,"Accept"),Hh(e,"Content-Type"),Dh.isFormData(t)||Dh.isArrayBuffer(t)||Dh.isBuffer(t)||Dh.isStream(t)||Dh.isFile(t)||Dh.isBlob(t)?t:Dh.isArrayBufferView(t)?t.buffer:Dh.isURLSearchParams(t)?(nf(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Dh.isObject(t)||e&&"application/json"===e["Content-Type"]?(nf(e,"application/json"),function(t,e,r){if(Dh.isString(t))try{return(e||JSON.parse)(t),Dh.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||sf.transitional,r=e&&e.silentJSONParsing,n=e&&e.forcedJSONParsing,i=!r&&"json"===this.responseType;if(i||n&&Dh.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(i){if("SyntaxError"===t.name)throw Wh(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Dh.forEach(["delete","get","head"],(function(t){sf.headers[t]={}})),Dh.forEach(["post","put","patch"],(function(t){sf.headers[t]=Dh.merge(rf)}));var af=sf,uf=function(t,e,r){var n=this||af;return Dh.forEach(r,(function(r){t=r.call(n,t,e)})),t},lf=function(t){return!(!t||!t.__CANCEL__)};function cf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new tf("canceled")}var hf=function(t){return cf(t),t.headers=t.headers||{},t.data=uf.call(t,t.data,t.headers,t.transformRequest),t.headers=Dh.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Dh.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||af.adapter)(t).then((function(e){return cf(t),e.data=uf.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return lf(e)||(cf(t),e&&e.response&&(e.response.data=uf.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},ff=function(t,e){e=e||{};var r={};function n(t,e){return Dh.isPlainObject(t)&&Dh.isPlainObject(e)?Dh.merge(t,e):Dh.isPlainObject(e)?Dh.merge({},e):Dh.isArray(e)?e.slice():e}function i(r){return Dh.isUndefined(e[r])?Dh.isUndefined(t[r])?void 0:n(void 0,t[r]):n(t[r],e[r])}function o(t){if(!Dh.isUndefined(e[t]))return n(void 0,e[t])}function s(r){return Dh.isUndefined(e[r])?Dh.isUndefined(t[r])?void 0:n(void 0,t[r]):n(void 0,e[r])}function a(r){return r in e?n(t[r],e[r]):r in t?n(void 0,t[r]):void 0}var u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a};return Dh.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=u[t]||i,n=e(t);Dh.isUndefined(n)&&e!==a||(r[t]=n)})),r},df="0.26.1",pf=df,mf={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){mf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));var gf={};mf.transitional=function(t,e,r){function n(t,e){return"[Axios v"+pf+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(r,i,o){if(!1===t)throw new Error(n(i," has been removed"+(e?" in "+e:"")));return e&&!gf[i]&&(gf[i]=!0,console.warn(n(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,i,o)}};var yf={assertOptions:function(t,e,r){if("object"!=typeof t)throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var o=n[i],s=e[o];if(s){var a=t[o],u=void 0===a||s(a,o,t);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==r)throw Error("Unknown option "+o)}},validators:mf},vf=yf.validators;function bf(t){this.defaults=t,this.interceptors={request:new Vh,response:new Vh}}bf.prototype.request=function(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},(e=ff(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;void 0!==r&&yf.assertOptions(r,{silentJSONParsing:vf.transitional(vf.boolean),forcedJSONParsing:vf.transitional(vf.boolean),clarifyTimeoutError:vf.transitional(vf.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,s=[];if(this.interceptors.response.forEach((function(t){s.push(t.fulfilled,t.rejected)})),!i){var a=[hf,void 0];for(Array.prototype.unshift.apply(a,n),a=a.concat(s),o=Promise.resolve(e);a.length;)o=o.then(a.shift(),a.shift());return o}for(var u=e;n.length;){var l=n.shift(),c=n.shift();try{u=l(u)}catch(t){c(t);break}}try{o=hf(u)}catch(t){return Promise.reject(t)}for(;s.length;)o=o.then(s.shift(),s.shift());return o},bf.prototype.getUri=function(t){return t=ff(this.defaults,t),qh(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},Dh.forEach(["delete","get","head","options"],(function(t){bf.prototype[t]=function(e,r){return this.request(ff(r||{},{method:t,url:e,data:(r||{}).data}))}})),Dh.forEach(["post","put","patch"],(function(t){bf.prototype[t]=function(e,r,n){return this.request(ff(n||{},{method:t,url:e,data:r}))}}));var wf=bf;function Ef(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;this.promise.then((function(t){if(r._listeners){var e,n=r._listeners.length;for(e=0;e<n;e++)r._listeners[e](t);r._listeners=null}})),this.promise.then=function(t){var e,n=new Promise((function(t){r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t){r.reason||(r.reason=new tf(t),e(r.reason))}))}Ef.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Ef.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},Ef.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},Ef.source=function(){var t;return{token:new Ef((function(e){t=e})),cancel:t}};var _f=Ef;var Af=function t(e){var r=new wf(e),n=Rh(wf.prototype.request,r);return Dh.extend(n,wf.prototype,r),Dh.extend(n,r),n.create=function(r){return t(ff(e,r))},n}(af);Af.Axios=wf,Af.Cancel=tf,Af.CancelToken=_f,Af.isCancel=lf,Af.VERSION=df,Af.all=function(t){return Promise.all(t)},Af.spread=function(t){return function(e){return t.apply(null,e)}},Af.isAxiosError=function(t){return Dh.isObject(t)&&!0===t.isAxiosError};var xf=Af,kf=Af;xf.default=kf;var Nf=xf;const Mf=async function(t){try{const{data:e}=await Nf(`https://api.coingecko.com/api/v3/simple/price?ids=${t}&vs_currencies=usd`);return e[t].usd}catch(t){return null}}.bind(null,"pantherswap");var Sf=[["PANTHER","BUSD"],["PANTHER","WBNB"],["WBNB","BUSD"],["BTCB","WBNB"],["ETH","WBNB"],["DOT","WBNB"],["USDT","WBNB"],["CAKE","BUSD"],["CAKE","WBNB"],["PANTHER"],["BUSD"],["WBNB"],["BTCB"],["ETH"],["CAKE"],["USDC","BUSD"],["PANTHER","BUSD"],["PANTHER","WBNB"],["WBNB","BUSD"],["BTCB","WBNB"],["ETH","WBNB"],["DOT","WBNB"],["USDT","WBNB"],["CAKE","WBNB"],["USDC","BUSD"],["USDT","BUSD"],["BTCB","BUSD"],["WBNB","UNI"],["XRP","WBNB"],["DAI","BUSD"],["VAI","BUSD"],["ADA","WBNB"],["DOGE","WBNB"],["WBNB","LINK"],["LTC","WBNB"],["UST","BUSD"],["WBNB","SHARK"],["BUSD","SHARK"],["TRX","WBNB"],["WBNB","XVS"],["ETH","SUSHI"],["BCH","BUSD"],["SXP","WBNB"],["TWT","WBNB"],["JAWS","BUSD"],["WBNB","JAWS"],["Warden","WBNB"],["WBNB","O3"],["PIRATE","WBNB"]];function Pf(t,e,r){const n=t.slice();return n[12]=e[r].pid,n[13]=e[r].rewards,n[14]=e[r].staked,n[15]=e[r].label,n[16]=e[r].LP,n[17]=e[r].tokens,n[18]=e[r].stakable,n}function Tf(t,e,r){const n=t.slice();return n[21]=e[r],n[23]=r,n}function $f(t){let e,r,n,i,o,s;const a=[If,Rf],u=[];function l(t,e){return t[2]?0:1}e=l(t),r=u[e]=a[e](t);let c=t[3]&&Bf(t),h=t[4],f=[];for(let e=0;e<h.length;e+=1)f[e]=Vf(Pf(t,h,e));const d=t=>At(f[t],1,1,(()=>{f[t]=null}));return{c(){r.c(),n=B(),c&&c.c(),i=B(),o=I("div");for(let t=0;t<f.length;t+=1)f[t].c();L(o,"class","pool-list svelte-18fluwe")},m(t,r){u[e].m(t,r),T(t,n,r),c&&c.m(t,r),T(t,i,r),T(t,o,r);for(let t=0;t<f.length;t+=1)f[t].m(o,null);s=!0},p(t,s){let p=e;if(e=l(t),e===p?u[e].p(t,s):(wt(),At(u[p],1,1,(()=>{u[p]=null})),Et(),r=u[e],r?r.p(t,s):(r=u[e]=a[e](t),r.c()),_t(r,1),r.m(n.parentNode,n)),t[3]?c?(c.p(t,s),8&s&&_t(c,1)):(c=Bf(t),c.c(),_t(c,1),c.m(i.parentNode,i)):c&&(wt(),At(c,1,1,(()=>{c=null})),Et()),209&s){let e;for(h=t[4],e=0;e<h.length;e+=1){const r=Pf(t,h,e);f[e]?(f[e].p(r,s),_t(f[e],1)):(f[e]=Vf(r),f[e].c(),_t(f[e],1),f[e].m(o,null))}for(wt(),e=h.length;e<f.length;e+=1)d(e);Et()}},i(t){if(!s){_t(r),_t(c);for(let t=0;t<h.length;t+=1)_t(f[t]);s=!0}},o(t){At(r),At(c),f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)At(f[t]);s=!1},d(t){u[e].d(t),t&&$(n),c&&c.d(t),t&&$(i),t&&$(o),R(f,t)}}}function Rf(t){let e,r;return e=new je({props:{$$slots:{default:[Of]},$$scope:{ctx:t}}}),{c(){St(e.$$.fragment)},m(t,n){Pt(e,t,n),r=!0},p(t,r){const n={};16777218&r&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){r||(_t(e.$$.fragment,t),r=!0)},o(t){At(e.$$.fragment,t),r=!1},d(t){Tt(e,t)}}}function If(e){let r,n;return r=new $h({}),{c(){St(r.$$.fragment)},m(t,e){Pt(r,t,e),n=!0},p:t,i(t){n||(_t(r.$$.fragment,t),n=!0)},o(t){At(r.$$.fragment,t),n=!1},d(t){Tt(r,t)}}}function Of(t){let e,r,n;function i(e){t[9](e)}let o={placeholder:"Searck token...",block:!0};return void 0!==t[1]&&(o.value=t[1]),e=new Ne({props:o}),nt.push((()=>Mt(e,"value",i))),{c(){St(e.$$.fragment)},m(t,r){Pt(e,t,r),n=!0},p(t,n){const i={};!r&&2&n&&(r=!0,i.value=t[1],ct((()=>r=!1))),e.$set(i)},i(t){n||(_t(e.$$.fragment,t),n=!0)},o(t){At(e.$$.fragment,t),n=!1},d(t){Tt(e,t)}}}function Bf(t){let e,r;return e=new oe({props:{type:"success",$$slots:{default:[Cf]},$$scope:{ctx:t}}}),{c(){St(e.$$.fragment)},m(t,n){Pt(e,t,n),r=!0},p(t,r){const n={};16777224&r&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){r||(_t(e.$$.fragment,t),r=!0)},o(t){At(e.$$.fragment,t),r=!1},d(t){Tt(e,t)}}}function Cf(t){let e,r,n,i=t[3].toFixed(2)+"";return{c(){e=O("To Harvest: "),r=O(i),n=O("$")},m(t,i){T(t,e,i),T(t,r,i),T(t,n,i)},p(t,e){8&e&&i!==(i=t[3].toFixed(2)+"")&&j(r,i)},d(t){t&&$(e),t&&$(r),t&&$(n)}}}function Ff(t){let e,r,n,i,o,s,a,u,l,c,h,f,d,p,m,g=t[14].toFixed(3)+"",y=(t[16]?"LP Token":t[15])+"",v=Math.floor(t[13])+"",b=(t[13]*t[0]).toFixed(2)+"";return{c(){e=I("p"),r=O("Staked: "),n=O(g),i=B(),o=O(y),s=B(),a=I("p"),u=O("Pending Rewards: "),l=O(v),c=O(" PANTHER"),h=B(),f=I("p"),d=O(b),p=O("$"),m=B(),L(e,"class","text-secondary"),L(f,"class","text-success")},m(t,g){T(t,e,g),M(e,r),M(e,n),M(e,i),M(e,o),T(t,s,g),T(t,a,g),M(a,u),M(a,l),M(a,c),T(t,h,g),T(t,f,g),M(f,d),M(f,p),T(t,m,g)},p(t,e){16&e&&g!==(g=t[14].toFixed(3)+"")&&j(n,g),16&e&&y!==(y=(t[16]?"LP Token":t[15])+"")&&j(o,y),16&e&&v!==(v=Math.floor(t[13])+"")&&j(l,v),17&e&&b!==(b=(t[13]*t[0]).toFixed(2)+"")&&j(d,b)},d(t){t&&$(e),t&&$(s),t&&$(a),t&&$(h),t&&$(f),t&&$(m)}}}function Lf(t){let e,r,n;return{c(){e=I("img"),l(e.src,r="img/"+t[21].toLowerCase()+".png")||L(e,"src",r),L(e,"class","coin-logo margin-top svelte-18fluwe"),L(e,"alt",n=t[21]),z(e,"z-index",t[17].length-t[23],!1),z(e,"margin-left",1===t[23]?"-8px":"0",!1)},m(t,r){T(t,e,r)},p(t,i){16&i&&!l(e.src,r="img/"+t[21].toLowerCase()+".png")&&L(e,"src",r),16&i&&n!==(n=t[21])&&L(e,"alt",n),16&i&&z(e,"z-index",t[17].length-t[23],!1)},d(t){t&&$(e)}}}function Uf(t){let e,r,n,i,o=t[15]+"",s=t[17],a=[];for(let e=0;e<s.length;e+=1)a[e]=Lf(Tf(t,s,e));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=B(),r=I("h4"),n=O(o),i=B(),L(r,"class","margin-small")},m(t,o){for(let e=0;e<a.length;e+=1)a[e].m(t,o);T(t,e,o),T(t,r,o),M(r,n),T(t,i,o)},p(t,r){if(16&r){let n;for(s=t[17],n=0;n<s.length;n+=1){const i=Tf(t,s,n);a[n]?a[n].p(i,r):(a[n]=Lf(i),a[n].c(),a[n].m(e.parentNode,e))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}16&r&&o!==(o=t[15]+"")&&j(n,o)},d(t){R(a,t),t&&$(e),t&&$(r),t&&$(i)}}}function jf(t){let e;return{c(){e=O("Harvest")},m(t,r){T(t,e,r)},d(t){t&&$(e)}}}function Df(t){let e;return{c(){e=O("Stake")},m(t,r){T(t,e,r)},d(t){t&&$(e)}}}function zf(t){let e;return{c(){e=O("Withdraw")},m(t,r){T(t,e,r)},d(t){t&&$(e)}}}function qf(t){let e;return{c(){e=O("Withdraw All")},m(t,r){T(t,e,r)},d(t){t&&$(e)}}}function Gf(t){let e,r,n,i,o,a,u,l,c;return e=new Qt({props:{type:"success",disabled:!t[13],$$slots:{default:[jf]},$$scope:{ctx:t}}}),e.$on("click",(function(){s(t[6].bind(null,t[12]))&&t[6].bind(null,t[12]).apply(this,arguments)})),n=new Qt({props:{type:"secondary",disabled:!t[18],$$slots:{default:[Df]},$$scope:{ctx:t}}}),n.$on("click",(function(){s(Ph.open.bind(null,{pid:t[12],balance:t[18],action:"Deposit"}))&&Ph.open.bind(null,{pid:t[12],balance:t[18],action:"Deposit"}).apply(this,arguments)})),o=new Qt({props:{type:"secondary",disabled:!t[14],$$slots:{default:[zf]},$$scope:{ctx:t}}}),o.$on("click",(function(){s(Ph.open.bind(null,{pid:t[12],balance:t[14],action:"Withdraw"}))&&Ph.open.bind(null,{pid:t[12],balance:t[14],action:"Withdraw"}).apply(this,arguments)})),u=new Qt({props:{type:"warning",disabled:!t[14],$$slots:{default:[qf]},$$scope:{ctx:t}}}),u.$on("click",(function(){s(t[7].bind(null,t[12]))&&t[7].bind(null,t[12]).apply(this,arguments)})),{c(){St(e.$$.fragment),r=B(),St(n.$$.fragment),i=B(),St(o.$$.fragment),a=B(),St(u.$$.fragment),l=B()},m(t,s){Pt(e,t,s),T(t,r,s),Pt(n,t,s),T(t,i,s),Pt(o,t,s),T(t,a,s),Pt(u,t,s),T(t,l,s),c=!0},p(r,i){t=r;const s={};16&i&&(s.disabled=!t[13]),16777216&i&&(s.$$scope={dirty:i,ctx:t}),e.$set(s);const a={};16&i&&(a.disabled=!t[18]),16777216&i&&(a.$$scope={dirty:i,ctx:t}),n.$set(a);const l={};16&i&&(l.disabled=!t[14]),16777216&i&&(l.$$scope={dirty:i,ctx:t}),o.$set(l);const c={};16&i&&(c.disabled=!t[14]),16777216&i&&(c.$$scope={dirty:i,ctx:t}),u.$set(c)},i(t){c||(_t(e.$$.fragment,t),_t(n.$$.fragment,t),_t(o.$$.fragment,t),_t(u.$$.fragment,t),c=!0)},o(t){At(e.$$.fragment,t),At(n.$$.fragment,t),At(o.$$.fragment,t),At(u.$$.fragment,t),c=!1},d(t){Tt(e,t),t&&$(r),Tt(n,t),t&&$(i),Tt(o,t),t&&$(a),Tt(u,t),t&&$(l)}}}function Vf(t){let e,r;return e=new fr({props:{class:"border border-5",width:"480px",$$slots:{footer:[Gf],header:[Uf],default:[Ff]},$$scope:{ctx:t}}}),{c(){St(e.$$.fragment)},m(t,n){Pt(e,t,n),r=!0},p(t,r){const n={};16777233&r&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){r||(_t(e.$$.fragment,t),r=!0)},o(t){At(e.$$.fragment,t),r=!1},d(t){Tt(e,t)}}}function Hf(t){let e,r,n,i,o=t[5]&&$f(t);return{c(){e=I("h1"),e.textContent="farms & pools",r=B(),o&&o.c(),n=C()},m(t,s){T(t,e,s),T(t,r,s),o&&o.m(t,s),T(t,n,s),i=!0},p(t,[e]){t[5]?o?(o.p(t,e),32&e&&_t(o,1)):(o=$f(t),o.c(),_t(o,1),o.m(n.parentNode,n)):o&&(wt(),At(o,1,1,(()=>{o=null})),Et())},i(t){i||(_t(o),i=!0)},o(t){At(o),i=!1},d(t){t&&$(e),t&&$(r),o&&o.d(t),t&&$(n)}}}function Wf(t,e,r){let n,i,o,s;h(t,lh,(t=>r(10,o=t))),h(t,bh,(t=>r(5,s=t)));let a,u=[],l="",c=!0;return Q((async()=>{r(0,a=await Mf());const t=await async function(){return(await Hc.poolLength()).toNumber()}();lh.subscribe((async e=>{await async function(t,e){const n=[],i=[],o=[];for(let s=0;s<e;s++){const e=Sf[s];n[s]=ih(s,t),i[s]=nh(s,t),o[s]=eh(s,t),r(8,u[s]={pid:s,rewards:0,staked:0,label:e.join(" - "),LP:2===e.length,tokens:e,stakable:0},u)}for(let t=0;t<e;t++)r(8,u[t]=Object.assign(Object.assign({},u[t]),{rewards:await n[t],staked:await i[t],stakable:await o[t]}),u)}(e,t),r(2,c=!1)}))})),t.$$.update=()=>{258&t.$$.dirty&&r(4,n=u.filter((t=>t.tokens.some((t=>t.toLowerCase().includes(l.toLowerCase())))))),257&t.$$.dirty&&r(3,i=u.reduce(((t,{rewards:e})=>t+e*a),0))},[a,l,c,i,n,s,async function(t){await wh(`Harvesting ${u[t].label}`,oh,[t])},async function(t){await wh(`Withdrawing All from ${u[t].label}`,uh,[t,o])},u,function(t){l=t,r(1,l)}]}var Jf={"/":class extends Rt{constructor(t){super(),$t(this,t,null,Vt,a,{})}},"/farms":class extends Rt{constructor(t){super(),$t(this,t,Wf,Hf,a,{})}}};function Kf(e){let r;return{c(){r=I("p"),r.textContent="Confirmer la transaction dans votre wallet"},m(t,e){T(t,r,e)},p:t,d(t){t&&$(r)}}}function Xf(t){let e,r,n,i,o,s,a;return{c(){e=I("p"),e.textContent="Transaction en cours",r=B(),n=I("a"),i=O("Voir sur l'explorateur ➚"),L(n,"href",o=`https://bscscan.com/tx/${t[3]}`),L(n,"target","_blank")},m(o,u){T(o,e,u),T(o,r,u),T(o,n,u),M(n,i),s||(a=F(n,"click",t[4]),s=!0)},p(t,e){8&e&&o!==(o=`https://bscscan.com/tx/${t[3]}`)&&L(n,"href",o)},d(t){t&&$(e),t&&$(r),t&&$(n),s=!1,a()}}}function Zf(t){let e,r,n,i;function o(t,e){return t[2]?Xf:Kf}e=new $h({});let s=o(t),a=s(t);return{c(){St(e.$$.fragment),r=B(),a.c(),n=C()},m(t,o){Pt(e,t,o),T(t,r,o),a.m(t,o),T(t,n,o),i=!0},p(t,e){s===(s=o(t))&&a?a.p(t,e):(a.d(1),a=s(t),a&&(a.c(),a.m(n.parentNode,n)))},i(t){i||(_t(e.$$.fragment,t),i=!0)},o(t){At(e.$$.fragment,t),i=!1},d(t){Tt(e,t),t&&$(r),a.d(t),t&&$(n)}}}function Yf(t){let e,r,n;function i(e){t[5](e)}let o={title:t[1],closeBtnText:"Fermer",$$slots:{default:[Zf]},$$scope:{ctx:t}};return void 0!==t[0]&&(o.active=t[0]),e=new we({props:o}),nt.push((()=>Mt(e,"active",i))),{c(){St(e.$$.fragment)},m(t,r){Pt(e,t,r),n=!0},p(t,[n]){const i={};2&n&&(i.title=t[1]),76&n&&(i.$$scope={dirty:n,ctx:t}),!r&&1&n&&(r=!0,i.active=t[0],ct((()=>r=!1))),e.$set(i)},i(t){n||(_t(e.$$.fragment,t),n=!0)},o(t){At(e.$$.fragment,t),n=!1},d(t){Tt(e,t)}}}function Qf(t,e,r){let n,i,o,s;h(t,dh,(t=>r(0,n=t))),h(t,gh,(t=>r(1,i=t))),h(t,ph,(t=>r(2,o=t))),h(t,mh,(t=>r(3,s=t)));return[n,i,o,s,()=>dh.set(!1),function(t){n=t,dh.set(n)}]}class td extends Rt{constructor(t){super(),$t(this,t,Qf,Yf,a,{})}}function ed(t){let e,r=(t[0]||"Connexion")+"";return{c(){e=O(r)},m(t,r){T(t,e,r)},p(t,n){1&n&&r!==(r=(t[0]||"Connexion")+"")&&j(e,r)},d(t){t&&$(e)}}}function rd(e){let r;return{c(){r=O("Mauvais reseau, passer sur BSC pour profiter de nos services")},m(t,e){T(t,r,e)},p:t,d(t){t&&$(r)}}}function nd(e){let r;return{c(){r=O("Installez Metamask pour vous connecter")},m(t,e){T(t,r,e)},p:t,d(t){t&&$(r)}}}function id(t){let e;function r(t,e){return t[1]?t[2]?ed:rd:nd}let n=r(t),i=n(t);return{c(){i.c(),e=C()},m(t,r){i.m(t,r),T(t,e,r)},p(t,o){n===(n=r(t))&&i?i.p(t,o):(i.d(1),i=n(t),i&&(i.c(),i.m(e.parentNode,e)))},d(t){i.d(t),t&&$(e)}}}function od(t){let e,r;return e=new Qt({props:{outline:"secondary",disabled:!t[1]||!t[2],$$slots:{default:[id]},$$scope:{ctx:t}}}),e.$on("click",t[3]),{c(){St(e.$$.fragment)},m(t,n){Pt(e,t,n),r=!0},p(t,[r]){const n={};6&r&&(n.disabled=!t[1]||!t[2]),71&r&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){r||(_t(e.$$.fragment,t),r=!0)},o(t){At(e.$$.fragment,t),r=!1},d(t){Tt(e,t)}}}function sd(t,e,r){let n,i,o,s,a;return h(t,lh,(t=>r(4,i=t))),h(t,yh,(t=>r(5,o=t))),h(t,fh,(t=>r(1,s=t))),h(t,vh,(t=>r(2,a=t))),t.$$.update=()=>{48&t.$$.dirty&&r(0,n=o?i.substring(0,4)+"..."+i.substring(i.length-4):"")},[n,s,a,async function(){const t=await async function(){try{const[t]=await Wc.send("eth_requestAccounts",[]);return t}catch(t){return null}}();lh.set(t)},i,o]}class ad extends Rt{constructor(t){super(),$t(this,t,sd,od,a,{})}}function ud(t){let e,r,n,i;return{c(){e=O(t[0]),r=B(),n=I("img"),l(n.src,i="img/bnb.png")||L(n,"src","img/bnb.png"),L(n,"alt","BNB"),L(n,"class","svelte-10v1b9d")},m(t,i){T(t,e,i),T(t,r,i),T(t,n,i)},p(t,r){1&r&&j(e,t[0])},d(t){t&&$(e),t&&$(r),t&&$(n)}}}function ld(t){let e,r;return e=new oe({props:{type:"",$$slots:{default:[ud]},$$scope:{ctx:t}}}),{c(){St(e.$$.fragment)},m(t,n){Pt(e,t,n),r=!0},p(t,[r]){const n={};5&r&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){r||(_t(e.$$.fragment,t),r=!0)},o(t){At(e.$$.fragment,t),r=!1},d(t){Tt(e,t)}}}function cd(t,e,r){let n,{amount:i=0}=e;return t.$$set=t=>{"amount"in t&&r(1,i=t.amount)},t.$$.update=()=>{2&t.$$.dirty&&r(0,n=null==i?void 0:i.toLocaleString("fullwide",{minimumFractionDigits:0,maximumFractionDigits:5}))},[n,i]}class hd extends Rt{constructor(t){super(),$t(this,t,cd,ld,a,{amount:1})}}function fd(t){let e;return{c(){e=O("Farms")},m(t,r){T(t,e,r)},d(t){t&&$(e)}}}function dd(t){let e,r,n;return r=new hd({props:{amount:t[1]}}),{c(){e=I("li"),St(r.$$.fragment)},m(t,i){T(t,e,i),Pt(r,e,null),n=!0},p(t,e){const n={};2&e&&(n.amount=t[1]),r.$set(n)},i(t){n||(_t(r.$$.fragment,t),n=!0)},o(t){At(r.$$.fragment,t),n=!1},d(t){t&&$(e),Tt(r)}}}function pd(t){let e,r,n,i,o,s,a,u;n=new Qt({props:{outline:"secondary",href:"./#/farms",$$slots:{default:[fd]},$$scope:{ctx:t}}}),s=new ad({});let l=t[0]&&dd(t);return{c(){e=I("ul"),r=I("li"),St(n.$$.fragment),i=B(),o=I("li"),St(s.$$.fragment),a=B(),l&&l.c(),L(e,"class","inline")},m(t,c){T(t,e,c),M(e,r),Pt(n,r,null),M(e,i),M(e,o),Pt(s,o,null),M(e,a),l&&l.m(e,null),u=!0},p(t,r){const i={};4&r&&(i.$$scope={dirty:r,ctx:t}),n.$set(i),t[0]?l?(l.p(t,r),1&r&&_t(l,1)):(l=dd(t),l.c(),_t(l,1),l.m(e,null)):l&&(wt(),At(l,1,1,(()=>{l=null})),Et())},i(t){u||(_t(n.$$.fragment,t),_t(s.$$.fragment,t),_t(l),u=!0)},o(t){At(n.$$.fragment,t),At(s.$$.fragment,t),At(l),u=!1},d(t){t&&$(e),Tt(n),Tt(s),l&&l.d()}}}function md(t){let e;return{c(){e=I("h3"),e.innerHTML='<a href="./#/">PannetherSwap</a>',L(e,"slot","brand")},m(t,r){T(t,e,r)},d(t){t&&$(e)}}}function gd(t){let e,r;return e=new he({props:{class:"padding",$$slots:{brand:[md],default:[pd]},$$scope:{ctx:t}}}),{c(){St(e.$$.fragment)},m(t,n){Pt(e,t,n),r=!0},p(t,[r]){const n={};7&r&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){r||(_t(e.$$.fragment,t),r=!0)},o(t){At(e.$$.fragment,t),r=!1},d(t){Tt(e,t)}}}function yd(t,e,r){let n,i;return h(t,bh,(t=>r(0,n=t))),h(t,ch,(t=>r(1,i=t))),[n,i]}class vd extends Rt{constructor(t){super(),$t(this,t,yd,gd,a,{})}}function bd(e){let r,n,i,o,s,a,u;return r=new vd({}),i=new td({}),a=new Gt({props:{routes:Jf}}),{c(){St(r.$$.fragment),n=B(),St(i.$$.fragment),o=B(),s=I("main"),St(a.$$.fragment),L(s,"class","paper border")},m(t,e){Pt(r,t,e),T(t,n,e),Pt(i,t,e),T(t,o,e),T(t,s,e),Pt(a,s,null),u=!0},p:t,i(t){u||(_t(r.$$.fragment,t),_t(i.$$.fragment,t),_t(a.$$.fragment,t),u=!0)},o(t){At(r.$$.fragment,t),At(i.$$.fragment,t),At(a.$$.fragment,t),u=!1},d(t){Tt(r,t),t&&$(n),Tt(i,t),t&&$(o),t&&$(s),Tt(a)}}}return new class extends Rt{constructor(t){super(),$t(this,t,null,bd,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
